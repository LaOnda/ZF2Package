<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>7.2. Zend\Http\Request</title>
<link rel="stylesheet" href="dbstyle.css" type="text/css">
<meta name="generator" content="DocBook XSL-NS Stylesheets V1.75.2">
<link rel="home" href="index.html" title="Programmer's Reference Guide">
<link rel="up" href="zend.http.html" title="Chapter 7. Zend_Http">
<link rel="prev" href="zend.http.html" title="Chapter 7. Zend_Http">
<link rel="next" href="zend.http.response.html" title="7.3. Zend\Http\Response">
<link rel="part" href="introduction.html" title="Part I. Introduction to Zend Framework">
<link rel="chapter" href="introduction.overview.html" title="Chapter 1. Overview">
<link rel="chapter" href="introduction.installation.html" title="Chapter 2. Installation">
<link rel="part" href="learning.html" title="Part II. Learning Zend Framework">
<link rel="chapter" href="learning.di.html" title="Chapter 3. Learning Dependency Injection">
<link rel="article" href="ar01.html" title="">
<link rel="part" href="reference.html" title="Part III. Zend Framework Reference">
<link rel="chapter" href="zend.cache.html" title="Chapter 4. Zend\Cache">
<link rel="chapter" href="zend.di.html" title="Chapter 5. Zend\Di">
<link rel="chapter" href="zend.event-manager.html" title="Chapter 6. Zend\EventManager">
<link rel="chapter" href="zend.http.html" title="Chapter 7. Zend_Http">
<link rel="chapter" href="zend.loader.html" title="Chapter 8. Zend_Loader">
<link rel="chapter" href="zend.mail.html" title="Chapter 9. Zend\Mail">
<link rel="chapter" href="zend.module.html" title="Chapter 10. Zend\Module">
<link rel="chapter" href="zend.mvc.html" title="Chapter 11. Zend\Mvc">
<link rel="chapter" href="zend.uri.html" title="Chapter 12. Zend_Uri">
<link rel="appendix" href="copyrights.html" title="Appendix A. Copyright Information">
<link rel="subsection" href="zend.http.request.html#zend.http.request.intro" title="7.2.1. Overview">
<link rel="subsection" href="zend.http.request.html#zend.http.request.quick-start" title="7.2.2. Quick Start">
<link rel="subsection" href="zend.http.request.html#zend.http.request.options" title="7.2.3. Configuration Options">
<link rel="subsection" href="zend.http.request.html#zend.http.request.methods" title="7.2.4. Available Methods">
<link rel="subsection" href="zend.http.request.html#zend.http.request.examples" title="7.2.5. Examples">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader"><table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">7.2. Zend\Http\Request</th></tr>
<tr>
<td width="20%" align="left">
<a accesskey="p" href="zend.http.html">Prev</a> </td>
<th width="60%" align="center">Chapter 7. Zend_Http</th>
<td width="20%" align="right"> <a accesskey="n" href="zend.http.response.html">Next</a>
</td>
</tr>
</table></div>
<div class="section" title="7.2. Zend\Http\Request">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="zend.http.request"></a>7.2. Zend\Http\Request</h2></div></div></div>
<div class="section" title="7.2.1. Overview">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.http.request.intro"></a>7.2.1. Overview</h3></div></div></div>
<p>
            The <code class="classname">Zend\Http\Request</code> object is responsible for providing a
            fluent API that allows a developer to interact with all the various parts of an HTTP
            request.
        </p>
<p>
            A typical HTTP request looks like this:
        </p>
<div class="literallayout"><p><br>
--------------------------<br>
| METHOD | URI | VERSION |<br>
--------------------------<br>
|        HEADERS         |<br>
--------------------------<br>
|         BODY           |<br>
--------------------------<br>
        </p></div>
<p>
            In simplified terms, the request consist of a method, <acronym class="acronym">URI</acronym> and the
            HTTP version number which all make up the "Request Line."  Next is a set of headers;
            there can be 0 or an unlimited number of headers. After that is the request body, which
            is typically used when a client wishes to send data to the server in the form of an
            encoded file, or include a set of POST parameters, for example.  More information on the
            structure and specification of an HTTP request can be found in <a class="link" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec5.html" target="_top">RFC-2616 on the
                W3.org site</a>.
        </p>
</div>
<div class="section" title="7.2.2. Quick Start">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.http.request.quick-start"></a>7.2.2. Quick Start</h3></div></div></div>
<p>
            Request objects can either be created from the provided
            <code class="methodname">fromString()</code> factory, or, if you wish to have a completely
            empty object to start with, by simply instantiating the
            <code class="classname">Zend\Http\Request</code> class.
        </p>
<pre class="programlisting">
use Zend\Http\Request;
$request = Request::fromString(&lt;&lt;&lt;EOS
POST /foo HTTP/1.1
HeaderField1: header-field-value
HeaderField2: header-field-value2

foo=bar&amp;
EOS);

// OR, the completely equivalent

$request = new Request();
$request-&gt;setMethod(Request::METHOD_POST);
$request-&gt;setUri('/foo');
$request-&gt;header()-&gt;addHeaders(array(
    'HeaderField1' =&gt; 'header-field-value',
    'HeaderField2' =&gt; 'header-field-value2',
);
$request-&gt;post()-&gt;set('foo', 'bar');

</pre>
</div>
<div class="section" title="7.2.3. Configuration Options">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.http.request.options"></a>7.2.3. Configuration Options</h3></div></div></div>
<p>
            None currently
        </p>
</div>
<div class="section" title="7.2.4. Available Methods">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.http.request.methods"></a>7.2.4. Available Methods</h3></div></div></div>
<div class="variablelist"><dl>
<dt>
<a name="zend.http.request.methods.from-string"></a><span class="term">
                    <code class="methodsynopsis"><span class="methodname">Request::fromString</span>(<span class="methodparam">string $string</span>);</code>
                </span>
</dt>
<dd>
<p>A factory that produces a Request object from a well-formed Http Request string</p>
<p> </p>
<p>Returns <code class="classname">Zend\Http\Request</code></p>
</dd>
<dt>
<a name="zend.http.request.methods.set-method"></a><span class="term">
                    <code class="methodsynopsis"><span class="methodname">setMethod</span>(<span class="methodparam">string $method</span>);</code>
                </span>
</dt>
<dd>
<p>Set the method for this request.</p>
<p>Returns <code class="classname">Zend\Http\Request</code></p>
</dd>
<dt>
<a name="zend.http.request.methods.get-method"></a><span class="term">
                    <code class="methodsynopsis"><span class="methodname">getMethod</span>(<span class="methodparam"> </span>);</code>
                </span>
</dt>
<dd>
<p>Return the method for this request.</p>
<p>Returns string.</p>
</dd>
<dt>
<a name="zend.http.request.methods.set-uri"></a><span class="term">
                    <code class="methodsynopsis"><span class="methodname">setUri</span>(<span class="methodparam">string|Zend\Stdlib\RequestDescription\Zend\Stdlib\Message\Zend\Stdlib\ParametersDescription\Zend\Stdlib\Parameters\Zend\Uri\Http $uri</span>);</code>
                </span>
</dt>
<dd>
<p>
                        Set the URI/URL for this request; this can be a string or an instance of
                        <code class="classname">Zend\Uri\Http</code>.
                    </p>
<p>Returns Zend\Http\Request</p>
</dd>
<dt>
<a name="zend.http.request.methods.get-uri"></a><span class="term">
                    <code class="methodsynopsis"><span class="methodname">getUri</span>();</code>
                </span>
</dt>
<dd>
<p>Return the URI for this request object.</p>
<p>Returns string.</p>
</dd>
<dt>
<a name="zend.http.request.methods.uri"></a><span class="term">
                    <code class="methodsynopsis"><span class="methodname">uri</span>();</code>
                </span>
</dt>
<dd>
<p>
                        Return the URI for this request object as an instance of
                        <code class="classname">Zend\Uri\Http</code>.
                    </p>
<p>
                        Returns <code class="classname">Zend\Uri\Http</code>.
                    </p>
</dd>
<dt>
<a name="zend.http.request.methods.set-version"></a><span class="term">
                    <code class="methodsynopsis"><span class="methodname">setVersion</span>(<span class="methodparam">string $version</span>);</code>
                </span>
</dt>
<dd>
<p>
                        Set the HTTP version for this object, one of 1.0 or 1.1
                        (<code class="constant">Request::VERSION_10</code>,
                        <code class="constant">Request::VERSION_11</code>).
                    </p>
<p>Returns <code class="classname">Zend\Http\Request</code>.</p>
</dd>
<dt>
<a name="zend.http.request.methods.get-version"></a><span class="term">
                    <code class="methodsynopsis"><span class="methodname">getVersion</span>();</code>
                </span>
</dt>
<dd>
<p>Return the HTTP version for this request</p>
<p>Returns string</p>
</dd>
<dt>
<a name="zend.http.request.methods.set-query"></a><span class="term">
                    <code class="methodsynopsis"><span class="methodname">setQuery</span>(<span class="methodparam">Zend\Stdlib\ParametersDescription $query</span>);</code>
                </span>
</dt>
<dd>
<p>
                        Provide an alternate Parameter Container implementation for query parameters
                        in this object. (This is NOT the primary API for value setting; for that, see
                        <code class="methodname"><a class="methodname" href="zend.http.request.html#zend.http.request.methods.query">query()</a></code>.)
                    </p>
<p> </p>
<p>Returns Zend\Http\Request</p>
</dd>
<dt>
<a name="zend.http.request.methods.query"></a><span class="term">
                    <code class="methodsynopsis"><span class="methodname">query</span>();</code>
                </span>
</dt>
<dd>
<p>Return the parameter container responsible for query parameters.</p>
<p>Returns <code class="classname">Zend\Stdlib\ParametersDescription</code></p>
</dd>
<dt>
<a name="zend.http.request.methods.set-post"></a><span class="term">
                    <code class="methodsynopsis"><span class="methodname">setPost</span>(<span class="methodparam">Zend\Stdlib\ParametersDescription $post</span>);</code>
                </span>
</dt>
<dd>
<p>
                        Provide an alternate Parameter Container implementation for post parameters
                        in this object. (This is NOT the primary API for value setting; for that,
                        see <code class="methodname"><a class="methodname" href="zend.http.request.html#zend.http.request.methods.post">post()</a></code>.)
                    </p>
<p>Returns <code class="classname">Zend\Http\Request</code></p>
</dd>
<dt>
<a name="zend.http.request.methods.post"></a><span class="term">
                    <code class="methodsynopsis"><span class="methodname">post</span>();</code>
                </span>
</dt>
<dd>
<p>Return the parameter container responsible for post parameters.</p>
<p>Returns <code class="classname">Zend\Stdlib\ParametersDescription</code></p>
</dd>
<dt>
<a name="zend.http.request.methods.cookie"></a><span class="term">
                    <code class="methodsynopsis"><span class="methodname">cookie</span>();</code>
                </span>
</dt>
<dd>
<p>
                        Return the Cookie header, this is the same as calling
                        <code class="code">$request-&gt;header()-&gt;get('Cookie');</code>.
                    </p>
<p> </p>
<p>Returns <code class="classname">Zend\Http\Header\Cookie</code></p>
</dd>
<dt>
<a name="zend.http.request.methods.set-file"></a><span class="term">
                    <code class="methodsynopsis"><span class="methodname">setFile</span>(<span class="methodparam">Zend\Stdlib\ParametersDescription $files</span>);</code>
                </span>
</dt>
<dd>
<p>
                        Provide an alternate Parameter Container implementation for file parameters
                        in this object. (This is NOT the primary API for value setting; for that,
                        see <code class="methodname"><a class="methodname" href="zend.http.request.html#zend.http.request.methods.file">file()</a></code>.)
                    </p>
<p>Returns <code class="classname">Zend\Http\Request</code></p>
</dd>
<dt>
<a name="zend.http.request.methods.file"></a><span class="term">
                    <code class="methodsynopsis"><span class="methodname">file</span>();</code>
                </span>
</dt>
<dd>
<p>Return the parameter container responsible for file parameters</p>
<p>Returns <code class="classname">Zend\Stdlib\ParametersDescription</code></p>
</dd>
<dt>
<a name="zend.http.request.methods.set-server"></a><span class="term">
                    <code class="methodsynopsis"><span class="methodname">setServer</span>(<span class="methodparam">Zend\Stdlib\ParametersDescription $server</span>);</code>
                </span>
</dt>
<dd>
<p>
                        Provide an alternate Parameter Container implementation for server
                        parameters in this object. (This is NOT the primary API for value setting;
                        for that, see <code class="methodname"><a class="methodname" href="zend.http.request.html#zend.http.request.methods.server">server()</a></code>.)
                    </p>
<p>Returns <code class="classname">Zend\Http\Request</code></p>
</dd>
<dt>
<a name="zend.http.request.methods.server"></a><span class="term">
                    <code class="methodsynopsis"><span class="methodname">server</span>();</code>
                </span>
</dt>
<dd>
<p>Return the parameter container responsible for server parameters</p>
<p>Returns <code class="classname">Zend\Stdlib\ParametersDescription</code></p>
</dd>
<dt>
<a name="zend.http.request.methods.set-env"></a><span class="term">
                    <code class="methodsynopsis"><span class="methodname">setEnv</span>(<span class="methodparam">Zend\Stdlib\ParametersDescription $env</span>);</code>
                </span>
</dt>
<dd>
<p>
                        Provide an alternate Parameter Container implementation for env parameters
                        in this object. (This is NOT the primary API for value setting; for that,
                        see <code class="methodname"><a class="methodname" href="zend.http.request.html#zend.http.request.methods.env">env()</a></code>.)
                    </p>
<p>Returns <code class="classname">Zend\Http\Request</code></p>
</dd>
<dt>
<a name="zend.http.request.methods.env"></a><span class="term">
                    <code class="methodsynopsis"><span class="methodname">env</span>();</code>
                </span>
</dt>
<dd>
<p>Return the parameter container responsible for env parameters</p>
<p>Returns <code class="classname">Zend\Stdlib\ParametersDescription</code></p>
</dd>
<dt>
<a name="zend.http.request.methods.set-header"></a><span class="term">
                    <code class="methodsynopsis"><span class="methodname">setHeader</span>(<span class="methodparam">Zend\Http\Headers $headers</span>);</code>
                </span>
</dt>
<dd>
<p>
                        Provide an alternate Parameter Container implementation for headers in this object. (This is NOT the
                        primary API for value setting; for that, see <code class="methodname"><a class="methodname" href="zend.http.request.html#zend.http.request.methods.header">header()</a></code>.)
                    </p>
<p>Returns <code class="classname">Zend\Http\Request</code></p>
</dd>
<dt>
<a name="zend.http.request.methods.header"></a><span class="term">
                    <code class="methodsynopsis"><span class="methodname">header</span>();</code>
                </span>
</dt>
<dd>
<p>Return the header container responsible for headers</p>
<p>Returns <code class="classname">Zend\Http\Headers</code></p>
</dd>
<dt>
<a name="zend.http.request.methods.set-raw-body"></a><span class="term">
                    <code class="methodsynopsis"><span class="methodname">setRawBody</span>(<span class="methodparam">string $string</span>);</code>
                </span>
</dt>
<dd>
<p>Set the raw body for the request</p>
<p>Returns <code class="classname">Zend\Http\Request</code></p>
</dd>
<dt>
<a name="zend.http.request.methods.get-raw-body"></a><span class="term">
                    <code class="methodsynopsis"><span class="methodname">getRawBody</span>(<span class="methodparam"> </span>);</code>
                </span>
</dt>
<dd>
<p>Get the raw body for the request</p>
<p>Returns string</p>
</dd>
<dt>
<a name="zend.http.request.methods.is-options"></a><span class="term">
                    <code class="methodsynopsis"><span class="methodname">isOptions</span>();</code>
                </span>
</dt>
<dd>
<p>Is this an OPTIONS method request?</p>
<p>Returns bool</p>
</dd>
<dt>
<a name="zend.http.request.methods.is-get"></a><span class="term">
                    <code class="methodsynopsis"><span class="methodname">isGet</span>();</code>
                </span>
</dt>
<dd>
<p>Is this a GET method request?</p>
<p>Returns bool</p>
</dd>
<dt>
<a name="zend.http.request.methods.is-head"></a><span class="term">
                    <code class="methodsynopsis"><span class="methodname">isHead</span>();</code>
                </span>
</dt>
<dd>
<p>Is this a HEAD method request?</p>
<p>Returns bool</p>
</dd>
<dt>
<a name="zend.http.request.methods.is-post"></a><span class="term">
                    <code class="methodsynopsis"><span class="methodname">isPost</span>();</code>
                </span>
</dt>
<dd>
<p>Is this a POST method request?</p>
<p>Returns bool</p>
</dd>
<dt>
<a name="zend.http.request.methods.is-put"></a><span class="term">
                    <code class="methodsynopsis"><span class="methodname">isPut</span>();</code>
                </span>
</dt>
<dd>
<p>Is this a PUT method request?</p>
<p>Returns bool</p>
</dd>
<dt>
<a name="zend.http.request.methods.is-delete"></a><span class="term">
                    <code class="methodsynopsis"><span class="methodname">isDelete</span>();</code>
                </span>
</dt>
<dd>
<p>Is this a DELETE method request?</p>
<p>Returns bool</p>
</dd>
<dt>
<a name="zend.http.request.methods.is-trace"></a><span class="term">
                    <code class="methodsynopsis"><span class="methodname">isTrace</span>();</code>
                </span>
</dt>
<dd>
<p>Is this a TRACE method request?</p>
<p>Returns bool</p>
</dd>
<dt>
<a name="zend.http.request.methods.is-connect"></a><span class="term">
                    <code class="methodsynopsis"><span class="methodname">isConnect</span>();</code>
                </span>
</dt>
<dd>
<p>Is this a CONNECT method request?</p>
<p>Returns bool</p>
</dd>
<dt>
<a name="zend.http.request.methods.render-request-line"></a><span class="term">
                    <code class="methodsynopsis"><span class="methodname">renderRequestLine</span>();</code>
                </span>
</dt>
<dd>
<p>Return the formatted request line (first line) for this HTTP request</p>
<p>Returns string</p>
</dd>
<dt>
<a name="zend.http.request.methods.to-string"></a><span class="term">
                    <code class="methodsynopsis"><span class="methodname">toString</span>();</code>
                </span>
</dt>
<dd><p>Returns string</p></dd>
<dt>
<a name="zend.http.request.methods.__to-string"></a><span class="term">
                    <code class="methodsynopsis"><span class="methodname">__toString</span>();</code>
                </span>
</dt>
<dd>
<p>Allow PHP casting of this object</p>
<p>Returns string</p>
</dd>
<dt>
<a name="zend.stdlib.message.methods.set-metadata"></a><span class="term">
                    <code class="methodsynopsis"><span class="methodname">setMetadata</span>(<span class="methodparam">string|int|array|Traversable $spec, mixed $value</span>);</code>
                </span>
</dt>
<dd>
<p>Set message metadata</p>
<p>Non-destructive setting of message metadata; always adds to the metadata, never overwrites
the entire metadata container.</p>
<p>Returns <code class="classname">Zend\Stdlib\Message</code></p>
</dd>
<dt>
<a name="zend.stdlib.message.methods.get-metadata"></a><span class="term">
                    <code class="methodsynopsis"><span class="methodname">getMetadata</span>(<span class="methodparam">null|string|int $key, null|mixed $default</span>);</code>
                </span>
</dt>
<dd>
<p>Retrieve all metadata or a single metadatum as specified by key</p>
<p>Returns mixed</p>
</dd>
<dt>
<a name="zend.stdlib.message.methods.set-content"></a><span class="term">
                    <code class="methodsynopsis"><span class="methodname">setContent</span>(<span class="methodparam">mixed $value</span>);</code>
                </span>
</dt>
<dd>
<p>Set message content</p>
<p>Returns <code class="classname">Zend\Stdlib\Message</code></p>
</dd>
<dt>
<a name="zend.stdlib.message.methods.get-content"></a><span class="term">
                    <code class="methodsynopsis"><span class="methodname">getContent</span>();</code>
                </span>
</dt>
<dd>
<p>Get message content</p>
<p>Returns mixed</p>
</dd>
</dl></div>
</div>
<div class="section" title="7.2.5. Examples">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.http.request.examples"></a>7.2.5. Examples</h3></div></div></div>
<div class="example">
<a name="zend.http.request.examples.from-string"></a><p class="title"><b>Example 7.1. Generating a Request object from a string</b></p>
<div class="example-contents"><pre class="programlisting">
use Zend\Http\Request;
$string = "GET /foo HTTP/1.1\r\n\r\nSome Content";
$request = Request::fromString($string);

$request-&gt;getMethod();  // returns Request::METHOD_GET
$request-&gt;getUri();     // returns '/foo'
$request-&gt;getVersion(); // returns Request::VERSION_11 or '1.1'
$request-&gt;getRawBody(); // returns 'Some Content'
</pre></div>
</div>
<br class="example-break"><div class="example">
<a name="zend.http.request.examples.from-array"></a><p class="title"><b>Example 7.2. Generating a Request object from an array</b></p>
<div class="example-contents"><pre class="programlisting">
N/A
</pre></div>
</div>
<br class="example-break"><div class="example">
<a name="zend.http.request.examples.headers"></a><p class="title"><b>Example 7.3. Retrieving and setting headers</b></p>
<div class="example-contents"><pre class="programlisting">
use Zend\Http\Request;
$request = new Request();
$request-&gt;headers()-&gt;get('Content-Type'); // return content type
$request-&gt;headers()-&gt;addHeader(new Cookie('foo' =&gt; 'bar'));
foreach ($request-&gt;headers() as $header) {
    echo $header-&gt;getFieldName() . ' with value ' . $header-&gt;getFieldValue();
}
</pre></div>
</div>
<br class="example-break"><div class="example">
<a name="zend.http.request.examples.parameters"></a><p class="title"><b>Example 7.4. Retrieving and setting GET and POST values</b></p>
<div class="example-contents"><pre class="programlisting">
use Zend\Http\Request;
$request = new Request();

// post() and get() both return, by default, a Parameters object, which extends ArrayObject
$request-&gt;post()-&gt;foo = 'value';
echo $request-&gt;get()-&gt;myVar;
echo $request-&gt;get()-&gt;offsetGet('myVar');
</pre></div>
</div>
<br class="example-break"><div class="example">
<a name="zend.http.request.examples.to-string"></a><p class="title"><b>Example 7.5. Generating an formatted HTTP Request from an Request object</b></p>
<div class="example-contents"><pre class="programlisting">
use Zend\Http\Request;
$request = new Request();
$request-&gt;setMethod(Request::METHOD_POST);
$request-&gt;setUri('/foo');
$request-&gt;header()-&gt;addHeaders(array(
    'HeaderField1' =&gt; 'header-field-value',
    'HeaderField2' =&gt; 'header-field-value2',
);
$request-&gt;post()-&gt;set('foo', 'bar');
echo $request-&gt;toString();

/** Will produce:
POST /foo HTTP/1.1
HeaderField1: header-field-value
HeaderField2: header-field-value2

foo=bar
*/
</pre></div>
</div>
<br class="example-break">
</div>
</div>
<div class="navfooter"><table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="zend.http.html">Prev</a> </td>
<td width="20%" align="center"><a accesskey="u" href="zend.http.html">Up</a></td>
<td width="40%" align="right"> <a accesskey="n" href="zend.http.response.html">Next</a>
</td>
</tr>
<tr>
<td width="40%" align="left" valign="top">Chapter 7. Zend_Http </td>
<td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td>
<td width="40%" align="right" valign="top"> 7.3. Zend\Http\Response</td>
</tr>
</table></div>
<div class="revinfo"></div>
</body>
</html>

<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>19.7. The StandardAutoloader</title>
<link rel="stylesheet" type="text/css" href="dbstyle.css">
<meta name="generator" content="DocBook XSL-NS Stylesheets V1.76.1">
<link rel="home" href="index.html" title="Programmer's Reference Guide">
<link rel="up" href="zend.loader.html" title="Chapter 19. Zend\Loader">
<link rel="prev" href="zend.loader.class-map-autoloader.methods.register.html" title="register">
<link rel="next" href="zend.loader.standard-autoloader.methods.constructor.html" title="__construct">
<link rel="part" href="introduction.html" title="Part I. Introduction to Zend Framework">
<link rel="chapter" href="introduction.overview.html" title="Chapter 1. Overview">
<link rel="chapter" href="introduction.installation.html" title="Chapter 2. Installation">
<link rel="part" href="learning.html" title="Part II. Learning Zend Framework">
<link rel="article" href="learning.di.html" title="Learning Dependency Injection">
<link rel="part" href="reference.html" title="Part III. Zend Framework Reference">
<link rel="chapter" href="zend.acl.html" title="Chapter 3. Zend\Acl">
<link rel="chapter" href="zend.authentication.html" title="Chapter 4. Zend\Authentication">
<link rel="chapter" href="zend.barcode.html" title="Chapter 5. Zend\Barcode">
<link rel="chapter" href="zend.cache.html" title="Chapter 6. Zend\Cache">
<link rel="chapter" href="zend.captcha.html" title="Chapter 7. Zend\Captcha">
<link rel="chapter" href="zend.config.html" title="Chapter 8. Zend_Config">
<link rel="chapter" href="zend.crypt.html" title="Chapter 9. Zend_Crypt">
<link rel="chapter" href="zend.db.html" title="Chapter 10. Zend_Db">
<link rel="chapter" href="zend.di.html" title="Chapter 11. Zend\Di">
<link rel="chapter" href="zend.dom.html" title="Chapter 12. Zend\Dom">
<link rel="chapter" href="zend.event-manager.html" title="Chapter 13. Zend\EventManager">
<link rel="chapter" href="zend.form.html" title="Chapter 14. Zend_Form">
<link rel="chapter" href="zend.http.html" title="Chapter 15. Zend_Http">
<link rel="chapter" href="zend.i18n.html" title="Chapter 16. Zend_I18n">
<link rel="chapter" href="zend.input-filter.html" title="Chapter 17. Zend\InputFilter">
<link rel="chapter" href="zend.ldap.html" title="Chapter 18. Zend_Ldap">
<link rel="chapter" href="zend.loader.html" title="Chapter 19. Zend\Loader">
<link rel="refentry" href="zend.loader.autoloader-factory.methods.factory.html" title="factory">
<link rel="refentry" href="zend.loader.autoloader-factory.methods.get-registered-autoloaders.html" title="getRegisteredAutoloaders">
<link rel="refentry" href="zend.loader.plugin-class-loader.methods.constructor.html" title="__construct">
<link rel="refentry" href="zend.loader.plugin-class-loader.methods.add-static-map.html" title="addStaticMap">
<link rel="refentry" href="zend.loader.plugin-class-loader.methods.register-plugin.html" title="registerPlugin">
<link rel="refentry" href="zend.loader.plugin-class-loader.methods.register-plugins.html" title="registerPlugins">
<link rel="refentry" href="zend.loader.plugin-class-loader.methods.unregister-plugin.html" title="unregisterPlugin">
<link rel="refentry" href="zend.loader.plugin-class-loader.methods.get-registered-plugins.html" title="getRegisteredPlugins">
<link rel="refentry" href="zend.loader.plugin-class-loader.methods.is-loaded.html" title="isLoaded">
<link rel="refentry" href="zend.loader.plugin-class-loader.methods.get-class-name.html" title="getClassName">
<link rel="refentry" href="zend.loader.plugin-class-loader.methods.load.html" title="load">
<link rel="refentry" href="zend.loader.plugin-class-loader.methods.get-iterator.html" title="getIterator">
<link rel="refentry" href="zend.loader.short-name-locator.methods.is-loaded.html" title="isLoaded">
<link rel="refentry" href="zend.loader.short-name-locator.methods.get-class-name.html" title="getClassName">
<link rel="refentry" href="zend.loader.short-name-locator.methods.load.html" title="load">
<link rel="refentry" href="zend.loader.plugin-class-locator.methods.register-plugin.html" title="registerPlugin">
<link rel="refentry" href="zend.loader.plugin-class-locator.methods.unregister-plugin.html" title="unregisterPlugin">
<link rel="refentry" href="zend.loader.plugin-class-locator.methods.get-registered-plugins.html" title="getRegisteredPlugins">
<link rel="refentry" href="zend.loader.spl-autoloader.methods.constructor.html" title="__construct">
<link rel="refentry" href="zend.loader.spl-autoloader.methods.set-options.html" title="setOptions">
<link rel="refentry" href="zend.loader.spl-autoloader.methods.autoload.html" title="autoload">
<link rel="refentry" href="zend.loader.spl-autoloader.methods.register.html" title="register">
<link rel="refentry" href="zend.loader.class-map-autoloader.methods.constructor.html" title="__construct">
<link rel="refentry" href="zend.loader.class-map-autoloader.methods.set-options.html" title="setOptions">
<link rel="refentry" href="zend.loader.class-map-autoloader.methods.register-autoload-map.html" title="registerAutoloadMap">
<link rel="refentry" href="zend.loader.class-map-autoloader.methods.register-autoload-maps.html" title="registerAutoloadMaps">
<link rel="refentry" href="zend.loader.class-map-autoloader.methods.get-autoload-map.html" title="getAutoloadMap">
<link rel="refentry" href="zend.loader.class-map-autoloader.methods.autoload.html" title="autoload">
<link rel="refentry" href="zend.loader.class-map-autoloader.methods.register.html" title="register">
<link rel="refentry" href="zend.loader.standard-autoloader.methods.constructor.html" title="__construct">
<link rel="refentry" href="zend.loader.standard-autoloader.methods.set-options.html" title="setOptions">
<link rel="refentry" href="zend.loader.standard-autoloader.methods.set-fallback-autoloader.html" title="setFallbackAutoloader">
<link rel="refentry" href="zend.loader.standard-autoloader.methods.is-fallback-autoloader.html" title="isFallbackAutoloader">
<link rel="refentry" href="zend.loader.standard-autoloader.methods.register-namespace.html" title="registerNamespace">
<link rel="refentry" href="zend.loader.standard-autoloader.methods.register-namespaces.html" title="registerNamespaces">
<link rel="refentry" href="zend.loader.standard-autoloader.methods.register-prefix.html" title="registerPrefix">
<link rel="refentry" href="zend.loader.standard-autoloader.methods.register-prefixes.html" title="registerPrefixes">
<link rel="refentry" href="zend.loader.standard-autoloader.methods.autoload.html" title="autoload">
<link rel="refentry" href="zend.loader.standard-autoloader.methods.register.html" title="register">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.constructor.html" title="__construct">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.add-static-paths.html" title="addStaticPaths">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.set-options.html" title="setOptions">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.add-prefix-path.html" title="addPrefixPath">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.add-prefix-paths.html" title="addPrefixPaths">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.get-paths.html" title="getPaths">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.clear-paths.html" title="clearPaths">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.remove-prefix-path.html" title="removePrefixPath">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.is-loaded.html" title="isLoaded">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.get-class-name.html" title="getClassName">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.load.html" title="load">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.get-plugin-map.html" title="getPluginMap">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.get-class-map.html" title="getClassMap">
<link rel="refentry" href="zend.loader.prefix-path-mapper.methods.add-prefix-path.html" title="addPrefixPath">
<link rel="refentry" href="zend.loader.prefix-path-mapper.methods.remove-prefix-path.html" title="removePrefixPath">
<link rel="chapter" href="zend.mail.html" title="Chapter 20. Zend\Mail">
<link rel="chapter" href="zend.module-manager.html" title="Chapter 21. Zend\ModuleManager">
<link rel="chapter" href="zend.mvc.html" title="Chapter 22. Zend\Mvc">
<link rel="chapter" href="zend.service-manager.html" title="Chapter 23. Zend\ServiceManager">
<link rel="chapter" href="zend.stdlib.html" title="Chapter 24. Zend\Stdlib">
<link rel="chapter" href="zend.uri.html" title="Chapter 25. Zend_Uri">
<link rel="chapter" href="zend.validator.html" title="Chapter 26. Zend\Validator">
<link rel="chapter" href="zend.view.html" title="Chapter 27. Zend_View">
<link rel="chapter" href="zend.xmlrpc.html" title="Chapter 28. Zend_XmlRpc">
<link rel="appendix" href="copyrights.html" title="Appendix A. Copyright Information">
<link rel="subsection" href="zend.loader.standard-autoloader.html#zend.loader.standard-autoloader.intro" title="19.7.1. Overview">
<link rel="subsection" href="zend.loader.standard-autoloader.html#zend.loader.standard-autoloader.quick-start" title="19.7.2. Quick Start">
<link rel="subsection" href="zend.loader.standard-autoloader.html#zend.loader.standard-autoloader.options" title="19.7.3. Configuration Options">
<link rel="subsection" href="zend.loader.standard-autoloader.html#zend.loader.standard-autoloader.methods" title="19.7.4. Available Methods">
<link rel="subsection" href="zend.loader.standard-autoloader.html#zend.loader.standard-autoloader.examples" title="19.7.5. Examples">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader"><table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">19.7. The StandardAutoloader</th></tr>
<tr>
<td width="20%" align="left">
<a accesskey="p" href="zend.loader.class-map-autoloader.methods.register.html">Prev</a> </td>
<th width="60%" align="center">Chapter 19. Zend\Loader</th>
<td width="20%" align="right"> <a accesskey="n" href="zend.loader.standard-autoloader.methods.constructor.html">Next</a>
</td>
</tr>
</table></div>
<div class="section" title="19.7. The StandardAutoloader">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="zend.loader.standard-autoloader"></a>19.7. The StandardAutoloader</h2></div></div></div>
<div class="section" title="19.7.1. Overview">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.loader.standard-autoloader.intro"></a>19.7.1. Overview</h3></div></div></div>
<p>
            <code class="classname">Zend\Loader\StandardAutoloader</code> is designed as a <a class="link" href="https://github.com/php-fig/fig-standards/blob/master/accepted/PSR-0.md" target="_top">PSR-0</a>-compliant
            autoloader. It assumes a 1:1 mapping of the namespace+classname to the filesystem,
            wherein namespace separators and underscores are translated to directory separators. A
            simple statement that illustrates how resolution works is as follows:
        </p>
<pre lang="php" class="programlisting">
$filename = str_replace(array('_', '\\'), DIRECTORY_SEPARATOR, $classname) 
          . '.php';
</pre>
<p>
            Previous incarnations of PSR-0-compliant autoloaders in Zend Framework have relied upon
            the <code class="varname">include_path</code> for file lookups. This has led to a number of
            issues:
        </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p>
                    Due to the use of <code class="function">include</code>, if the file is not
                    found, a warning is raised -- even if another autoloader is capable of resolving
                    the class later.
                </p></li>
<li class="listitem"><p>
                    Documenting how to setup the <code class="varname">include_path</code> has proven to be
                    a difficult concept to convey.
                </p></li>
<li class="listitem"><p>
                    If multiple Zend Framework installations exist on the
                    <code class="varname">include_path</code>, the first one on the path wins -- even if that
                    was not the one the developer intended.
                </p></li>
</ul></div>
<p>
            To solve these problems, the <code class="classname">StandardAutoloader</code> by default
            requires that you explicitly register namespace/path pairs (or vendor prefix/path
            pairs), and will only load a file if it exists within the given path. Multiple pairs may
            be provided.
        </p>
<p>
            As a measure of last resort, you may also use the
            <code class="classname">StandardAutoloader</code> as a "fallback" autoloader -- one that will
            look for classes of any namespace or vendor prefix on the
            <code class="classname">include_path</code>. This practice is not recommended, however, due to
            performance implications.
        </p>
<p>
            Finally, as with all autoloaders in Zend Framework, the
            <code class="classname">StandardAutoloader</code> is capable of registering itself with PHP's
            SPL autoloader registry.
        </p>
<div class="note" title="Vocabulary: Namespaces vs. Vendor Prefixes"><table border="0" summary="Note: Vocabulary: Namespaces vs. Vendor Prefixes">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td>
<th align="left">Vocabulary: Namespaces vs. Vendor Prefixes</th>
</tr>
<tr><td align="left" valign="top">
<p>
                In terms of autloading, a "namespace" corresponds to PHP's own definition of
                namespaces in PHP versions 5.3 and above.
            </p>
<p>
                A "vendor prefix" refers to the practice, popularized in PHP versions prior to 5.3,
                of providing a pseudo-namespace in the form of underscore-separated words in class
                names. As an example, the class <code class="classname">Phly_Couch_Document</code> uses a
                vendor prefix of "Phly", and a component prefix of "Phly_Couch" -- but it is a class
                sitting in the global namespace within PHP 5.3.
            </p>
<p>
                The <code class="classname">StandardAutoloader</code> is capable of loading either
                namespaced or vendor prefixed class names, but treats them separately when
                attempting to match them to an appropriate path.
            </p>
</td></tr>
</table></div>
</div>
<div class="section" title="19.7.2. Quick Start">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.loader.standard-autoloader.quick-start"></a>19.7.2. Quick Start</h3></div></div></div>
<p>
            Basic use of the <code class="classname">StandardAutoloader</code> requires simply registering
            namespace/path pairs. This can either be done at instantiation, or via explicit method
            calls after the object has been initialized. Calling <code class="methodname">register()</code>
            will register the autoloader with the SPL autoloader registry.
        </p>
<p>
            If the option key 'autoregister_zf' is set to true then the class will register the "Zend" 
            namespace to the directory above where its own classfile is located on the filesystem.
        </p>
<div class="example">
<a name="zend.loader.standard-autoloader.quick-start.example-manual-configuration"></a><p class="title"><b>Example 19.5. Manual Configuration</b></p>
<div class="example-contents"><pre lang="php" class="programlisting">
// This example assumes ZF is on your include_path.
// You could also load the autoloader class from a path relative to the
// current script, or via an absolute path.
require_once 'Zend/Loader/StandardAutoloader.php';
$loader = new Zend\Loader\StandardAutoloader(array('autoregister_zf' =&gt; true));

// Register the "Phly" namespace:
$loader-&gt;registerNamespace('Phly', APPLICATION_PATH . '/../library/Phly');

// Register the "Scapi" vendor prefix:
$loader-&gt;registerPrefix('Scapi', APPLICATION_PATH . '/../library/Scapi');

// Optionally, specify the autoloader as a "fallback" autoloader;
// this is not recommended.
$loader-&gt;setFallbackAutoloader(true);

// Register with spl_autoload:
$loader-&gt;register();
</pre></div>
</div>
<br class="example-break"><div class="example">
<a name="zend.loader.standard-autoloader.quick-start.example-constructor-configuration"></a><p class="title"><b>Example 19.6. Configuration at Instantiation</b></p>
<div class="example-contents">
<p>
                The <code class="classname">StandardAutoloader</code> may also be configured at
                instantiation. Please note:
            </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p>
                        The argument passed may be either an array or a
                        <code class="interfacename">Traversable</code> object (such as a
                        <code class="classname">Zend\Config</code> object.
                    </p></li>
<li class="listitem"><p>
                        The argument passed is also a valid argument for passing to the
                        <code class="methodname">setOptions()</code> method.
                    </p></li>
</ul></div>
<p>
                The following is equivalent to the previous example.
            </p>
<pre lang="php" class="programlisting">
require_once 'Zend/Loader/StandardAutoloader.php';
$loader = new Zend\Loader\StandardAutoloader(array(
    'autoregister_zf' =&gt; true,
    'namespaces' =&gt; array(
        'Phly' =&gt; APPLICATION_PATH . '/../library/Phly',
    ),
    'prefixes' =&gt; array(
        'Scapi' =&gt; APPLICATION_PATH . '/../library/Scapi',
    ),
    'fallback_autoloader' =&gt; true,
));

// Register with spl_autoload:
$loader-&gt;register();
</pre>
</div>
</div>
<br class="example-break">
</div>
<div class="section" title="19.7.3. Configuration Options">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.loader.standard-autoloader.options"></a>19.7.3. Configuration Options</h3></div></div></div>
<p>
            The <code class="classname">StandardAutoloader</code> defines the following options.
        </p>
<div class="variablelist" title="StandardAutoloader Options">
<p class="title"><b>StandardAutoloader Options</b></p>
<dl>
<dt><span class="term">namespaces</span></dt>
<dd><p>
                        An associative array of namespace/path pairs. The path should be an absolute
                        path or path relative to the calling script, and contain only classes that
                        live in that namespace (or its subnamespaces). By default, the "Zend"
                        namespace is registered, pointing to the arent directory of the file
                        defining the <code class="classname">StandardAutoloader</code>.
                    </p></dd>
<dt><span class="term">prefixes</span></dt>
<dd><p>
                        An associative array of vendor prefix/path pairs. The path should be an absolute
                        path or path relative to the calling script, and contain only classes that
                        begin with the provided vendor prefix.
                    </p></dd>
<dt><span class="term">fallback_autoloader</span></dt>
<dd><p>
                        A boolean value indicating whether or not this instance should act as a
                        "fallback" autoloader (i.e., look for classes of any namespace or vendor
                        prefix on the <code class="varname">include_path</code>). By default,
                        <code class="constant">false</code>.
                    </p></dd>
<dt><span class="term">autoregister_zf</span></dt>
<dd><p>
                        An boolean value indicating that the class should register the "Zend" 
                        namespace to the directory above where its own classfile is located 
                        on the filesystem.
                    </p></dd>
</dl>
</div>
</div>
<div class="section" title="19.7.4. Available Methods"><div class="titlepage"><div><div><h3 class="title">
<a name="zend.loader.standard-autoloader.methods"></a>19.7.4. Available Methods</h3></div></div></div></div>
<div class="section" title="19.7.5. Examples">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.loader.standard-autoloader.examples"></a>19.7.5. Examples</h3></div></div></div>
<p>
            Please review the <a class="link" href="zend.loader.standard-autoloader.html#zend.loader.standard-autoloader.quick-start" title="19.7.2. Quick Start">examples
                in the quick start</a> for usage.
        </p>
</div>
</div>
<div class="navfooter"><table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="zend.loader.class-map-autoloader.methods.register.html">Prev</a> </td>
<td width="20%" align="center"><a accesskey="u" href="zend.loader.html">Up</a></td>
<td width="40%" align="right"> <a accesskey="n" href="zend.loader.standard-autoloader.methods.constructor.html">Next</a>
</td>
</tr>
<tr>
<td width="40%" align="left" valign="top">register </td>
<td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td>
<td width="40%" align="right" valign="top"> __construct</td>
</tr>
</table></div>
<div class="revinfo"></div>
</body>
</html>

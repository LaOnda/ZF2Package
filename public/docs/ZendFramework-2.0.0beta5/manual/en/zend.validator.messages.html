<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>26.5. Validation Messages</title>
<link rel="stylesheet" type="text/css" href="dbstyle.css">
<meta name="generator" content="DocBook XSL-NS Stylesheets V1.76.1">
<link rel="home" href="index.html" title="Programmer's Reference Guide">
<link rel="up" href="zend.validator.html" title="Chapter 26. Zend\Validator">
<link rel="prev" href="zend.validator.writing_validators.html" title="26.4. Writing Validators">
<link rel="next" href="zend.view.html" title="Chapter 27. Zend_View">
<link rel="part" href="introduction.html" title="Part I. Introduction to Zend Framework">
<link rel="chapter" href="introduction.overview.html" title="Chapter 1. Overview">
<link rel="chapter" href="introduction.installation.html" title="Chapter 2. Installation">
<link rel="part" href="learning.html" title="Part II. Learning Zend Framework">
<link rel="article" href="learning.di.html" title="Learning Dependency Injection">
<link rel="part" href="reference.html" title="Part III. Zend Framework Reference">
<link rel="chapter" href="zend.acl.html" title="Chapter 3. Zend\Acl">
<link rel="chapter" href="zend.authentication.html" title="Chapter 4. Zend\Authentication">
<link rel="chapter" href="zend.barcode.html" title="Chapter 5. Zend\Barcode">
<link rel="chapter" href="zend.cache.html" title="Chapter 6. Zend\Cache">
<link rel="chapter" href="zend.captcha.html" title="Chapter 7. Zend\Captcha">
<link rel="chapter" href="zend.config.html" title="Chapter 8. Zend_Config">
<link rel="chapter" href="zend.crypt.html" title="Chapter 9. Zend_Crypt">
<link rel="chapter" href="zend.db.html" title="Chapter 10. Zend_Db">
<link rel="chapter" href="zend.di.html" title="Chapter 11. Zend\Di">
<link rel="chapter" href="zend.dom.html" title="Chapter 12. Zend\Dom">
<link rel="chapter" href="zend.event-manager.html" title="Chapter 13. Zend\EventManager">
<link rel="chapter" href="zend.form.html" title="Chapter 14. Zend_Form">
<link rel="chapter" href="zend.http.html" title="Chapter 15. Zend_Http">
<link rel="chapter" href="zend.i18n.html" title="Chapter 16. Zend_I18n">
<link rel="chapter" href="zend.input-filter.html" title="Chapter 17. Zend\InputFilter">
<link rel="chapter" href="zend.ldap.html" title="Chapter 18. Zend_Ldap">
<link rel="chapter" href="zend.loader.html" title="Chapter 19. Zend\Loader">
<link rel="refentry" href="zend.loader.autoloader-factory.methods.factory.html" title="factory">
<link rel="refentry" href="zend.loader.autoloader-factory.methods.get-registered-autoloaders.html" title="getRegisteredAutoloaders">
<link rel="refentry" href="zend.loader.plugin-class-loader.methods.constructor.html" title="__construct">
<link rel="refentry" href="zend.loader.plugin-class-loader.methods.add-static-map.html" title="addStaticMap">
<link rel="refentry" href="zend.loader.plugin-class-loader.methods.register-plugin.html" title="registerPlugin">
<link rel="refentry" href="zend.loader.plugin-class-loader.methods.register-plugins.html" title="registerPlugins">
<link rel="refentry" href="zend.loader.plugin-class-loader.methods.unregister-plugin.html" title="unregisterPlugin">
<link rel="refentry" href="zend.loader.plugin-class-loader.methods.get-registered-plugins.html" title="getRegisteredPlugins">
<link rel="refentry" href="zend.loader.plugin-class-loader.methods.is-loaded.html" title="isLoaded">
<link rel="refentry" href="zend.loader.plugin-class-loader.methods.get-class-name.html" title="getClassName">
<link rel="refentry" href="zend.loader.plugin-class-loader.methods.load.html" title="load">
<link rel="refentry" href="zend.loader.plugin-class-loader.methods.get-iterator.html" title="getIterator">
<link rel="refentry" href="zend.loader.short-name-locator.methods.is-loaded.html" title="isLoaded">
<link rel="refentry" href="zend.loader.short-name-locator.methods.get-class-name.html" title="getClassName">
<link rel="refentry" href="zend.loader.short-name-locator.methods.load.html" title="load">
<link rel="refentry" href="zend.loader.plugin-class-locator.methods.register-plugin.html" title="registerPlugin">
<link rel="refentry" href="zend.loader.plugin-class-locator.methods.unregister-plugin.html" title="unregisterPlugin">
<link rel="refentry" href="zend.loader.plugin-class-locator.methods.get-registered-plugins.html" title="getRegisteredPlugins">
<link rel="refentry" href="zend.loader.spl-autoloader.methods.constructor.html" title="__construct">
<link rel="refentry" href="zend.loader.spl-autoloader.methods.set-options.html" title="setOptions">
<link rel="refentry" href="zend.loader.spl-autoloader.methods.autoload.html" title="autoload">
<link rel="refentry" href="zend.loader.spl-autoloader.methods.register.html" title="register">
<link rel="refentry" href="zend.loader.class-map-autoloader.methods.constructor.html" title="__construct">
<link rel="refentry" href="zend.loader.class-map-autoloader.methods.set-options.html" title="setOptions">
<link rel="refentry" href="zend.loader.class-map-autoloader.methods.register-autoload-map.html" title="registerAutoloadMap">
<link rel="refentry" href="zend.loader.class-map-autoloader.methods.register-autoload-maps.html" title="registerAutoloadMaps">
<link rel="refentry" href="zend.loader.class-map-autoloader.methods.get-autoload-map.html" title="getAutoloadMap">
<link rel="refentry" href="zend.loader.class-map-autoloader.methods.autoload.html" title="autoload">
<link rel="refentry" href="zend.loader.class-map-autoloader.methods.register.html" title="register">
<link rel="refentry" href="zend.loader.standard-autoloader.methods.constructor.html" title="__construct">
<link rel="refentry" href="zend.loader.standard-autoloader.methods.set-options.html" title="setOptions">
<link rel="refentry" href="zend.loader.standard-autoloader.methods.set-fallback-autoloader.html" title="setFallbackAutoloader">
<link rel="refentry" href="zend.loader.standard-autoloader.methods.is-fallback-autoloader.html" title="isFallbackAutoloader">
<link rel="refentry" href="zend.loader.standard-autoloader.methods.register-namespace.html" title="registerNamespace">
<link rel="refentry" href="zend.loader.standard-autoloader.methods.register-namespaces.html" title="registerNamespaces">
<link rel="refentry" href="zend.loader.standard-autoloader.methods.register-prefix.html" title="registerPrefix">
<link rel="refentry" href="zend.loader.standard-autoloader.methods.register-prefixes.html" title="registerPrefixes">
<link rel="refentry" href="zend.loader.standard-autoloader.methods.autoload.html" title="autoload">
<link rel="refentry" href="zend.loader.standard-autoloader.methods.register.html" title="register">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.constructor.html" title="__construct">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.add-static-paths.html" title="addStaticPaths">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.set-options.html" title="setOptions">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.add-prefix-path.html" title="addPrefixPath">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.add-prefix-paths.html" title="addPrefixPaths">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.get-paths.html" title="getPaths">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.clear-paths.html" title="clearPaths">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.remove-prefix-path.html" title="removePrefixPath">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.is-loaded.html" title="isLoaded">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.get-class-name.html" title="getClassName">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.load.html" title="load">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.get-plugin-map.html" title="getPluginMap">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.get-class-map.html" title="getClassMap">
<link rel="refentry" href="zend.loader.prefix-path-mapper.methods.add-prefix-path.html" title="addPrefixPath">
<link rel="refentry" href="zend.loader.prefix-path-mapper.methods.remove-prefix-path.html" title="removePrefixPath">
<link rel="chapter" href="zend.mail.html" title="Chapter 20. Zend\Mail">
<link rel="chapter" href="zend.module-manager.html" title="Chapter 21. Zend\ModuleManager">
<link rel="chapter" href="zend.mvc.html" title="Chapter 22. Zend\Mvc">
<link rel="chapter" href="zend.service-manager.html" title="Chapter 23. Zend\ServiceManager">
<link rel="chapter" href="zend.stdlib.html" title="Chapter 24. Zend\Stdlib">
<link rel="chapter" href="zend.uri.html" title="Chapter 25. Zend_Uri">
<link rel="chapter" href="zend.validator.html" title="Chapter 26. Zend\Validator">
<link rel="chapter" href="zend.view.html" title="Chapter 27. Zend_View">
<link rel="chapter" href="zend.xmlrpc.html" title="Chapter 28. Zend_XmlRpc">
<link rel="appendix" href="copyrights.html" title="Appendix A. Copyright Information">
<link rel="subsection" href="zend.validator.messages.html#zend.validator.messages.pretranslated" title="26.5.1. Using pre-translated validation messages">
<link rel="subsection" href="zend.validator.messages.html#zend.validator.messages.limitation" title="26.5.2. Limit the size of a validation message">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader"><table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">26.5. Validation Messages</th></tr>
<tr>
<td width="20%" align="left">
<a accesskey="p" href="zend.validator.writing_validators.html">Prev</a> </td>
<th width="60%" align="center">Chapter 26. Zend\Validator</th>
<td width="20%" align="right"> <a accesskey="n" href="zend.view.html">Next</a>
</td>
</tr>
</table></div>
<div class="section" title="26.5. Validation Messages">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="zend.validator.messages"></a>26.5. Validation Messages</h2></div></div></div>
<p>
        Each validator which is based on <code class="interfacename">Zend\Validator\ValidatorInterface</code> provides
        one or multiple messages in the case of a failed validation. You can use
        this information to set your own messages, or to translate existing messages which a
        validator could return to something different.
    </p>
<p>
        These validation messages are constants which can be found at top of each validator class.
        Let's look into <code class="classname">Zend\Validator\GreaterThan</code> for an descriptive example:
    </p>
<pre class="programlisting">
protected $messageTemplates = array(
    self::NOT_GREATER =&gt; "'%value%' is not greater than '%min%'",
);
</pre>
<p>
        As you can see the constant <code class="constant">self::NOT_GREATER</code> refers to the failure and
        is used as key, and the message itself is used as value of the message array.
    </p>
<p>
        You can retrieve all message templates from a validator by using the
        <code class="methodname">getMessageTemplates()</code> method. It returns you the above array which
        contains all messages a validator could return in the case of a failed validation.
    </p>
<pre class="programlisting">
$validator = new Zend\Validator\GreaterThan();
$messages  = $validator-&gt;getMessageTemplates();
</pre>
<p>
        Using the <code class="methodname">setMessage()</code> method you can set another message to be
        returned in case of the specified failure.
    </p>
<pre class="programlisting">
$validator = new Zend\Validator\GreaterThan();
$validator-&gt;setMessage(
    'Please enter a lower value',
    Zend\Validator\GreaterThan::NOT_GREATER
);
</pre>
<p>
        The second parameter defines the failure which will be overridden. When you omit this
        parameter, then the given message will be set for all possible failures of this validator.
    </p>
<div class="section" title="26.5.1. Using pre-translated validation messages">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.validator.messages.pretranslated"></a>26.5.1. Using pre-translated validation messages</h3></div></div></div>
<p>
            Zend Framework is shipped with more than 45 different validators with more than 200
            failure messages. It can be a tedious task to translate all of these messages. But for
            your convenience Zend Framework comes with already pre-translated validation messages.
            You can find them within the path <code class="filename">/resources/languages</code> in your
            Zend Framework installation.
        </p>
<div class="note" title="Used path"><table border="0" summary="Note: Used path">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td>
<th align="left">Used path</th>
</tr>
<tr><td align="left" valign="top"><p>
                The resource files are outside of the library path because all of your translations
                should also be outside of this path.
            </p></td></tr>
</table></div>
<p>
            So to translate all validation messages to German for example, all you have to do is to
            attach a translator to <code class="classname">Zend\Validator\AbstractValidator</code> using these resource files.
        </p>
<pre class="programlisting">
$translator = new Zend\I18n\Translator\Translator();
$translator-&gt;addTranslationFile(
    'phpArray'
    'resources/languages/en.php',
    'default',
    'en_US
);
Zend\Validator\AbstractValidator::setDefaultTranslator($translator);
</pre>
<div class="note" title="Supported languages"><table border="0" summary="Note: Supported languages">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td>
<th align="left">Supported languages</th>
</tr>
<tr><td align="left" valign="top">
<p>
                This feature is very young, so the amount of supported languages may not be
                complete. New languages will be added with each release. Additionally feel free to
                use the existing resource files to make your own translations.
            </p>
<p>
                You could also use these resource files to rewrite existing translations. So you
                are not in need to create these files manually yourself.
            </p>
</td></tr>
</table></div>
</div>
<div class="section" title="26.5.2. Limit the size of a validation message">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.validator.messages.limitation"></a>26.5.2. Limit the size of a validation message</h3></div></div></div>
<p>
            Sometimes it is necessary to limit the maximum size a validation message can have.
            For example when your view allows a maximum size of 100 chars to be rendered on one
            line. To simplify the usage, <code class="classname">Zend\Validator\AbstractValidator</code> is able to
            automatically limit the maximum returned size of a validation message.
        </p>
<p>
            To get the actual set size use
            <code class="methodname">Zend\Validator\AbstractValidator::getMessageLength()</code>. If it is -1, then the
            returned message will not be truncated. This is default behaviour.
        </p>
<p>
            To limit the returned message size use
            <code class="methodname">Zend\Validator\AbstractValidator::setMessageLength()</code>. Set it to any integer size
            you need. When the returned message exceeds the set size, then the message
            will be truncated and the string '<span class="emphasis"><em>...</em></span>' will be added instead of
            the rest of the message.
        </p>
<pre class="programlisting">
Zend\Validator\AbstractValidator::setMessageLength(100);
</pre>
<div class="note" title="Where is this parameter used?"><table border="0" summary="Note: Where is this parameter used?">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td>
<th align="left">Where is this parameter used?</th>
</tr>
<tr><td align="left" valign="top"><p>
                The set message length is used for all validators, even for self defined ones,
                as long as they extend <code class="classname">Zend\Validator\AbstractValidator</code>.
            </p></td></tr>
</table></div>
</div>
</div>
<div class="navfooter"><table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="zend.validator.writing_validators.html">Prev</a> </td>
<td width="20%" align="center"><a accesskey="u" href="zend.validator.html">Up</a></td>
<td width="40%" align="right"> <a accesskey="n" href="zend.view.html">Next</a>
</td>
</tr>
<tr>
<td width="40%" align="left" valign="top">26.4. Writing Validators </td>
<td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td>
<td width="40%" align="right" valign="top"> Chapter 27. Zend_View</td>
</tr>
</table></div>
<div class="revinfo"></div>
</body>
</html>

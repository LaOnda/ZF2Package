<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>27.4. View Helpers</title>
<link rel="stylesheet" type="text/css" href="dbstyle.css">
<meta name="generator" content="DocBook XSL-NS Stylesheets V1.76.1">
<link rel="home" href="index.html" title="Programmer's Reference Guide">
<link rel="up" href="zend.view.html" title="Chapter 27. Zend_View">
<link rel="prev" href="zend.view.php-renderer.scripts.html" title="27.3. PhpRenderer View Scripts">
<link rel="next" href="zend.xmlrpc.html" title="Chapter 28. Zend_XmlRpc">
<link rel="part" href="introduction.html" title="Part I. Introduction to Zend Framework">
<link rel="chapter" href="introduction.overview.html" title="Chapter 1. Overview">
<link rel="chapter" href="introduction.installation.html" title="Chapter 2. Installation">
<link rel="part" href="learning.html" title="Part II. Learning Zend Framework">
<link rel="article" href="learning.di.html" title="Learning Dependency Injection">
<link rel="part" href="reference.html" title="Part III. Zend Framework Reference">
<link rel="chapter" href="zend.acl.html" title="Chapter 3. Zend\Acl">
<link rel="chapter" href="zend.authentication.html" title="Chapter 4. Zend\Authentication">
<link rel="chapter" href="zend.barcode.html" title="Chapter 5. Zend\Barcode">
<link rel="chapter" href="zend.cache.html" title="Chapter 6. Zend\Cache">
<link rel="chapter" href="zend.captcha.html" title="Chapter 7. Zend\Captcha">
<link rel="chapter" href="zend.config.html" title="Chapter 8. Zend_Config">
<link rel="chapter" href="zend.crypt.html" title="Chapter 9. Zend_Crypt">
<link rel="chapter" href="zend.db.html" title="Chapter 10. Zend_Db">
<link rel="chapter" href="zend.di.html" title="Chapter 11. Zend\Di">
<link rel="chapter" href="zend.dom.html" title="Chapter 12. Zend\Dom">
<link rel="chapter" href="zend.event-manager.html" title="Chapter 13. Zend\EventManager">
<link rel="chapter" href="zend.form.html" title="Chapter 14. Zend_Form">
<link rel="chapter" href="zend.http.html" title="Chapter 15. Zend_Http">
<link rel="chapter" href="zend.i18n.html" title="Chapter 16. Zend_I18n">
<link rel="chapter" href="zend.input-filter.html" title="Chapter 17. Zend\InputFilter">
<link rel="chapter" href="zend.ldap.html" title="Chapter 18. Zend_Ldap">
<link rel="chapter" href="zend.loader.html" title="Chapter 19. Zend\Loader">
<link rel="refentry" href="zend.loader.autoloader-factory.methods.factory.html" title="factory">
<link rel="refentry" href="zend.loader.autoloader-factory.methods.get-registered-autoloaders.html" title="getRegisteredAutoloaders">
<link rel="refentry" href="zend.loader.plugin-class-loader.methods.constructor.html" title="__construct">
<link rel="refentry" href="zend.loader.plugin-class-loader.methods.add-static-map.html" title="addStaticMap">
<link rel="refentry" href="zend.loader.plugin-class-loader.methods.register-plugin.html" title="registerPlugin">
<link rel="refentry" href="zend.loader.plugin-class-loader.methods.register-plugins.html" title="registerPlugins">
<link rel="refentry" href="zend.loader.plugin-class-loader.methods.unregister-plugin.html" title="unregisterPlugin">
<link rel="refentry" href="zend.loader.plugin-class-loader.methods.get-registered-plugins.html" title="getRegisteredPlugins">
<link rel="refentry" href="zend.loader.plugin-class-loader.methods.is-loaded.html" title="isLoaded">
<link rel="refentry" href="zend.loader.plugin-class-loader.methods.get-class-name.html" title="getClassName">
<link rel="refentry" href="zend.loader.plugin-class-loader.methods.load.html" title="load">
<link rel="refentry" href="zend.loader.plugin-class-loader.methods.get-iterator.html" title="getIterator">
<link rel="refentry" href="zend.loader.short-name-locator.methods.is-loaded.html" title="isLoaded">
<link rel="refentry" href="zend.loader.short-name-locator.methods.get-class-name.html" title="getClassName">
<link rel="refentry" href="zend.loader.short-name-locator.methods.load.html" title="load">
<link rel="refentry" href="zend.loader.plugin-class-locator.methods.register-plugin.html" title="registerPlugin">
<link rel="refentry" href="zend.loader.plugin-class-locator.methods.unregister-plugin.html" title="unregisterPlugin">
<link rel="refentry" href="zend.loader.plugin-class-locator.methods.get-registered-plugins.html" title="getRegisteredPlugins">
<link rel="refentry" href="zend.loader.spl-autoloader.methods.constructor.html" title="__construct">
<link rel="refentry" href="zend.loader.spl-autoloader.methods.set-options.html" title="setOptions">
<link rel="refentry" href="zend.loader.spl-autoloader.methods.autoload.html" title="autoload">
<link rel="refentry" href="zend.loader.spl-autoloader.methods.register.html" title="register">
<link rel="refentry" href="zend.loader.class-map-autoloader.methods.constructor.html" title="__construct">
<link rel="refentry" href="zend.loader.class-map-autoloader.methods.set-options.html" title="setOptions">
<link rel="refentry" href="zend.loader.class-map-autoloader.methods.register-autoload-map.html" title="registerAutoloadMap">
<link rel="refentry" href="zend.loader.class-map-autoloader.methods.register-autoload-maps.html" title="registerAutoloadMaps">
<link rel="refentry" href="zend.loader.class-map-autoloader.methods.get-autoload-map.html" title="getAutoloadMap">
<link rel="refentry" href="zend.loader.class-map-autoloader.methods.autoload.html" title="autoload">
<link rel="refentry" href="zend.loader.class-map-autoloader.methods.register.html" title="register">
<link rel="refentry" href="zend.loader.standard-autoloader.methods.constructor.html" title="__construct">
<link rel="refentry" href="zend.loader.standard-autoloader.methods.set-options.html" title="setOptions">
<link rel="refentry" href="zend.loader.standard-autoloader.methods.set-fallback-autoloader.html" title="setFallbackAutoloader">
<link rel="refentry" href="zend.loader.standard-autoloader.methods.is-fallback-autoloader.html" title="isFallbackAutoloader">
<link rel="refentry" href="zend.loader.standard-autoloader.methods.register-namespace.html" title="registerNamespace">
<link rel="refentry" href="zend.loader.standard-autoloader.methods.register-namespaces.html" title="registerNamespaces">
<link rel="refentry" href="zend.loader.standard-autoloader.methods.register-prefix.html" title="registerPrefix">
<link rel="refentry" href="zend.loader.standard-autoloader.methods.register-prefixes.html" title="registerPrefixes">
<link rel="refentry" href="zend.loader.standard-autoloader.methods.autoload.html" title="autoload">
<link rel="refentry" href="zend.loader.standard-autoloader.methods.register.html" title="register">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.constructor.html" title="__construct">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.add-static-paths.html" title="addStaticPaths">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.set-options.html" title="setOptions">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.add-prefix-path.html" title="addPrefixPath">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.add-prefix-paths.html" title="addPrefixPaths">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.get-paths.html" title="getPaths">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.clear-paths.html" title="clearPaths">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.remove-prefix-path.html" title="removePrefixPath">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.is-loaded.html" title="isLoaded">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.get-class-name.html" title="getClassName">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.load.html" title="load">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.get-plugin-map.html" title="getPluginMap">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.get-class-map.html" title="getClassMap">
<link rel="refentry" href="zend.loader.prefix-path-mapper.methods.add-prefix-path.html" title="addPrefixPath">
<link rel="refentry" href="zend.loader.prefix-path-mapper.methods.remove-prefix-path.html" title="removePrefixPath">
<link rel="chapter" href="zend.mail.html" title="Chapter 20. Zend\Mail">
<link rel="chapter" href="zend.module-manager.html" title="Chapter 21. Zend\ModuleManager">
<link rel="chapter" href="zend.mvc.html" title="Chapter 22. Zend\Mvc">
<link rel="chapter" href="zend.service-manager.html" title="Chapter 23. Zend\ServiceManager">
<link rel="chapter" href="zend.stdlib.html" title="Chapter 24. Zend\Stdlib">
<link rel="chapter" href="zend.uri.html" title="Chapter 25. Zend_Uri">
<link rel="chapter" href="zend.validator.html" title="Chapter 26. Zend\Validator">
<link rel="chapter" href="zend.view.html" title="Chapter 27. Zend_View">
<link rel="chapter" href="zend.xmlrpc.html" title="Chapter 28. Zend_XmlRpc">
<link rel="appendix" href="copyrights.html" title="Appendix A. Copyright Information">
<link rel="subsection" href="zend.view.helpers.html#zend.view.helpers.initial" title="27.4.1. Included Helpers">
<link rel="subsection" href="zend.view.helpers.html#zend.view.helpers.register" title="27.4.2. Registering Helpers">
<link rel="subsection" href="zend.view.helpers.html#zend.view.helpers.custom" title="27.4.3. Writing Custom Helpers">
<link rel="subsection" href="zend.view.helpers.html#zend.view.helpers.registering-concrete" title="27.4.4. Registering Concrete Helpers">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader"><table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">27.4. View Helpers</th></tr>
<tr>
<td width="20%" align="left">
<a accesskey="p" href="zend.view.php-renderer.scripts.html">Prev</a> </td>
<th width="60%" align="center">Chapter 27. Zend_View</th>
<td width="20%" align="right"> <a accesskey="n" href="zend.xmlrpc.html">Next</a>
</td>
</tr>
</table></div>
<div class="section" title="27.4. View Helpers">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="zend.view.helpers"></a>27.4. View Helpers</h2></div></div></div>
<p>
        In your view scripts, often it is necessary to perform certain complex functions over and
        over: e.g., formatting a date, generating form elements, or displaying action links. You can
        use helper, or plugin, classes to perform these behaviors for you.
    </p>
<p>
        A helper is simply a class that implements the interface <code class="classname">Zend\View\Helper</code>. 
        <code class="classname">Helper</code> simply defines two methods,
        <code class="methodname">setView()</code>, which accepts a
        <code class="classname">Zend\View\Renderer</code> instance/implementation, and
        <code class="methodname">getView()</code>, used to retrieve that instance.
        <code class="classname">Zend\View\PhpRenderer</code> composes a <a class="link" href="">plugin broker</a>, allowing you to
        retrieve helpers, and also provides some method overloading capabilities that allow proxying
        method calls to helpers.
    </p>
<p>
        As an example, let's say we have a helper class named
        <code class="classname">My\Helper\LowerCase</code>, which we map in our plugin broker to the name
        "lowercase". We can retrieve or invoke it in one of the following ways:
    </p>
<pre class="programlisting">
// $view is a PhpRenderer instance

// Via the plugin broker:
$broker = $view-&gt;getBroker();
$helper = $broker-&gt;load('lowercase');

// Retrieve the helper instance, via the method "plugin", 
// which proxies to the plugin broker:
$helper = $view-&gt;plugin('lowercase');

// If the helper does not define __invoke(), the following also retrieves it:
$helper = $view-&gt;lowercase();

// If the helper DOES define __invoke, you can call the helper 
// as if it is a method:
$filtered = $view-&gt;lowercase('some value');
</pre>
<p>
        The last two examples demonstrate how the <code class="classname">PhpRenderer</code> uses method
        overloading to retrieve and/or invoke helpers directly, offering a convenience API for end
        users.
    </p>
<p>
        A large number of helpers are provided in the standard distribution of Zend Framework.  You
        can also register helpers by adding them to the <a class="link" href="">plugin broker</a>, or the plugin locator the
        broker composes. Please refer to the <a class="link" href="">plugin broker
            documentation</a> for details.
    </p>
<div class="section" title="27.4.1. Included Helpers">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.view.helpers.initial"></a>27.4.1. Included Helpers</h3></div></div></div>
<p>
            Zend Framework comes with an initial set of helper classes. In particular, there are
            helpers for creating route-based <acronym class="acronym">URL</acronym>s and <acronym class="acronym">HTML</acronym>
            lists, as well as declaring variables. Additionally, there are a rich set of helpers for
            providing values for, and rendering, the various HTML <code class="code">&lt;head&gt;</code> tags,
            such as <code class="classname">HeadTitle</code>, <code class="classname">HeadLink</code>, and
            <code class="classname">HeadScript</code>. The currently shipped helpers include:
        </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p>
                    <code class="methodname">url($urlOptions, $name, $reset)</code>: Creates a
                    <acronym class="acronym">URL</acronym> string based on a named route.
                    <code class="varname">$urlOptions</code> should be an associative array of key/value pairs
                    used by the particular route.
                </p></li>
<li class="listitem"><p>
                    <code class="methodname">htmlList($items, $ordered, $attribs, $escape)</code>:
                    generates unordered and ordered lists based on the <code class="varname">$items</code>
                    passed to it. If <code class="varname">$items</code> is a multidimensional
                    array, a nested list will be built. If the <code class="varname">$escape</code>
                    flag is <code class="constant">TRUE</code> (default), individual items will be escaped
                    using the view objects registered escaping mechanisms; pass a
                    <code class="constant">FALSE</code> value if you want to allow markup in your lists.
                </p></li>
</ul></div>
<div class="section" title="27.4.1.1. Action View Helper">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.view.helpers.initial.action"></a>27.4.1.1. Action View Helper</h4></div></div></div>
<p>
        The <code class="classname">Action</code> view helper enables view scripts to dispatch a
        given controller action; the result of the response object following the
        dispatch is then returned. These can be used when a particular action
        could generate re-usable content or "widget-ized" content.
    </p>
<p>
        Actions that result in a <code class="methodname">_forward()</code> or redirect are
        considered invalid, and will return an empty string.
    </p>
<p>
        The <acronym class="acronym">API</acronym> for the <code class="classname">Action</code> view helper follows that of
        most <acronym class="acronym">MVC</acronym> components that invoke controller actions:
        <span class="command"><strong>action($action, $controller, $module = null, array $params = array())</strong></span>.
        <code class="varname">$action</code> and <code class="varname">$controller</code> are required; if no
        module is specified, the default module is assumed.
    </p>
<div class="example">
<a name="zend.view.helpers.initial.action.usage"></a><p class="title"><b>Example 27.5. Basic Usage of Action View Helper</b></p>
<div class="example-contents">
<p>
            As an example, you may have a <code class="classname">CommentController</code> with a
            <code class="methodname">listAction()</code> method you wish to invoke in order to pull
            a list of comments for the current request:
        </p>
<pre class="programlisting">
&lt;div id="sidebar right"&gt;
    &lt;div class="item"&gt;
        &lt;?php echo $this-&gt;action('list',
                                 'comment',
                                 null,
                                 array('count' =&gt; 10)); ?&gt;
    &lt;/div&gt;
&lt;/div&gt;
</pre>
</div>
</div>
<br class="example-break">
</div>
<div class="section" title="27.4.1.2. BaseUrl Helper">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.view.helpers.initial.baseurl"></a>27.4.1.2. BaseUrl Helper</h4></div></div></div>
<p>
        While most <acronym class="acronym">URL</acronym>s generated by the framework have the base
        <acronym class="acronym">URL</acronym> prepended automatically, developers will need to prepend the
        base <acronym class="acronym">URL</acronym> to their own <acronym class="acronym">URL</acronym>s in order for paths
        to resources to be correct.
    </p>
<p>
        Usage of the BaseUrl helper is very straightforward:
    </p>
<pre class="programlisting">
/*
 * The following assume that the base URL of the page/application is "/mypage".
 */

/*
 * Prints:
 * &lt;base href="/mypage/" /&gt;
 */
&lt;base href="&lt;?php echo $this-&gt;baseUrl(); ?&gt;" /&gt;

/*
 * Prints:
 * &lt;link rel="stylesheet" type="text/css" href="/mypage/css/base.css" /&gt;
 */
&lt;link rel="stylesheet" type="text/css"
     href="&lt;?php echo $this-&gt;baseUrl('css/base.css'); ?&gt;" /&gt;
</pre>
<div class="note" title="Note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td>
<th align="left">Note</th>
</tr>
<tr><td align="left" valign="top"><p>
            For simplicity's sake, we strip out the entry <acronym class="acronym">PHP</acronym> file (e.g.,
            "<code class="filename">index.php</code>") from the base <acronym class="acronym">URL</acronym> that was
            contained in <code class="classname">Zend_Controller</code>. However, in some situations
            this may cause a problem. If one occurs, use
            <code class="methodname">$this-&gt;getHelper('BaseUrl')-&gt;setBaseUrl()</code> to set your
            own BaseUrl.
        </p></td></tr>
</table></div>
</div>
<div class="section" title="27.4.1.3. Cycle Helper">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.view.helpers.initial.cycle"></a>27.4.1.3. Cycle Helper</h4></div></div></div>
<p>
        The <code class="classname">Cycle</code> helper is used to alternate a set of values.
    </p>
<div class="example">
<a name="zend.view.helpers.initial.cycle.basicusage"></a><p class="title"><b>Example 27.6. Cycle Helper Basic Usage</b></p>
<div class="example-contents">
<p>
            To add elements to cycle just specify them in constructor
            or use <code class="methodname">assign(array $data)</code> function
        </p>
<pre class="programlisting">
&lt;?php foreach ($this-&gt;books as $book):?&gt;
  &lt;tr style="background-color:&lt;?php echo $this-&gt;cycle(array("#F0F0F0",
                                                            "#FFFFFF"))
                                              -&gt;next()?&gt;"&gt;
  &lt;td&gt;&lt;?php echo $this-&gt;escape($book['author']) ?&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;?php endforeach;?&gt;

// Moving in backwards order and assign function
$this-&gt;cycle()-&gt;assign(array("#F0F0F0","#FFFFFF"));
$this-&gt;cycle()-&gt;prev();
?&gt;
</pre>
<p>
            The output
        </p>
<pre class="programlisting">
&lt;tr style="background-color:'#F0F0F0'"&gt;
   &lt;td&gt;First&lt;/td&gt;
&lt;/tr&gt;
&lt;tr style="background-color:'#FFFFFF'"&gt;
   &lt;td&gt;Second&lt;/td&gt;
&lt;/tr&gt;
</pre>
</div>
</div>
<br class="example-break"><div class="example">
<a name="zend.view.helpers.initial.cycle.advanceusage"></a><p class="title"><b>Example 27.7. Working with two or more cycles</b></p>
<div class="example-contents"><p>
           To use two cycles you have to specify the names of cycles. Just set second parameter in
           cycle method. <span class="command"><strong>$this-&gt;cycle(array("#F0F0F0","#FFFFFF"),'cycle2')</strong></span>. You
           can also use setName($name) function.
        </p></div>
</div>
<br class="example-break"><pre class="programlisting">
&lt;?php foreach ($this-&gt;books as $book):?&gt;
  &lt;tr style="background-color:&lt;?php echo $this-&gt;cycle(array("#F0F0F0",
                                                            "#FFFFFF"))
                                              -&gt;next()?&gt;"&gt;
  &lt;td&gt;&lt;?php echo $this-&gt;cycle(array(1,2,3),'number')-&gt;next()?&gt;&lt;/td&gt;
  &lt;td&gt;&lt;?php echo $this-&gt;escape($book['author'])?&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;?php endforeach;?&gt;
</pre>
</div>
<div class="section" title="27.4.1.4. Partial Helper">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.view.helpers.initial.partial"></a>27.4.1.4. Partial Helper</h4></div></div></div>
<p>
        The <code class="classname">Partial</code> view helper is used to render a specified
        template within its own variable scope. The primary use is for reusable
        template fragments with which you do not need to worry about variable
        name clashes. Additionally, they allow you to specify partial view
        scripts from specific modules.
    </p>
<p>
        A sibling to the <code class="classname">Partial</code>, the <code class="classname">PartialLoop</code> view
        helper allows you to pass iterable data, and render a partial for each
        item.
    </p>
<div class="note" title="PartialLoop Counter"><table border="0" summary="Note: PartialLoop Counter">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td>
<th align="left">PartialLoop Counter</th>
</tr>
<tr><td align="left" valign="top"><p>
            The <code class="classname">PartialLoop</code> view helper assigns a variable to the view named
            <span class="emphasis"><em>partialCounter</em></span> which passes the current position of the array to
            the view script. This provides an easy way to have alternating colors on table rows for
            example.
        </p></td></tr>
</table></div>
<div class="example">
<a name="zend.view.helpers.initial.partial.usage"></a><p class="title"><b>Example 27.8. Basic Usage of Partials</b></p>
<div class="example-contents">
<p>
            Basic usage of partials is to render a template fragment in its own
            view scope. Consider the following partial script:
        </p>
<pre class="programlisting">
&lt;?php // partial.phtml ?&gt;
&lt;ul&gt;
    &lt;li&gt;From: &lt;?php echo $this-&gt;escape($this-&gt;from) ?&gt;&lt;/li&gt;
    &lt;li&gt;Subject: &lt;?php echo $this-&gt;escape($this-&gt;subject) ?&gt;&lt;/li&gt;
&lt;/ul&gt;
</pre>
<p>
            You would then call it from your view script using the following:
        </p>
<pre class="programlisting">
&lt;?php echo $this-&gt;partial('partial.phtml', array(
    'from' =&gt; 'Team Framework',
    'subject' =&gt; 'view partials')); ?&gt;
</pre>
<p>
            Which would then render:
        </p>
<pre class="programlisting">
&lt;ul&gt;
    &lt;li&gt;From: Team Framework&lt;/li&gt;
    &lt;li&gt;Subject: view partials&lt;/li&gt;
&lt;/ul&gt;
</pre>
</div>
</div>
<br class="example-break"><div class="note" title="What is a model?"><table border="0" summary="Note: What is a model?">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td>
<th align="left">What is a model?</th>
</tr>
<tr><td align="left" valign="top">
<p>
            A model used with the <code class="classname">Partial</code> view helper can be
            one of the following:
        </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p>
                    <span class="emphasis"><em>Array</em></span>. If an array is passed, it
                    should be associative, as its key/value pairs are
                    assigned to the view with keys as view variables.
                </p></li>
<li class="listitem"><p>
                    <span class="emphasis"><em>Object implementing toArray() method</em></span>. If an object is
                    passed an has a <code class="methodname">toArray()</code> method, the results of
                    <code class="methodname">toArray()</code> will be assigned to the view
                    object as view variables.
                </p></li>
<li class="listitem"><p>
                    <span class="emphasis"><em>Standard object</em></span>. Any other object
                    will assign the results of
                    <code class="methodname">object_get_vars()</code> (essentially all public
                    properties of the object) to the view object.
                </p></li>
</ul></div>
<p>
            If your model is an object, you may want to have it passed
            <span class="emphasis"><em>as an object</em></span> to the partial script, instead
            of serializing it to an array of variables. You can do this by
            setting the 'objectKey' property of the appropriate helper:
        </p>
<pre class="programlisting">
// Tell partial to pass objects as 'model' variable
$view-&gt;partial()-&gt;setObjectKey('model');

// Tell partial to pass objects from partialLoop as 'model' variable
// in final partial view script:
$view-&gt;partialLoop()-&gt;setObjectKey('model');
</pre>
<p>
            This technique is particularly useful when passing
            <code class="classname">Zend_Db_Table_Rowset</code>s to
            <code class="methodname">partialLoop()</code>, as you then have full access to your
            row objects within the view scripts, allowing you to call
            methods on them (such as retrieving values from parent or
            dependent rows).
        </p>
</td></tr>
</table></div>
<div class="example">
<a name="zend.view.helpers.initial.partial.partialloop"></a><p class="title"><b>Example 27.9. Using PartialLoop to Render Iterable Models</b></p>
<div class="example-contents">
<p>
            Typically, you'll want to use partials in a loop, to render the same
            content fragment many times; this way you can put large blocks of
            repeated content or complex display logic into a single location.
            However this has a performance impact, as the partial helper needs
            to be invoked once for each iteration.
        </p>
<p>
            The <code class="classname">PartialLoop</code> view helper helps solve this issue. It
            allows you to pass an iterable item (array or object implementing
            <span class="emphasis"><em>Iterator</em></span>) as the model. It then iterates over this,
            passing, the items to the partial script as the model. Items in the
            iterator may be any model the <code class="classname">Partial</code> view helper
            allows.
        </p>
<p>
            Let's assume the following partial view script:
        </p>
<pre class="programlisting">
&lt;?php // partialLoop.phtml ?&gt;
    &lt;dt&gt;&lt;?php echo $this-&gt;key ?&gt;&lt;/dt&gt;
    &lt;dd&gt;&lt;?php echo $this-&gt;value ?&gt;&lt;/dd&gt;
</pre>
<p>
            And the following "model":
        </p>
<pre class="programlisting">
$model = array(
    array('key' =&gt; 'Mammal', 'value' =&gt; 'Camel'),
    array('key' =&gt; 'Bird', 'value' =&gt; 'Penguin'),
    array('key' =&gt; 'Reptile', 'value' =&gt; 'Asp'),
    array('key' =&gt; 'Fish', 'value' =&gt; 'Flounder'),
);
</pre>
<p>
            In your view script, you could then invoke the
            <code class="classname">PartialLoop</code> helper:
        </p>
<pre class="programlisting">
&lt;dl&gt;
&lt;?php echo $this-&gt;partialLoop('partialLoop.phtml', $model) ?&gt;
&lt;/dl&gt;
</pre>
<pre class="programlisting">
&lt;dl&gt;
    &lt;dt&gt;Mammal&lt;/dt&gt;
    &lt;dd&gt;Camel&lt;/dd&gt;

    &lt;dt&gt;Bird&lt;/dt&gt;
    &lt;dd&gt;Penguin&lt;/dd&gt;

    &lt;dt&gt;Reptile&lt;/dt&gt;
    &lt;dd&gt;Asp&lt;/dd&gt;

    &lt;dt&gt;Fish&lt;/dt&gt;
    &lt;dd&gt;Flounder&lt;/dd&gt;
&lt;/dl&gt;
</pre>
</div>
</div>
<br class="example-break"><div class="example">
<a name="zend.view.helpers.initial.partial.modules"></a><p class="title"><b>Example 27.10. Rendering Partials in Other Modules</b></p>
<div class="example-contents">
<p>
            Sometime a partial will exist in a different module. If you know the
            name of the module, you can pass it as the second argument to either
            <code class="methodname">partial()</code> or <code class="methodname">partialLoop()</code>, moving the
            <code class="varname">$model</code> argument to third position.
        </p>
<p>
            For instance, if there's a pager partial you wish to use that's in
            the 'list' module, you could grab it as follows:
        </p>
<pre class="programlisting">
&lt;?php echo $this-&gt;partial('pager.phtml', 'list', $pagerData) ?&gt;
</pre>
<p>
            In this way, you can re-use partials created specifically for other
            modules. That said, it's likely a better practice to put re-usable
            partials in shared view script paths.
        </p>
</div>
</div>
<br class="example-break">
</div>
<div class="section" title="27.4.1.5. Placeholder Helper">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.view.helpers.initial.placeholder"></a>27.4.1.5. Placeholder Helper</h4></div></div></div>
<p>
        The <code class="classname">Placeholder</code> view helper is used to persist content
        between view scripts and view instances. It also offers some useful
        features such as aggregating content, capturing view script content
        for later use, and adding pre- and post-text to content (and custom
        separators for aggregated content).
    </p>
<div class="example">
<a name="zend.view.helpers.initial.placeholder.usage"></a><p class="title"><b>Example 27.11. Basic Usage of Placeholders</b></p>
<div class="example-contents">
<p>
            Basic usage of placeholders is to persist view data. Each invocation
            of the <code class="classname">Placeholder</code> helper expects a placeholder name;
            the helper then returns a placeholder container object that you can
            either manipulate or simply echo out.
        </p>
<pre class="programlisting">
&lt;?php $this-&gt;placeholder('foo')-&gt;set("Some text for later") ?&gt;

&lt;?php
    echo $this-&gt;placeholder('foo');
    // outputs "Some text for later"
?&gt;
</pre>
</div>
</div>
<br class="example-break"><div class="example">
<a name="zend.view.helpers.initial.placeholder.aggregation"></a><p class="title"><b>Example 27.12. Using Placeholders to Aggregate Content</b></p>
<div class="example-contents">
<p>
            Aggregating content via placeholders can be useful at times as well.
            For instance, your view script may have a variable array from which
            you wish to retrieve messages to display later; a later view script
            can then determine how those will be rendered.
        </p>
<p>
            The <code class="classname">Placeholder</code> view helper uses containers that extend
            <code class="classname">ArrayObject</code>, providing a rich featureset for
            manipulating arrays. In addition, it offers a variety of methods for
            formatting the content stored in the container:
        </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p>
                    <code class="methodname">setPrefix($prefix)</code> sets text with which to
                    prefix the content. Use <code class="methodname">getPrefix()</code> at any time
                    to determine what the current setting is.
                </p></li>
<li class="listitem"><p>
                    <code class="methodname">setPostfix($prefix)</code> sets text with which to
                    append the content. Use <code class="methodname">getPostfix()</code> at any time
                    to determine what the current setting is.
                </p></li>
<li class="listitem"><p>
                    <code class="methodname">setSeparator($prefix)</code> sets text with which to
                    separate aggregated content. Use <code class="methodname">getSeparator()</code>
                    at any time to determine what the current setting is.
                </p></li>
<li class="listitem"><p>
                    <code class="methodname">setIndent($prefix)</code> can be used to set an
                    indentation value for content. If an integer is passed,
                    that number of spaces will be used; if a string is passed,
                    the string will be used. Use <code class="methodname">getIndent()</code>
                    at any time to determine what the current setting is.
                </p></li>
</ul></div>
<pre class="programlisting">
&lt;!-- first view script --&gt;
&lt;?php $this-&gt;placeholder('foo')-&gt;exchangeArray($this-&gt;data) ?&gt;
</pre>
<pre class="programlisting">
&lt;!-- later view script --&gt;
&lt;?php
$this-&gt;placeholder('foo')-&gt;setPrefix("&lt;ul&gt;\n    &lt;li&gt;")
                         -&gt;setSeparator("&lt;/li&gt;&lt;li&gt;\n")
                         -&gt;setIndent(4)
                         -&gt;setPostfix("&lt;/li&gt;&lt;/ul&gt;\n");
?&gt;

&lt;?php
    echo $this-&gt;placeholder('foo');
    // outputs as unordered list with pretty indentation
?&gt;
</pre>
<p>
            Because the <code class="classname">Placeholder</code> container objects extend
            <code class="classname">ArrayObject</code>, you can also assign content to a specific
            key in the container easily, instead of simply pushing it into the
            container. Keys may be accessed either as object properties or as
            array keys.
        </p>
<pre class="programlisting">
&lt;?php $this-&gt;placeholder('foo')-&gt;bar = $this-&gt;data ?&gt;
&lt;?php echo $this-&gt;placeholder('foo')-&gt;bar ?&gt;

&lt;?php
$foo = $this-&gt;placeholder('foo');
echo $foo['bar'];
?&gt;
</pre>
</div>
</div>
<br class="example-break"><div class="example">
<a name="zend.view.helpers.initial.placeholder.capture"></a><p class="title"><b>Example 27.13. Using Placeholders to Capture Content</b></p>
<div class="example-contents">
<p>
            Occasionally you may have content for a placeholder in a view script
            that is easiest to template; the <code class="classname">Placeholder</code> view
            helper allows you to capture arbitrary content for later rendering
            using the following <acronym class="acronym">API</acronym>.
        </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
<p>
                    <code class="methodname">captureStart($type, $key)</code> begins capturing
                    content.
                </p>
<p>
                    <code class="varname">$type</code> should be one of the
                    <code class="classname">Placeholder</code> constants <code class="constant">APPEND</code> or
                    <code class="constant">SET</code>. If <code class="constant">APPEND</code>, captured content
                    is appended to the list of current content in the
                    placeholder; if <code class="constant">SET</code>, captured content is used
                    as the sole value of the placeholder (potentially replacing
                    any previous content). By default, <code class="varname">$type</code> is
                    <code class="constant">APPEND</code>.
                </p>
<p>
                    <code class="varname">$key</code> can be used to specify a specific key in
                    the placeholder container to which you want content
                    captured.
                </p>
<p>
                    <code class="methodname">captureStart()</code> locks capturing until
                    <code class="methodname">captureEnd()</code> is called; you cannot nest
                    capturing with the same placeholder container. Doing so will
                    raise an exception.
                </p>
</li>
<li class="listitem"><p>
                    <code class="methodname">captureEnd()</code> stops capturing content, and
                    places it in the container object according to how
                    <code class="methodname">captureStart()</code> was called.
                </p></li>
</ul></div>
<pre class="programlisting">
&lt;!-- Default capture: append --&gt;
&lt;?php $this-&gt;placeholder('foo')-&gt;captureStart();
foreach ($this-&gt;data as $datum): ?&gt;
&lt;div class="foo"&gt;
    &lt;h2&gt;&lt;?php echo $datum-&gt;title ?&gt;&lt;/h2&gt;
    &lt;p&gt;&lt;?php echo $datum-&gt;content ?&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;?php endforeach; ?&gt;
&lt;?php $this-&gt;placeholder('foo')-&gt;captureEnd() ?&gt;

&lt;?php echo $this-&gt;placeholder('foo') ?&gt;
</pre>
<pre class="programlisting">
&lt;!-- Capture to key --&gt;
&lt;?php $this-&gt;placeholder('foo')-&gt;captureStart('SET', 'data');
foreach ($this-&gt;data as $datum): ?&gt;
&lt;div class="foo"&gt;
    &lt;h2&gt;&lt;?php echo $datum-&gt;title ?&gt;&lt;/h2&gt;
    &lt;p&gt;&lt;?php echo $datum-&gt;content ?&gt;&lt;/p&gt;
&lt;/div&gt;
 &lt;?php endforeach; ?&gt;
&lt;?php $this-&gt;placeholder('foo')-&gt;captureEnd() ?&gt;

&lt;?php echo $this-&gt;placeholder('foo')-&gt;data ?&gt;
</pre>
</div>
</div>
<br class="example-break"><div class="section" title="27.4.1.5.1. Concrete Placeholder Implementations">
<div class="titlepage"><div><div><h5 class="title">
<a name="zend.view.helpers.initial.placeholder.implementations"></a>27.4.1.5.1. Concrete Placeholder Implementations</h5></div></div></div>
<p>
            Zend Framework ships with a number of "concrete" placeholder
            implementations. These are for commonly used placeholders: doctype,
            page title, and various &lt;head&gt; elements. In all cases, calling
            the placeholder with no arguments returns the element itself.
        </p>
<p>
            Documentation for each element is covered separately, as linked
            below:
        </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p>
                    <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.doctype" title="27.4.1.6. Doctype Helper">Doctype</a>
                </p></li>
<li class="listitem"><p>
                    <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.headlink" title="27.4.1.7. HeadLink Helper">HeadLink</a>
                </p></li>
<li class="listitem"><p>
                    <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.headmeta" title="27.4.1.8. HeadMeta Helper">HeadMeta</a>
                </p></li>
<li class="listitem"><p>
                    <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.headscript" title="27.4.1.9. HeadScript Helper">HeadScript</a>
                </p></li>
<li class="listitem"><p>
                    <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.headstyle" title="27.4.1.10. HeadStyle Helper">HeadStyle</a>
                </p></li>
<li class="listitem"><p>
                    <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.headtitle" title="27.4.1.11. HeadTitle Helper">HeadTitle</a>
                </p></li>
<li class="listitem"><p>
                    <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.inlinescript" title="27.4.1.13. InlineScript Helper">InlineScript</a>
                </p></li>
</ul></div>
</div>
</div>
<div class="section" title="27.4.1.6. Doctype Helper">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.view.helpers.initial.doctype"></a>27.4.1.6. Doctype Helper</h4></div></div></div>
<p>
        Valid <acronym class="acronym">HTML</acronym> and <acronym class="acronym">XHTML</acronym> documents should include a
        <code class="constant">DOCTYPE</code> declaration. Besides being difficult to remember, these can
        also affect how certain elements in your document should be rendered (for instance,
        CDATA escaping in <span class="emphasis"><em>&lt;script&gt;</em></span> and
        <span class="emphasis"><em>&lt;style&gt;</em></span> elements.
    </p>
<p>
        The <code class="classname">Doctype</code> helper allows you to specify one of the
        following types:
    </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p><code class="constant">XHTML11</code></p></li>
<li class="listitem"><p><code class="constant">XHTML1_STRICT</code></p></li>
<li class="listitem"><p><code class="constant">XHTML1_TRANSITIONAL</code></p></li>
<li class="listitem"><p><code class="constant">XHTML1_FRAMESET</code></p></li>
<li class="listitem"><p><code class="constant">XHTML1_RDFA</code></p></li>
<li class="listitem"><p><code class="constant">XHTML_BASIC1</code></p></li>
<li class="listitem"><p><code class="constant">HTML4_STRICT</code></p></li>
<li class="listitem"><p><code class="constant">HTML4_LOOSE</code></p></li>
<li class="listitem"><p><code class="constant">HTML4_FRAMESET</code></p></li>
<li class="listitem"><p><code class="constant">HTML5</code></p></li>
</ul></div>
<p>
        You can also specify a custom doctype as long as it is well-formed.
    </p>
<p>
        The <code class="classname">Doctype</code> helper is a concrete implementation of the
        <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.placeholder" title="27.4.1.5. Placeholder Helper">Placeholder helper</a>.
    </p>
<div class="example">
<a name="zend.view.helpers.initial.doctype.basicusage"></a><p class="title"><b>Example 27.14. Doctype Helper Basic Usage</b></p>
<div class="example-contents">
<p>
            You may specify the doctype at any time. However, helpers that
            depend on the doctype for their output will recognize it only after
            you have set it, so the easiest approach is to specify it in your
            bootstrap:
        </p>
<pre class="programlisting">
$doctypeHelper = new Zend_View_Helper_Doctype();
$doctypeHelper-&gt;doctype('XHTML1_STRICT');
</pre>
<p>
            And then print it out on top of your layout script:
        </p>
<pre class="programlisting">
&lt;?php echo $this-&gt;doctype() ?&gt;
</pre>
</div>
</div>
<br class="example-break"><div class="example">
<a name="zend.view.helpers.initial.doctype.retrieving"></a><p class="title"><b>Example 27.15. Retrieving the Doctype</b></p>
<div class="example-contents">
<p>
            If you need to know the doctype, you can do so by calling
            <code class="methodname">getDoctype()</code> on the object, which is returned by
            invoking the helper.
        </p>
<pre class="programlisting">
$doctype = $view-&gt;doctype()-&gt;getDoctype();
</pre>
<p>
            Typically, you'll simply want to know if the doctype is <acronym class="acronym">XHTML</acronym> or
            not; for this, the <code class="methodname">isXhtml()</code> method will suffice:
        </p>
<pre class="programlisting">
if ($view-&gt;doctype()-&gt;isXhtml()) {
    // do something differently
}
</pre>
<p>
            You can also check if the doctype represents an <acronym class="acronym">HTML5</acronym> document.
        </p>
<pre class="programlisting">
if ($view-&gt;doctype()-&gt;isHtml5()) {
    // do something differently
}
</pre>
</div>
</div>
<br class="example-break"><div class="example">
<a name="zend.view.helpers.initial.doctype.xhtml1_rdfa"></a><p class="title"><b>Example 27.16. Choosing a Doctype to Use with the Open Graph Protocol</b></p>
<div class="example-contents">
<p>
            To implement the <a class="link" href="http://opengraphprotocol.org/" target="_top">
            Open Graph Protocol</a>, you may specify the XHTML1_RDFA doctype.
            This doctype allows a developer to use the <a class="link" href="http://www.w3.org/TR/xhtml-rdfa-primer/" target="_top">
            Resource Description Framework</a> within an <acronym class="acronym">XHTML</acronym> document.
        </p>
<pre class="programlisting">
$doctypeHelper = new Zend_View_Helper_Doctype();
$doctypeHelper-&gt;doctype('XHTML1_RDFA');
</pre>
<p>
        The RDFa doctype allows XHTML to validate when the 'property'
        meta tag attribute is used per the Open Graph Protocol spec.  Example
        within a view script:
        </p>
<pre class="programlisting">
&lt;?php echo $this-&gt;doctype('XHTML1_RDFA'); ?&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:og="http://opengraphprotocol.org/schema/"&gt;
&lt;head&gt;
   &lt;meta property="og:type" content="musician" /&gt;
</pre>
<p>
            In the previous example, we set the property to og:type. The og references
            the Open Graph namespace we specified in the html tag.
            The content identifies the page as being about a musician.  See
            the <a class="link" href="http://opengraphprotocol.org/" target="_top">Open Graph Protocol documentation</a>
            for supported properties. The <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.headmeta" title="27.4.1.8. HeadMeta Helper">HeadMeta helper</a>
            may be used to programmatically set these Open Graph Protocol meta tags.
        </p>
<p>
            Here is how you check if the doctype is set to XHTML1_RDFA:
        </p>
<pre class="programlisting">
&lt;?php echo $this-&gt;doctype() ?&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml"
      &lt;?php if ($view-&gt;doctype()-&gt;isRdfa()): ?&gt;
      xmlns:og="http://opengraphprotocol.org/schema/"
      xmlns:fb="http://www.facebook.com/2008/fbml"
      &lt;?php endif; ?&gt;
&gt;
</pre>
</div>
</div>
<br class="example-break">
</div>
<div class="section" title="27.4.1.7. HeadLink Helper">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.view.helpers.initial.headlink"></a>27.4.1.7. HeadLink Helper</h4></div></div></div>
<p>
        The <acronym class="acronym">HTML</acronym> <span class="emphasis"><em>&lt;link&gt;</em></span> element is increasingly used
        for linking a variety of resources for your site: stylesheets, feeds,
        favicons, trackbacks, and more. The <code class="classname">HeadLink</code> helper
        provides a simple interface for creating and aggregating these elements
        for later retrieval and output in your layout script.
    </p>
<p>
        The <code class="classname">HeadLink</code> helper has special methods for adding
        stylesheet links to its stack:
    </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p>
                <span class="command"><strong>appendStylesheet($href, $media, $conditionalStylesheet, $extras)</strong></span>
            </p></li>
<li class="listitem"><p>
                <span class="command"><strong>offsetSetStylesheet($index, $href, $media, $conditionalStylesheet,
                    $extras)</strong></span>
            </p></li>
<li class="listitem"><p>
                <span class="command"><strong>prependStylesheet($href, $media, $conditionalStylesheet, $extras)</strong></span>
            </p></li>
<li class="listitem"><p>
                <span class="command"><strong>setStylesheet($href, $media, $conditionalStylesheet, $extras)</strong></span>
            </p></li>
</ul></div>
<p>
        The <code class="varname">$media</code> value defaults to 'screen', but may be any valid
        media value. <code class="varname">$conditionalStylesheet</code> is a string or boolean
        <code class="constant">FALSE</code>, and will be used at rendering time to determine if special
        comments should be included to prevent loading of the stylesheet on certain platforms.
        <code class="varname">$extras</code> is an array of any extra values that you want to be added
        to the tag.
    </p>
<p>
        Additionally, the <code class="classname">HeadLink</code> helper has special methods for
        adding 'alternate' links to its stack:
    </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p>
                <span class="command"><strong>appendAlternate($href, $type, $title, $extras)</strong></span>
            </p></li>
<li class="listitem"><p>
                <span class="command"><strong>offsetSetAlternate($index, $href, $type, $title, $extras)</strong></span>
            </p></li>
<li class="listitem"><p>
                <span class="command"><strong>prependAlternate($href, $type, $title, $extras)</strong></span>
            </p></li>
<li class="listitem"><p>
                <span class="command"><strong>setAlternate($href, $type, $title, $extras)</strong></span>
            </p></li>
</ul></div>
<p>
        The <code class="methodname">headLink()</code> helper method allows specifying all
        attributes necessary for a <span class="emphasis"><em>&lt;link&gt;</em></span> element, and allows
        you to also specify placement -- whether the new element replaces all
        others, prepends (top of stack), or appends (end of stack).
    </p>
<p>
        The <code class="classname">HeadLink</code> helper is a concrete implementation of the
        <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.placeholder" title="27.4.1.5. Placeholder Helper">Placeholder
            helper</a>.
    </p>
<div class="example">
<a name="zend.view.helpers.initial.headlink.basicusage"></a><p class="title"><b>Example 27.17. HeadLink Helper Basic Usage</b></p>
<div class="example-contents">
<p>
            You may specify a <span class="emphasis"><em>headLink</em></span> at any time. Typically, you
            will specify global links in your layout script, and application
            specific links in your application view scripts. In your layout
            script, in the &lt;head&gt; section, you will then echo the helper
            to output it.
        </p>
<pre class="programlisting">
&lt;?php // setting links in a view script:
$this-&gt;headLink()-&gt;appendStylesheet('/styles/basic.css')
                 -&gt;headLink(array('rel' =&gt; 'icon',
                                  'href' =&gt; '/img/favicon.ico'),
                                  'PREPEND')
                 -&gt;prependStylesheet('/styles/moz.css',
                                     'screen',
                                     true,
                                     array('id' =&gt; 'my_stylesheet'));
?&gt;
&lt;?php // rendering the links: ?&gt;
&lt;?php echo $this-&gt;headLink() ?&gt;
</pre>
</div>
</div>
<br class="example-break">
</div>
<div class="section" title="27.4.1.8. HeadMeta Helper">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.view.helpers.initial.headmeta"></a>27.4.1.8. HeadMeta Helper</h4></div></div></div>
<p>
        The <acronym class="acronym">HTML</acronym> <span class="emphasis"><em>&lt;meta&gt;</em></span> element is used to provide
        meta information about your <acronym class="acronym">HTML</acronym> document -- typically keywords, document
        character set, caching pragmas, etc. Meta tags may be either of the
        'http-equiv' or 'name' types, must contain a 'content' attribute, and
        can also have either of the 'lang' or 'scheme' modifier attributes.
    </p>
<p>
        The <code class="classname">HeadMeta</code> helper supports the following methods for
        setting and adding meta tags:
    </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p>
                <span class="command"><strong>appendName($keyValue, $content, $conditionalName)</strong></span>
            </p></li>
<li class="listitem"><p>
                <span class="command"><strong>offsetSetName($index, $keyValue, $content, $conditionalName)</strong></span>
            </p></li>
<li class="listitem"><p>
                <span class="command"><strong>prependName($keyValue, $content, $conditionalName)</strong></span>
            </p></li>
<li class="listitem"><p>
                <span class="command"><strong>setName($keyValue, $content, $modifiers)</strong></span>
            </p></li>
<li class="listitem"><p>
                <span class="command"><strong>appendHttpEquiv($keyValue, $content, $conditionalHttpEquiv)</strong></span>
            </p></li>
<li class="listitem"><p>
                <span class="command"><strong>offsetSetHttpEquiv($index, $keyValue, $content,
                    $conditionalHttpEquiv)</strong></span>
            </p></li>
<li class="listitem"><p>
                <span class="command"><strong>prependHttpEquiv($keyValue, $content, $conditionalHttpEquiv)</strong></span>
            </p></li>
<li class="listitem"><p>
                <span class="command"><strong>setHttpEquiv($keyValue, $content, $modifiers)</strong></span>
            </p></li>
<li class="listitem"><p>
                <span class="command"><strong>setCharset($charset)</strong></span>
            </p></li>
</ul></div>
<p>
        The following methods are also supported with XHTML1_RDFA doctype
        set with the <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.doctype" title="27.4.1.6. Doctype Helper">Doctype helper</a>:
    </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p>
                <span class="command"><strong>appendProperty($property, $content, $modifiers)</strong></span>
            </p></li>
<li class="listitem"><p>
                <span class="command"><strong>offsetSetProperty($index, $property, $content, $modifiers)</strong></span>
            </p></li>
<li class="listitem"><p>
                <span class="command"><strong>prependProperty($property, $content, $modifiers)</strong></span>
            </p></li>
<li class="listitem"><p>
                <span class="command"><strong>setProperty($property, $content, $modifiers)</strong></span>
            </p></li>
</ul></div>
<p>
        The <code class="varname">$keyValue</code> item is used to define a value for the 'name'
        or 'http-equiv' key; <code class="varname">$content</code> is the value for the
        'content' key, and <code class="varname">$modifiers</code> is an optional associative
        array that can contain keys for 'lang' and/or 'scheme'.
    </p>
<p>
        You may also set meta tags using the <code class="methodname">headMeta()</code> helper
        method, which has the following signature: <span class="command"><strong>headMeta($content,
            $keyValue, $keyType = 'name', $modifiers = array(), $placement =
            'APPEND')</strong></span>. <code class="varname">$keyValue</code> is the content for the key
        specified in <code class="varname">$keyType</code>, which should be either 'name' or
        'http-equiv'. <code class="varname">$keyType</code> may also be specified as 'property' if the
        doctype has been set to XHTML1_RDFA. <code class="varname">$placement</code> can be 'SET' (overwrites
        all previously stored values), 'APPEND' (added to end of stack), or
        'PREPEND' (added to top of stack).
    </p>
<p>
        <code class="classname">HeadMeta</code> overrides each of <code class="methodname">append()</code>,
        <code class="methodname">offsetSet()</code>, <code class="methodname">prepend()</code>, and
        <code class="methodname">set()</code> to enforce usage of the special methods as listed above.
        Internally, it stores each item as a <span class="property">stdClass</span> token, which it later
        serializes using the <code class="methodname">itemToString()</code> method. This allows you
        to perform checks on the items in the stack, and optionally modify these
        items by simply modifying the object returned.
    </p>
<p>
        The <code class="classname">HeadMeta</code> helper is a concrete implementation of the
        <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.placeholder" title="27.4.1.5. Placeholder Helper">Placeholder helper</a>.
    </p>
<div class="example">
<a name="zend.view.helpers.initial.headmeta.basicusage"></a><p class="title"><b>Example 27.18. HeadMeta Helper Basic Usage</b></p>
<div class="example-contents">
<p>
            You may specify a new meta tag at any time. Typically, you
            will specify client-side caching rules or SEO keywords.
        </p>
<p>
            For instance, if you wish to specify SEO keywords, you'd be creating
            a meta name tag with the name 'keywords' and the content the
            keywords you wish to associate with your page:
        </p>
<pre class="programlisting">
// setting meta keywords
$this-&gt;headMeta()-&gt;appendName('keywords', 'framework, PHP, productivity');
</pre>
<p>
            If you wished to set some client-side caching rules, you'd set
            http-equiv tags with the rules you wish to enforce:
        </p>
<pre class="programlisting">
// disabling client-side cache
$this-&gt;headMeta()-&gt;appendHttpEquiv('expires',
                                   'Wed, 26 Feb 1997 08:21:57 GMT')
                 -&gt;appendHttpEquiv('pragma', 'no-cache')
                 -&gt;appendHttpEquiv('Cache-Control', 'no-cache');
</pre>
<p>
            Another popular use for meta tags is setting the content type,
            character set, and language:
        </p>
<pre class="programlisting">
// setting content type and character set
$this-&gt;headMeta()-&gt;appendHttpEquiv('Content-Type',
                                   'text/html; charset=UTF-8')
                 -&gt;appendHttpEquiv('Content-Language', 'en-US');
</pre>
<p>
            If you are serving an <acronym class="acronym">HTML</acronym>5 document, you should provide the
            character set like this:
        </p>
<pre class="programlisting">
// setting character set in HTML5
$this-&gt;headMeta()-&gt;setCharset('UTF-8'); // Will look like &lt;meta charset="UTF-8"&gt;
</pre>
<p>
            As a final example, an easy way to display a transitional message
            before a redirect is using a "meta refresh":
        </p>
<pre class="programlisting">
// setting a meta refresh for 3 seconds to a new url:
$this-&gt;headMeta()-&gt;appendHttpEquiv('Refresh',
                                   '3;URL=http://www.some.org/some.html');
</pre>
<p>
            When you're ready to place your meta tags in the layout, simply echo the helper:
        </p>
<pre class="programlisting">
&lt;?php echo $this-&gt;headMeta() ?&gt;
</pre>
</div>
</div>
<br class="example-break"><div class="example">
<a name="zend.view.helpers.initial.headmeta.property"></a><p class="title"><b>Example 27.19. HeadMeta Usage with XHTML1_RDFA doctype</b></p>
<div class="example-contents">
<p>
            Enabling the RDFa doctype with the <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.doctype" title="27.4.1.6. Doctype Helper">Doctype helper</a>
            enables the use of the 'property' attribute (in addition to the standard 'name' and 'http-equiv') with HeadMeta.
            This is commonly used with the Facebook <a class="link" href="http://opengraphprotocol.org/" target="_top">Open Graph Protocol</a>.
        </p>
<p>
            For instance, you may specify an open graph page title and type as follows:
        </p>
<pre class="programlisting">
$this-&gt;doctype(Zend_View_Helper_Doctype::XHTML_RDFA);
$this-&gt;headMeta()-&gt;setProperty('og:title', 'my article title');
$this-&gt;headMeta()-&gt;setProperty('og:type', 'article');
echo $this-&gt;headMeta();

// output is:
//   &lt;meta property="og:title" content="my article title" /&gt;
//   &lt;meta property="og:type" content="article" /&gt;
</pre>
</div>
</div>
<br class="example-break">
</div>
<div class="section" title="27.4.1.9. HeadScript Helper">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.view.helpers.initial.headscript"></a>27.4.1.9. HeadScript Helper</h4></div></div></div>
<p>
        The <acronym class="acronym">HTML</acronym> <span class="emphasis"><em>&lt;script&gt;</em></span> element is used to either
        provide inline client-side scripting elements or link to a remote resource
        containing client-side scripting code. The <code class="classname">HeadScript</code>
        helper allows you to manage both.
    </p>
<p>
        The <code class="classname">HeadScript</code> helper supports the following methods for
        setting and adding scripts:
    </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p>
                <span class="command"><strong>appendFile($src, $type = 'text/javascript', $attrs = array())</strong></span>
            </p></li>
<li class="listitem"><p>
                <span class="command"><strong>offsetSetFile($index, $src, $type = 'text/javascript', $attrs =
                    array())</strong></span>
            </p></li>
<li class="listitem"><p>
                <span class="command"><strong>prependFile($src, $type = 'text/javascript', $attrs = array())</strong></span>
            </p></li>
<li class="listitem"><p>
                <span class="command"><strong>setFile($src, $type = 'text/javascript', $attrs = array())</strong></span>
            </p></li>
<li class="listitem"><p>
                <span class="command"><strong>appendScript($script, $type = 'text/javascript', $attrs =
                    array())</strong></span>
            </p></li>
<li class="listitem"><p>
                <span class="command"><strong>offsetSetScript($index, $script, $type = 'text/javascript', $attrs =
                    array())</strong></span>
            </p></li>
<li class="listitem"><p>
                <span class="command"><strong>prependScript($script, $type = 'text/javascript', $attrs =
                    array())</strong></span>
            </p></li>
<li class="listitem"><p>
                <span class="command"><strong>setScript($script, $type = 'text/javascript', $attrs = array())</strong></span>
            </p></li>
</ul></div>
<p>
        In the case of the *<code class="methodname">File()</code> methods, <code class="varname">$src</code> is
        the remote location of the script to load; this is usually in the form
        of a <acronym class="acronym">URL</acronym> or a path. For the *<code class="methodname">Script()</code> methods,
        <code class="varname">$script</code> is the client-side scripting directives you wish to
        use in the element.
    </p>
<div class="note" title="Setting Conditional Comments"><table border="0" summary="Note: Setting Conditional Comments">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td>
<th align="left">Setting Conditional Comments</th>
</tr>
<tr><td align="left" valign="top">
<p>
            <code class="classname">HeadScript</code> allows you to wrap the script tag in conditional
            comments, which allows you to hide it from specific browsers. To add the conditional
            tags, pass the conditional value as part of the <code class="varname">$attrs</code> parameter in
            the method calls.
        </p>
<div class="example">
<a name="zend.view.helpers.initial.headscript.conditional"></a><p class="title"><b>Example 27.20. Headscript With Conditional Comments</b></p>
<div class="example-contents"><pre class="programlisting">
// adding scripts
$this-&gt;headScript()-&gt;appendFile(
    '/js/prototype.js',
    'text/javascript',
    array('conditional' =&gt; 'lt IE 7')
);
</pre></div>
</div>
<br class="example-break">
</td></tr>
</table></div>
<div class="note" title="Preventing HTML style comments or CDATA wrapping of scripts"><table border="0" summary="Note: Preventing HTML style comments or CDATA wrapping of scripts">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td>
<th align="left">Preventing HTML style comments or CDATA wrapping of scripts</th>
</tr>
<tr><td align="left" valign="top">
<p>
            By default <code class="classname">HeadScript</code> will wrap scripts with HTML 
            comments or it wraps scripts with XHTML cdata. This behavior can be
            problematic when you intend to use the script tag in an alternative way by
            setting the type to something other then 'text/javascript'. To prevent such 
            escaping, pass an <code class="varname">noescape</code> with a value of true as part of
            the <code class="varname">$attrs</code> parameter in the method calls.
        </p>
<div class="example">
<a name="zend.view.helpers.initial.headscript.noescape"></a><p class="title"><b>Example 27.21. Create an jQuery template with the headScript</b></p>
<div class="example-contents"><pre class="programlisting">
// jquery template
$template = '&lt;div class="book"&gt;{{:title}}&lt;/div&gt;';
$this-&gt;headScript()-&gt;appendScript(
    $template,
    'text/x-jquery-tmpl',
    array('id='tmpl-book', 'noescape' =&gt; true)
);

</pre></div>
</div>
<br class="example-break">
</td></tr>
</table></div>
<p>
        <code class="classname">HeadScript</code> also allows capturing scripts; this can be
        useful if you want to create the client-side script programmatically,
        and then place it elsewhere. The usage for this will be showed in an
        example below.
    </p>
<p>
        Finally, you can also use the <code class="methodname">headScript()</code> method to
        quickly add script elements; the signature for this is
        <code class="methodname">headScript($mode = 'FILE', $spec, $placement = 'APPEND')</code>.
        The <code class="varname">$mode</code> is either 'FILE' or 'SCRIPT', depending on if
        you're linking a script or defining one. <code class="varname">$spec</code> is either
        the script file to link or the script source itself.
        <code class="varname">$placement</code> should be either 'APPEND', 'PREPEND', or 'SET'.
    </p>
<p>
        <code class="classname">HeadScript</code> overrides each of <code class="methodname">append()</code>,
        <code class="methodname">offsetSet()</code>, <code class="methodname">prepend()</code>, and
        <code class="methodname">set()</code> to enforce usage of the special methods as listed above.
        Internally, it stores each item as a <span class="property">stdClass</span> token, which it later
        serializes using the <code class="methodname">itemToString()</code> method. This allows you
        to perform checks on the items in the stack, and optionally modify these
        items by simply modifying the object returned.
    </p>
<p>
        The <code class="classname">HeadScript</code> helper is a concrete implementation of the
        <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.placeholder" title="27.4.1.5. Placeholder Helper">Placeholder helper</a>.
    </p>
<div class="note" title="Use InlineScript for HTML Body Scripts"><table border="0" summary="Note: Use InlineScript for HTML Body Scripts">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td>
<th align="left">Use InlineScript for HTML Body Scripts</th>
</tr>
<tr><td align="left" valign="top"><p>
            <code class="classname">HeadScript</code>'s sibling helper, <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.inlinescript" title="27.4.1.13. InlineScript Helper">InlineScript</a>,
            should be used when you wish to include scripts inline in the <acronym class="acronym">HTML</acronym>
            <span class="emphasis"><em>body</em></span>. Placing scripts at the end of your document is a
            good practice for speeding up delivery of your page, particularly
            when using 3rd party analytics scripts.
        </p></td></tr>
</table></div>
<div class="note" title="Arbitrary Attributes are Disabled by Default"><table border="0" summary="Note: Arbitrary Attributes are Disabled by Default">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td>
<th align="left">Arbitrary Attributes are Disabled by Default</th>
</tr>
<tr><td align="left" valign="top">
<p>
            By default, <code class="classname">HeadScript</code> only will render
            <span class="emphasis"><em>&lt;script&gt;</em></span> attributes that are blessed by the W3C.
            These include 'type', 'charset', 'defer', 'language', and 'src'.
            However, some javascript frameworks, notably <a class="link" href="http://www.dojotoolkit.org/" target="_top">Dojo</a>, utilize custom
            attributes in order to modify behavior. To allow such attributes,
            you can enable them via the
            <code class="methodname">setAllowArbitraryAttributes()</code> method:
        </p>
<pre class="programlisting">
$this-&gt;headScript()-&gt;setAllowArbitraryAttributes(true);
</pre>
</td></tr>
</table></div>
<div class="example">
<a name="zend.view.helpers.initial.headscript.basicusage"></a><p class="title"><b>Example 27.22. HeadScript Helper Basic Usage</b></p>
<div class="example-contents">
<p>
            You may specify a new script tag at any time. As noted above, these
            may be links to outside resource files or scripts themselves.
        </p>
<pre class="programlisting">
// adding scripts
$this-&gt;headScript()-&gt;appendFile('/js/prototype.js')
                   -&gt;appendScript($onloadScript);
</pre>
<p>
            Order is often important with client-side scripting; you may need to
            ensure that libraries are loaded in a specific order due to
            dependencies each have; use the various append, prepend, and
            offsetSet directives to aid in this task:
        </p>
<pre class="programlisting">
// Putting scripts in order

// place at a particular offset to ensure loaded last
$this-&gt;headScript()-&gt;offsetSetFile(100, '/js/myfuncs.js');

// use scriptaculous effects (append uses next index, 101)
$this-&gt;headScript()-&gt;appendFile('/js/scriptaculous.js');

// but always have base prototype script load first:
$this-&gt;headScript()-&gt;prependFile('/js/prototype.js');
</pre>
<p>
            When you're finally ready to output all scripts in your layout
            script, simply echo the helper:
        </p>
<pre class="programlisting">
&lt;?php echo $this-&gt;headScript() ?&gt;
</pre>
</div>
</div>
<br class="example-break"><div class="example">
<a name="zend.view.helpers.initial.headscript.capture"></a><p class="title"><b>Example 27.23. Capturing Scripts Using the HeadScript Helper</b></p>
<div class="example-contents">
<p>
            Sometimes you need to generate client-side scripts programmatically.
            While you could use string concatenation, heredocs, and the like,
            often it's easier just to do so by creating the script and
            sprinkling in <acronym class="acronym">PHP</acronym> tags. <code class="classname">HeadScript</code> lets you do
            just that, capturing it to the stack:
        </p>
<pre class="programlisting">
&lt;?php $this-&gt;headScript()-&gt;captureStart() ?&gt;
var action = '&lt;?php echo $this-&gt;baseUrl ?&gt;';
$('foo_form').action = action;
&lt;?php $this-&gt;headScript()-&gt;captureEnd() ?&gt;
</pre>
<p>
            The following assumptions are made:
        </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p>
                    The script will be appended to the stack. If you wish for it
                    to replace the stack or be added to the top, you will need
                    to pass 'SET' or 'PREPEND', respectively, as the first
                    argument to <code class="methodname">captureStart()</code>.
                </p></li>
<li class="listitem"><p>
                    The script <acronym class="acronym">MIME</acronym> type is assumed to be 'text/javascript'; if
                    you wish to specify a different type, you will need to pass it
                    as the second argument to <code class="methodname">captureStart()</code>.
                </p></li>
<li class="listitem"><p>
                    If you wish to specify any additional attributes for the
                    <span class="emphasis"><em>&lt;script&gt;</em></span> tag, pass them in an array as
                    the third argument to <code class="methodname">captureStart()</code>.
                </p></li>
</ul></div>
</div>
</div>
<br class="example-break">
</div>
<div class="section" title="27.4.1.10. HeadStyle Helper">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.view.helpers.initial.headstyle"></a>27.4.1.10. HeadStyle Helper</h4></div></div></div>
<p>
        The <acronym class="acronym">HTML</acronym> <span class="emphasis"><em>&lt;style&gt;</em></span> element is used to include
        <acronym class="acronym">CSS</acronym> stylesheets inline in the <acronym class="acronym">HTML</acronym>
        <span class="emphasis"><em>&lt;head&gt;</em></span> element.
    </p>
<div class="note" title="Use HeadLink to link CSS files"><table border="0" summary="Note: Use HeadLink to link CSS files">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td>
<th align="left">Use HeadLink to link CSS files</th>
</tr>
<tr><td align="left" valign="top"><p>
            <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.headlink" title="27.4.1.7. HeadLink Helper">HeadLink</a>
            should be used to create <span class="emphasis"><em>&lt;link&gt;</em></span> elements for
            including external stylesheets. <code class="classname">HeadStyle</code> is used when
            you wish to define your stylesheets inline.
        </p></td></tr>
</table></div>
<p>
        The <code class="classname">HeadStyle</code> helper supports the following methods for
        setting and adding stylesheet declarations:
    </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p>
                <span class="command"><strong>appendStyle($content, $attributes = array())</strong></span>
            </p></li>
<li class="listitem"><p>
                <span class="command"><strong>offsetSetStyle($index, $content, $attributes = array())</strong></span>
            </p></li>
<li class="listitem"><p>
                <span class="command"><strong>prependStyle($content, $attributes = array())</strong></span>
            </p></li>
<li class="listitem"><p>
                <span class="command"><strong>setStyle($content, $attributes = array())</strong></span>
            </p></li>
</ul></div>
<p>
        In all cases, <code class="varname">$content</code> is the actual <acronym class="acronym">CSS</acronym> declarations.
        <code class="varname">$attributes</code> are any additional attributes you wish to provide to the
        <span class="property">style</span> tag: lang, title, media, or dir are all permissible.
    </p>
<div class="note" title="Setting Conditional Comments"><table border="0" summary="Note: Setting Conditional Comments">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td>
<th align="left">Setting Conditional Comments</th>
</tr>
<tr><td align="left" valign="top">
<p>
            <code class="classname">HeadStyle</code> allows you to wrap the style tag in conditional
            comments, which allows you to hide it from specific browsers. To add the conditional
            tags, pass the conditional value as part of the <code class="varname">$attributes</code> parameter
            in the method calls.
        </p>
<div class="example">
<a name="zend.view.helpers.initial.headstyle.conditional"></a><p class="title"><b>Example 27.24. Headstyle With Conditional Comments</b></p>
<div class="example-contents"><pre class="programlisting">
// adding scripts
$this-&gt;headStyle()-&gt;appendStyle($styles, array('conditional' =&gt; 'lt IE 7'));
</pre></div>
</div>
<br class="example-break">
</td></tr>
</table></div>
<p>
        <code class="classname">HeadStyle</code> also allows capturing style declarations; this
        can be useful if you want to create the declarations programmatically,
        and then place them elsewhere. The usage for this will be showed in an
        example below.
    </p>
<p>
        Finally, you can also use the <code class="methodname">headStyle()</code> method to
        quickly add declarations elements; the signature for this is
        <code class="methodname">headStyle($content$placement = 'APPEND', $attributes = array())</code>.
        <code class="varname">$placement</code> should be either 'APPEND', 'PREPEND', or 'SET'.
    </p>
<p>
        <code class="classname">HeadStyle</code> overrides each of <code class="methodname">append()</code>,
        <code class="methodname">offsetSet()</code>, <code class="methodname">prepend()</code>, and
        <code class="methodname">set()</code> to enforce usage of the special methods as listed above.
        Internally, it stores each item as a <span class="property">stdClass</span> token, which it later
        serializes using the <code class="methodname">itemToString()</code> method. This allows you
        to perform checks on the items in the stack, and optionally modify these
        items by simply modifying the object returned.
    </p>
<p>
        The <code class="classname">HeadStyle</code> helper is a concrete implementation of the
        <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.placeholder" title="27.4.1.5. Placeholder Helper">Placeholder
            helper</a>.
    </p>
<div class="note" title="UTF-8 encoding used by default"><table border="0" summary="Note: UTF-8 encoding used by default">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td>
<th align="left">UTF-8 encoding used by default</th>
</tr>
<tr><td align="left" valign="top">
<p>
            By default, Zend Framework uses <acronym class="acronym">UTF-8</acronym> as its default encoding, and,
            specific to this case, <code class="classname">Zend_View</code> does as well. Character encoding
            can be set differently on the view object itself using the
            <code class="methodname">setEncoding()</code> method (or the the <code class="varname">encoding</code>
            instantiation parameter). However, since <code class="classname">Zend_View_Interface</code> does
            not define accessors for encoding, it's possible that if you are using a custom view
            implementation with this view helper, you will not have a
            <code class="methodname">getEncoding()</code> method, which is what the view helper uses
            internally for determining the character set in which to encode.
        </p>
<p>
            If you do not want to utilize <acronym class="acronym">UTF-8</acronym> in such a situation, you will
            need to implement a <code class="methodname">getEncoding()</code> method in your custom view
            implementation.
        </p>
</td></tr>
</table></div>
<div class="example">
<a name="zend.view.helpers.initial.headstyle.basicusage"></a><p class="title"><b>Example 27.25. HeadStyle Helper Basic Usage</b></p>
<div class="example-contents">
<p>
            You may specify a new style tag at any time:
        </p>
<pre class="programlisting">
// adding styles
$this-&gt;headStyle()-&gt;appendStyle($styles);
</pre>
<p>
            Order is very important with <acronym class="acronym">CSS</acronym>; you may need to ensure that
            declarations are loaded in a specific order due to the order of the
            cascade; use the various append, prepend, and offsetSet directives
            to aid in this task:
        </p>
<pre class="programlisting">
// Putting styles in order

// place at a particular offset:
$this-&gt;headStyle()-&gt;offsetSetStyle(100, $customStyles);

// place at end:
$this-&gt;headStyle()-&gt;appendStyle($finalStyles);

// place at beginning
$this-&gt;headStyle()-&gt;prependStyle($firstStyles);
</pre>
<p>
            When you're finally ready to output all style declarations in your
            layout script, simply echo the helper:
        </p>
<pre class="programlisting">
&lt;?php echo $this-&gt;headStyle() ?&gt;
</pre>
</div>
</div>
<br class="example-break"><div class="example">
<a name="zend.view.helpers.initial.headstyle.capture"></a><p class="title"><b>Example 27.26. Capturing Style Declarations Using the HeadStyle Helper</b></p>
<div class="example-contents">
<p>
            Sometimes you need to generate <acronym class="acronym">CSS</acronym> style declarations
            programmatically. While you could use string concatenation,
            heredocs, and the like, often it's easier just to do so by creating
            the styles and sprinkling in <acronym class="acronym">PHP</acronym> tags.
            <code class="classname">HeadStyle</code> lets you do just that, capturing it to the stack:
        </p>
<pre class="programlisting">
&lt;?php $this-&gt;headStyle()-&gt;captureStart() ?&gt;
body {
    background-color: &lt;?php echo $this-&gt;bgColor ?&gt;;
}
&lt;?php $this-&gt;headStyle()-&gt;captureEnd() ?&gt;
</pre>
<p>
            The following assumptions are made:
        </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p>
                    The style declarations will be appended to the stack. If you
                    wish for them to replace the stack or be added to the top,
                    you will need to pass 'SET' or 'PREPEND', respectively, as
                    the first argument to <code class="methodname">captureStart()</code>.
                </p></li>
<li class="listitem"><p>
                    If you wish to specify any additional attributes for the
                    <span class="emphasis"><em>&lt;style&gt;</em></span> tag, pass them in an array as
                    the second argument to <code class="methodname">captureStart()</code>.
                </p></li>
</ul></div>
</div>
</div>
<br class="example-break">
</div>
<div class="section" title="27.4.1.11. HeadTitle Helper">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.view.helpers.initial.headtitle"></a>27.4.1.11. HeadTitle Helper</h4></div></div></div>
<p>
        The <acronym class="acronym">HTML</acronym> <span class="emphasis"><em>&lt;title&gt;</em></span> element is used to provide a
        title for an <acronym class="acronym">HTML</acronym> document. The <code class="classname">HeadTitle</code> helper
        allows you to programmatically create and store the title for later retrieval and output.
    </p>
<p>
        The <code class="classname">HeadTitle</code> helper is a concrete implementation of the
        <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.placeholder" title="27.4.1.5. Placeholder Helper">Placeholder
            helper</a>. It overrides the <code class="methodname">toString()</code> method to
        enforce generating a <span class="emphasis"><em>&lt;title&gt;</em></span> element, and adds a
        <code class="methodname">headTitle()</code> method for quick and easy setting and
        aggregation of title elements. The signature for that method is
        <code class="methodname">headTitle($title, $setType = null)</code>; by default, the
        value is appended to the stack (aggregating title segments) if left at null, but you may
        also specify either 'PREPEND' (place at top of stack) or 'SET'
        (overwrite stack).
    </p>
<p>
        Since setting the aggregating (attach) order on each call to <code class="methodname">
        headTitle</code> can be cumbersome, you can set a default attach order
        by calling <code class="methodname">setDefaultAttachOrder()</code> which is applied
        to all <code class="methodname">headTitle()</code> calls unless you explicitly
        pass a different attach order as the second parameter.
    </p>
<div class="example">
<a name="zend.view.helpers.initial.headtitle.basicusage"></a><p class="title"><b>Example 27.27. HeadTitle Helper Basic Usage</b></p>
<div class="example-contents">
<p>
            You may specify a title tag at any time. A typical usage would have
            you setting title segments for each level of depth in your
            application: site, controller, action, and potentially resource.
        </p>
<pre class="programlisting">
 // setting the controller and action name as title segments:
$request = Zend_Controller_Front::getInstance()-&gt;getRequest();
$this-&gt;headTitle($request-&gt;getActionName())
     -&gt;headTitle($request-&gt;getControllerName());

// setting the site in the title; possibly in the layout script:
$this-&gt;headTitle('Zend Framework');

// setting a separator string for segments:
$this-&gt;headTitle()-&gt;setSeparator(' / ');
</pre>
<p>
            When you're finally ready to render the title in your layout
            script, simply echo the helper:
        </p>
<pre class="programlisting">
&lt;!-- renders &lt;action&gt; / &lt;controller&gt; / Zend Framework --&gt;
&lt;?php echo $this-&gt;headTitle() ?&gt;
</pre>
</div>
</div>
<br class="example-break">
</div>
<div class="section" title="27.4.1.12. HTML Object Helpers">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.view.helpers.initial.object"></a>27.4.1.12. HTML Object Helpers</h4></div></div></div>
<p>
        The <acronym class="acronym">HTML</acronym> <span class="emphasis"><em>
&lt;object&gt;</em></span> element is used for embedding
        media like Flash or QuickTime in web pages. The object view helpers take
        care of embedding media with minimum effort.
    </p>
<p>
        There are four initial Object helpers:
    </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p>
                <code class="methodname">htmlFlash()</code>
                Generates markup for embedding Flash files.
            </p></li>
<li class="listitem"><p>
                <code class="methodname">htmlObject()</code>
                Generates markup for embedding a custom Object.
            </p></li>
<li class="listitem"><p>
                <code class="methodname">htmlPage()</code>
                Generates markup for embedding other (X)HTML pages.
            </p></li>
<li class="listitem"><p>
                <code class="methodname">htmlQuicktime()</code>
                Generates markup for embedding QuickTime files.
            </p></li>
</ul></div>
<p>
        All of these helpers share a similar interface. For this reason, this
        documentation will only contain examples of two of these helpers.
    </p>
<div class="example">
<a name="zend.view.helpers.initial.object.flash"></a><p class="title"><b>Example 27.28. Flash helper</b></p>
<div class="example-contents">
<p>
            Embedding Flash in your page using the helper is pretty straight-forward.
            The only required argument is the resource <acronym class="acronym">URI</acronym>.
        </p>
<pre class="programlisting">
&lt;?php echo $this-&gt;htmlFlash('/path/to/flash.swf'); ?&gt;
</pre>
<p>
            This outputs the following <acronym class="acronym">HTML</acronym>:
        </p>
<pre class="programlisting">
&lt;object data="/path/to/flash.swf"
        type="application/x-shockwave-flash"
        classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"
        codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab"&gt;
&lt;/object&gt;
</pre>
</div>
</div>
<br class="example-break"><p>
        Additionally you can specify attributes, parameters and content that can
        be rendered along with the <span class="emphasis"><em>
&lt;object&gt;</em></span>. This will
        be demonstrated using the <code class="methodname">htmlObject()</code> helper.
    </p>
<div class="example">
<a name="zend.view.helpers.initial.object.object"></a><p class="title"><b>Example 27.29. Customizing the object by passing additional arguments</b></p>
<div class="example-contents">
<p>
            The first argument in the object helpers is always required. It is
            the <acronym class="acronym">URI</acronym> to the resource you want to embed. The second argument is
            only required in the <code class="methodname">htmlObject()</code> helper. The other helpers
            already contain the correct value for this argument. The third
            argument is used for passing along attributes to the object element.
            It only accepts an array with key-value pairs. <span class="property">classid</span>
            and <span class="property">codebase</span> are examples of such attributes. The fourth
            argument also only takes a key-value array and uses them to create
            <span class="emphasis"><em>
&lt;param&gt;</em></span> elements. You will see an example
            of this shortly. Lastly, there is the option of providing additional
            content to the object. Now for an example which utilizes all arguments.
        </p>
<pre class="programlisting">
echo $this-&gt;htmlObject(
    '/path/to/file.ext',
    'mime/type',
    array(
        'attr1' =&gt; 'aval1',
        'attr2' =&gt; 'aval2'
    ),
    array(
        'param1' =&gt; 'pval1',
        'param2' =&gt; 'pval2'
    ),
    'some content'
);

/*
This would output:

&lt;object data="/path/to/file.ext" type="mime/type"
    attr1="aval1" attr2="aval2"&gt;
    &lt;param name="param1" value="pval1" /&gt;
    &lt;param name="param2" value="pval2" /&gt;
    some content
&lt;/object&gt;
*/
</pre>
</div>
</div>
<br class="example-break">
</div>
<div class="section" title="27.4.1.13. InlineScript Helper">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.view.helpers.initial.inlinescript"></a>27.4.1.13. InlineScript Helper</h4></div></div></div>
<p>
        The <acronym class="acronym">HTML</acronym> <span class="emphasis"><em>&lt;script&gt;</em></span> element is used to either
        provide inline client-side scripting elements or link to a remote resource
        containing client-side scripting code. The <code class="classname">InlineScript</code>
        helper allows you to manage both. It is derived from <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.headscript" title="27.4.1.9. HeadScript Helper">HeadScript</a>,
        and any method of that helper is available; however, use the
        <code class="methodname">inlineScript()</code> method in place of
        <code class="methodname">headScript()</code>.
    </p>
<div class="note" title="Use InlineScript for HTML Body Scripts"><table border="0" summary="Note: Use InlineScript for HTML Body Scripts">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td>
<th align="left">Use InlineScript for HTML Body Scripts</th>
</tr>
<tr><td align="left" valign="top">
<p>
            <code class="classname">InlineScript</code>, should be used when you wish to include
            scripts inline in the <acronym class="acronym">HTML</acronym> <span class="emphasis"><em>body</em></span>. Placing scripts
            at the end of your document is a good practice for speeding up delivery of
            your page, particularly when using 3rd party analytics scripts.
        </p>
<p>
            Some JS libraries need to be included in the <acronym class="acronym">HTML</acronym>
            <span class="emphasis"><em>head</em></span>; use <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.headscript" title="27.4.1.9. HeadScript Helper">HeadScript</a> for those scripts.
        </p>
</td></tr>
</table></div>
</div>
<div class="section" title="27.4.1.14. JSON Helper">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.view.helpers.initial.json"></a>27.4.1.14. JSON Helper</h4></div></div></div>
<p>
        When creating views that return <acronym class="acronym">JSON</acronym>, it's important to also set the
        appropriate response header. The <acronym class="acronym">JSON</acronym> view helper does exactly that. In
        addition, by default, it disables layouts (if currently enabled), as
        layouts generally aren't used with <acronym class="acronym">JSON</acronym> responses.
    </p>
<p>
        The <acronym class="acronym">JSON</acronym> helper sets the following header:
    </p>
<pre class="programlisting">
Content-Type: application/json
</pre>
<p>
        Most <acronym class="acronym">AJAX</acronym> libraries look for this header when parsing responses to
        determine how to handle the content.
    </p>
<p>
        Usage of the <acronym class="acronym">JSON</acronym> helper is very straightforward:
    </p>
<pre class="programlisting">
&lt;?php echo $this-&gt;json($this-&gt;data) ?&gt;
</pre>
<div class="note" title="Keeping layouts and enabling encoding using Zend_Json_Expr"><table border="0" summary="Note: Keeping layouts and enabling encoding using Zend_Json_Expr">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td>
<th align="left">Keeping layouts and enabling encoding using Zend_Json_Expr</th>
</tr>
<tr><td align="left" valign="top">
<p>
            Each method in the <acronym class="acronym">JSON</acronym> helper accepts a second, optional argument.
            This second argument can be a boolean flag to enable or disable
            layouts, or an array of options that will be passed to
            <code class="methodname">Zend_Json::encode()</code> and used internally to encode data.
        </p>
<p>
            To keep layouts, the second parameter needs to be boolean
            <code class="constant">TRUE</code>. When the second parameter is an array, keeping
            layouts can be achieved by including a <span class="property">keepLayouts</span> key
            with a value of a boolean <code class="constant">TRUE</code>.
        </p>
<pre class="programlisting">
// Boolean true as second argument enables layouts:
echo $this-&gt;json($this-&gt;data, true);

// Or boolean true as "keepLayouts" key:
echo $this-&gt;json($this-&gt;data, array('keepLayouts' =&gt; true));
</pre>
<p>
            <code class="classname">Zend_Json::encode</code> allows the encoding of native
            <acronym class="acronym">JSON</acronym> expressions using <code class="classname">Zend_Json_Expr</code> objects.
            This option is disabled by default. To enable this option, pass a boolean
            <code class="constant">TRUE</code> to the <span class="property">enableJsonExprFinder</span> key of
            the options array:
        </p>
<pre class="programlisting">
&lt;?php echo $this-&gt;json($this-&gt;data, array(
    'enableJsonExprFinder' =&gt; true,
    'keepLayouts'          =&gt; true,
)) ?&gt;
</pre>
</td></tr>
</table></div>
</div>
<div class="section" title="27.4.1.15. Navigation Helpers">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.view.helpers.initial.navigation"></a>27.4.1.15. Navigation Helpers</h4></div></div></div>
<p>
        The navigation helpers are used for rendering navigational elements
        from <a class="link" href="">Zend_Navigation_Container</a>
        instances.
    </p>
<p>
        There are 5 built-in helpers:
    </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p>
                <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.navigation.breadcrumbs" title="27.4.1.15.4. Breadcrumbs Helper">Breadcrumbs</a>,
                used for rendering the path to the currently active page.
            </p></li>
<li class="listitem"><p>
                <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.navigation.links" title="27.4.1.15.5. Links Helper">Links</a>,
                used for rendering navigational head links (e.g.
                <span class="command"><strong>&lt;link rel="next" href="..." /&gt;</strong></span>)
            </p></li>
<li class="listitem"><p>
                <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.navigation.menu" title="27.4.1.15.6. Menu Helper">Menu</a>,
                used for rendering menus.
            </p></li>
<li class="listitem"><p>
                <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.navigation.sitemap" title="27.4.1.15.7. Sitemap Helper">Sitemap</a>,
                used for rendering sitemaps conforming to the <a class="link" href="http://www.sitemaps.org/protocol.php" target="_top">Sitemaps <acronym class="acronym">XML</acronym>
                    format</a>.
            </p></li>
<li class="listitem"><p>
                <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.navigation.navigation" title="27.4.1.15.8. Navigation Helper">Navigation</a>,
                used for proxying calls to other navigational helpers.
            </p></li>
</ul></div>
<p>
        All built-in helpers extend
        <code class="classname">Zend_View_Helper_Navigation_HelperAbstract</code>, which
        adds integration with <a class="link" href="zend.acl.html" title="Chapter 3. Zend\Acl">ACL</a> and
        <a class="link" href="zend.i18n.html#zend.i18n.translating" title="16.1. Translating">translation</a>. The abstract class
        implements the interface
        <code class="classname">Zend_View_Helper_Navigation_Helper</code>, which
        defines the following methods:
    </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p>
                <code class="methodname">getContainer()</code> and <code class="methodname">setContainer()</code>
                gets and sets the navigation container the helper should operate on by default, and
                <code class="methodname">hasContainer()</code> checks if the helper
                has container registered.
            </p></li>
<li class="listitem"><p>
                <code class="methodname">getTranslator()</code> and
                <code class="methodname">setTranslator()</code> gets and sets the
                translator used for translating labels and titles.
                <code class="methodname">getUseTranslator()</code> and
                <code class="methodname">setUseTranslator()</code> controls whether
                the translator should be enabled. The method
                <code class="methodname">hasTranslator()</code> checks if the helper has
                a translator registered.
            </p></li>
<li class="listitem"><p>
                <code class="methodname">getAcl()</code>, <code class="methodname">setAcl()</code>,
                <code class="methodname">getRole()</code> and <code class="methodname">setRole()</code>,
                gets and sets <acronym class="acronym">ACL</acronym> (<code class="classname">Zend_Acl</code>) instance and
                role (<span class="type">String</span> or
                <code class="classname">Zend_Acl_Role_Interface</code>) used for
                filtering out pages when rendering. <code class="methodname">getUseAcl()</code> and
                <code class="methodname">setUseAcl()</code> controls whether <acronym class="acronym">ACL</acronym> should
                be enabled. The methods <code class="methodname">hasAcl()</code> and
                <code class="methodname">hasRole()</code> checks if the helper has an
                <acronym class="acronym">ACL</acronym> instance or a role registered.
            </p></li>
<li class="listitem"><p>
                <code class="methodname">__toString()</code>, magic method to ensure that
                helpers can be rendered by echoing the helper instance directly.
            </p></li>
<li class="listitem"><p>
                <code class="methodname">render()</code>, must be implemented by concrete
                helpers to do the actual rendering.
            </p></li>
</ul></div>
<p>
         In addition to the method stubs from the interface, the abstract
         class also implements the following methods:
    </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p>
                <code class="methodname">getIndent()</code> and <code class="methodname">setIndent()</code>
                gets and sets indentation. The setter accepts a <span class="type">String</span> or an
                <span class="type">Integer</span>. In the case of an <span class="type">Integer</span>, the helper will use
                the given number of spaces for indentation. I.e.,
                <code class="methodname">setIndent(4)</code> means 4 initial spaces of
                indentation. Indentation can be specified for all helpers
                except the Sitemap helper.
            </p></li>
<li class="listitem"><p>
                <code class="methodname">getMinDepth()</code> and <code class="methodname">setMinDepth()</code>
                gets and sets the minimum depth a page must have to be included by the helper.
                Setting <code class="constant">NULL</code> means no minimum depth.
            </p></li>
<li class="listitem"><p>
                <code class="methodname">getMaxDepth()</code> and <code class="methodname">setMaxDepth()</code>
                gets and sets the maximum depth a page can have to be included by the helper.
                Setting <code class="constant">NULL</code> means no maximum depth.
            </p></li>
<li class="listitem"><p>
                <code class="methodname">getRenderInvisible()</code> and
                <code class="methodname">setRenderInvisible()</code> gets and sets whether to
                render items that have been marked as invisible or not.
            </p></li>
<li class="listitem"><p>
                <code class="methodname">__call()</code> is used for proxying calls to the
                container registered in the helper, which means you can
                call methods on a helper as if it was a container. See <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.navigation.proxy.example" title="Example 27.30. Proxying calls to the navigation container">example</a>
                below.
            </p></li>
<li class="listitem"><p>
                <code class="methodname">findActive($container, $minDepth, $maxDepth)</code>
                is used for finding the deepest active page in the given
                container. If depths are not given, the method will use
                the values retrieved from <code class="methodname">getMinDepth()</code> and
                <code class="methodname">getMaxDepth()</code>. The deepest active page must
                be between <code class="varname">$minDepth</code> and <code class="varname">$maxDepth</code>
                inclusively. Returns an array containing a reference to the
                found page instance and the depth at which the page was
                found.
            </p></li>
<li class="listitem"><p>
                <code class="methodname">htmlify()</code> renders an <span class="emphasis"><em>'a'</em></span>
                <acronym class="acronym">HTML</acronym> element from a <code class="classname">Zend_Navigation_Page</code>
                instance.
            </p></li>
<li class="listitem"><p>
                <code class="methodname">accept()</code> is used for determining if a page
                should be accepted when iterating containers. This method
                checks for page visibility and verifies that the helper's
                role is allowed access to the page's resource and privilege.
            </p></li>
<li class="listitem"><p>
                The static method <code class="methodname">setDefaultAcl()</code> is used for setting
                a default <acronym class="acronym">ACL</acronym> object that will be used by helpers.
            </p></li>
<li class="listitem"><p>
                The static method <code class="methodname">setDefaultRole()</code> is used for setting
                a default <acronym class="acronym">ACL</acronym> that will be used by helpers
            </p></li>
</ul></div>
<p>
        If a navigation container is not explicitly set in a helper using
        <span class="command"><strong>$helper-&gt;setContainer($nav)</strong></span>, the helper will look
        for a container instance with the key <code class="classname">Zend_Navigation</code> in
        <a class="link" href="">the registry</a>.
        If a container is not explicitly set or found in the registry, the
        helper will create an empty <code class="classname">Zend_Navigation</code>
        container when calling <span class="command"><strong>$helper-&gt;getContainer()</strong></span>.
    </p>
<div class="example">
<a name="zend.view.helpers.initial.navigation.proxy.example"></a><p class="title"><b>Example 27.30. Proxying calls to the navigation container</b></p>
<div class="example-contents">
<p>
            Navigation view helpers use the magic method <code class="methodname">__call()</code>
            to proxy method calls to the navigation container that is
            registered in the view helper.
        </p>
<pre class="programlisting">
$this-&gt;navigation()-&gt;addPage(array(
    'type' =&gt; 'uri',
    'label' =&gt; 'New page'));
</pre>
<p>
            The call above will add a page to the container in the
            <code class="classname">Navigation</code> helper.
        </p>
</div>
</div>
<br class="example-break"><div class="section" title="27.4.1.15.1. Translation of labels and titles">
<div class="titlepage"><div><div><h5 class="title">
<a name="zend.view.helpers.initial.navigation.i18n"></a>27.4.1.15.1. Translation of labels and titles</h5></div></div></div>
<p>
            The navigation helpers support translation of page labels and titles.
            You can set a translator of type <code class="classname">Zend\I18n\Translator</code>
            in the helper using
            <span class="command"><strong>$helper-&gt;setTranslator($translator)</strong></span>.
        </p>
<p>
            If you want to disable translation, use
            <span class="command"><strong>$helper-&gt;setUseTranslator(false)</strong></span>.
        </p>
<p>
            The
            <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.navigation.navigation" title="27.4.1.15.8. Navigation Helper">proxy
            helper</a> will inject its own translator to the helper it
            proxies to if the proxied helper doesn't already have a translator.
        </p>
<div class="note" title="Note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td>
<th align="left">Note</th>
</tr>
<tr><td align="left" valign="top"><p>
                There is no translation in the sitemap helper, since there
                are no page labels or titles involved in an <acronym class="acronym">XML</acronym> sitemap.
            </p></td></tr>
</table></div>
</div>
<div class="section" title="27.4.1.15.2. Integration with ACL">
<div class="titlepage"><div><div><h5 class="title">
<a name="zend.view.helpers.initial.navigation.acl"></a>27.4.1.15.2. Integration with ACL</h5></div></div></div>
<p>
            All navigational view helpers support <acronym class="acronym">ACL</acronym> inherently from the
            class <code class="classname">Zend_View_Helper_Navigation_HelperAbstract</code>.
            A <code class="classname">Zend_Acl</code> object can be assigned to
            a helper instance with <code class="code">$helper-&gt;setAcl($acl)</code>, and role
            with <code class="code">$helper-&gt;setRole('member')</code> or
            <code class="code">$helper-&gt;setRole(new Zend_Acl_Role('member'))</code> . If <acronym class="acronym">ACL</acronym>
            is used in the helper, the role in the helper must be allowed by
            the <acronym class="acronym">ACL</acronym> to access a page's <code class="code">resource</code> and/or have the
            page's <code class="code">privilege</code> for the page to be included when
            rendering.
        </p>
<p>
            If a page is not accepted by <acronym class="acronym">ACL</acronym>, any descendant page will also
            be excluded from rendering.
        </p>
<p>
            The
            <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.navigation.navigation" title="27.4.1.15.8. Navigation Helper">proxy
            helper</a> will inject its own <acronym class="acronym">ACL</acronym> and role to the helper it
            proxies to if the proxied helper doesn't already have any.
        </p>
<p>
            The examples below all show how <acronym class="acronym">ACL</acronym> affects rendering.
        </p>
</div>
<div class="section" title="27.4.1.15.3. Navigation setup used in examples">
<div class="titlepage"><div><div><h5 class="title">
<a name="zend.view.helpers.initial.navigation.setup"></a>27.4.1.15.3. Navigation setup used in examples</h5></div></div></div>
<p>
            This example shows the setup of a navigation container for a
            fictional software company.
        </p>
<p>
            Notes on the setup:
        </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p>
                    The domain for the site is <code class="code">www.example.com</code>.
                </p></li>
<li class="listitem"><p>
                    Interesting page properties are marked with a comment.
                </p></li>
<li class="listitem"><p>
                    Unless otherwise is stated in other examples, the user
                    is requesting the <acronym class="acronym">URL</acronym>
                    <code class="code">http://www.example.com/products/server/faq/</code>,
                    which translates to the page labeled <code class="constant">FAQ</code>
                    under <code class="code">Foo Server</code>.
                </p></li>
<li class="listitem"><p>
                    The assumed <acronym class="acronym">ACL</acronym> and router setup is shown below the
                    container setup.
                </p></li>
</ul></div>
<pre class="programlisting">
/*
 * Navigation container (config/array)

 * Each element in the array will be passed to
 * Zend_Navigation_Page::factory() when constructing
 * the navigation container below.
 */
$pages = array(
    array(
        'label'      =&gt; 'Home',
        'title'      =&gt; 'Go Home',
        'module'     =&gt; 'default',
        'controller' =&gt; 'index',
        'action'     =&gt; 'index',
        'order'      =&gt; -100 // make sure home is the first page
    ),
    array(
        'label'      =&gt; 'Special offer this week only!',
        'module'     =&gt; 'store',
        'controller' =&gt; 'offer',
        'action'     =&gt; 'amazing',
        'visible'    =&gt; false // not visible
    ),
    array(
        'label'      =&gt; 'Products',
        'module'     =&gt; 'products',
        'controller' =&gt; 'index',
        'action'     =&gt; 'index',
        'pages'      =&gt; array(
            array(
                'label'      =&gt; 'Foo Server',
                'module'     =&gt; 'products',
                'controller' =&gt; 'server',
                'action'     =&gt; 'index',
                'pages'      =&gt; array(
                    array(
                        'label'      =&gt; 'FAQ',
                        'module'     =&gt; 'products',
                        'controller' =&gt; 'server',
                        'action'     =&gt; 'faq',
                        'rel'        =&gt; array(
                            'canonical' =&gt; 'http://www.example.com/?page=faq',
                            'alternate' =&gt; array(
                                'module'     =&gt; 'products',
                                'controller' =&gt; 'server',
                                'action'     =&gt; 'faq',
                                'params'     =&gt; array('format' =&gt; 'xml')
                            )
                        )
                    ),
                    array(
                        'label'      =&gt; 'Editions',
                        'module'     =&gt; 'products',
                        'controller' =&gt; 'server',
                        'action'     =&gt; 'editions'
                    ),
                    array(
                        'label'      =&gt; 'System Requirements',
                        'module'     =&gt; 'products',
                        'controller' =&gt; 'server',
                        'action'     =&gt; 'requirements'
                    )
                )
            ),
            array(
                'label'      =&gt; 'Foo Studio',
                'module'     =&gt; 'products',
                'controller' =&gt; 'studio',
                'action'     =&gt; 'index',
                'pages'      =&gt; array(
                    array(
                        'label'      =&gt; 'Customer Stories',
                        'module'     =&gt; 'products',
                        'controller' =&gt; 'studio',
                        'action'     =&gt; 'customers'
                    ),
                    array(
                        'label'      =&gt; 'Support',
                        'module'     =&gt; 'prodcts',
                        'controller' =&gt; 'studio',
                        'action'     =&gt; 'support'
                    )
                )
            )
        )
    ),
    array(
        'label'      =&gt; 'Company',
        'title'      =&gt; 'About us',
        'module'     =&gt; 'company',
        'controller' =&gt; 'about',
        'action'     =&gt; 'index',
        'pages'      =&gt; array(
            array(
                'label'      =&gt; 'Investor Relations',
                'module'     =&gt; 'company',
                'controller' =&gt; 'about',
                'action'     =&gt; 'investors'
            ),
            array(
                'label'      =&gt; 'News',
                'class'      =&gt; 'rss', // class
                'module'     =&gt; 'company',
                'controller' =&gt; 'news',
                'action'     =&gt; 'index',
                'pages'      =&gt; array(
                    array(
                        'label'      =&gt; 'Press Releases',
                        'module'     =&gt; 'company',
                        'controller' =&gt; 'news',
                        'action'     =&gt; 'press'
                    ),
                    array(
                        'label'      =&gt; 'Archive',
                        'route'      =&gt; 'archive', // route
                        'module'     =&gt; 'company',
                        'controller' =&gt; 'news',
                        'action'     =&gt; 'archive'
                    )
                )
            )
        )
    ),
    array(
        'label'      =&gt; 'Community',
        'module'     =&gt; 'community',
        'controller' =&gt; 'index',
        'action'     =&gt; 'index',
        'pages'      =&gt; array(
            array(
                'label'      =&gt; 'My Account',
                'module'     =&gt; 'community',
                'controller' =&gt; 'account',
                'action'     =&gt; 'index',
                'resource'   =&gt; 'mvc:community.account' // resource
            ),
            array(
                'label' =&gt; 'Forums',
                'uri'   =&gt; 'http://forums.example.com/',
                'class' =&gt; 'external' // class
            )
        )
    ),
    array(
        'label'      =&gt; 'Administration',
        'module'     =&gt; 'admin',
        'controller' =&gt; 'index',
        'action'     =&gt; 'index',
        'resource'   =&gt; 'mvc:admin', // resource
        'pages'      =&gt; array(
            array(
                'label'      =&gt; 'Write new article',
                'module'     =&gt; 'admin',
                'controller' =&gt; 'post',
                'aciton'     =&gt; 'write'
            )
        )
    )
);

// Create container from array
$container = new Zend_Navigation($pages);

// Store the container in the proxy helper:
$view-&gt;getHelper('navigation')-&gt;setContainer($container);

// ...or simply:
$view-&gt;navigation($container);

// ...or store it in the reigstry:
Zend_Registry::set('Zend_Navigation', $container);
</pre>
<p>
            In addition to the container above, the following setup is assumed:
        </p>
<pre class="programlisting">
// Setup router (default routes and 'archive' route):
$front = Zend_Controller_Front::getInstance();
$router = $front-&gt;getRouter();
$router-&gt;addDefaultRoutes();
$router-&gt;addRoute(
    'archive',
    new Zend_Controller_Router_Route(
        '/archive/:year',
        array(
            'module'     =&gt; 'company',
            'controller' =&gt; 'news',
            'action'     =&gt; 'archive',
            'year'       =&gt; (int) date('Y') - 1
        ),
        array('year' =&gt; '\d+')
    )
);

// Setup ACL:
$acl = new Zend_Acl();
$acl-&gt;addRole(new Zend_Acl_Role('member'));
$acl-&gt;addRole(new Zend_Acl_Role('admin'));
$acl-&gt;add(new Zend_Acl_Resource('mvc:admin'));
$acl-&gt;add(new Zend_Acl_Resource('mvc:community.account'));
$acl-&gt;allow('member', 'mvc:community.account');
$acl-&gt;allow('admin', null);

// Store ACL and role in the proxy helper:
$view-&gt;navigation()-&gt;setAcl($acl)-&gt;setRole('member');

// ...or set default ACL and role statically:
Zend_View_Helper_Navigation_HelperAbstract::setDefaultAcl($acl);
Zend_View_Helper_Navigation_HelperAbstract::setDefaultRole('member');
</pre>
</div>
<div class="section" title="27.4.1.15.4. Breadcrumbs Helper">
<div class="titlepage"><div><div><h5 class="title">
<a name="zend.view.helpers.initial.navigation.breadcrumbs"></a>27.4.1.15.4. Breadcrumbs Helper</h5></div></div></div>
<p>
            Breadcrumbs are used for indicating where in a sitemap
            a user is currently browsing, and are typically rendered
            like this: "You are here: Home &gt; Products &gt; FantasticProduct 1.0".
            The breadcrumbs helper follows the guidelines from <a class="link" href="http://developer.yahoo.com/ypatterns/pattern.php?pattern=breadcrumbs" target="_top">Breadcrumbs
                Pattern - Yahoo! Design Pattern Library</a>,
            and allows simple customization (minimum/maximum depth, indentation,
            separator, and whether the last element should be linked), or
            rendering using a partial view script.
        </p>
<p>
            The Breadcrumbs helper works like this; it finds the deepest active
            page in a navigation container, and renders an upwards path to
            the root. For <acronym class="acronym">MVC</acronym> pages, the "activeness" of a page is
            determined by inspecting the request object, as stated in the
            section on <a class="link" href="">Zend_Navigation_Page_Mvc</a>.
        </p>
<p>
            The helper sets the <code class="code">minDepth</code> property to 1 by default,
            meaning breadcrumbs will not be rendered if the deepest active page
            is a root page. If <code class="code">maxDepth</code> is specified, the helper
            will stop rendering when at the specified depth (e.g. stop at level
            2 even if the deepest active page is on level 3).
        </p>
<p>
            Methods in the breadcrumbs helper:
        </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p>
                   <code class="code">{get|set}Separator()</code> gets/sets separator
                   string that is used between breadcrumbs. Defualt is
                   <code class="code">' &amp;gt; '</code>.
               </p></li>
<li class="listitem"><p>
                   <code class="code">{get|set}LinkLast()</code> gets/sets whether the
                   last breadcrumb should be rendered as an anchor or not.
                   Default is <code class="constant">FALSE</code>.
               </p></li>
<li class="listitem"><p>
                   <code class="code">{get|set}Partial()</code> gets/sets a partial view
                   script that should be used for rendering breadcrumbs.
                   If a partial view script is set, the helper's
                   <code class="methodname">render()</code> method will use the
                   <code class="methodname">renderPartial()</code> method. If no partial is
                   set, the <code class="methodname">renderStraight()</code> method is used.
                   The helper expects the partial to be a <span class="type">String</span>
                   or an <span class="type">Array</span> with two elements. If the partial
                   is a <span class="type">String</span>, it denotes the name of the partial
                   script to use. If it is an <span class="type">Array</span>, the first
                   element will be used as the name of the partial view
                   script, and the second element is the module where the
                   script is found.
               </p></li>
<li class="listitem"><p>
                   <code class="methodname">renderStraight()</code> is the default render
                   method.
               </p></li>
<li class="listitem"><p>
                   <code class="methodname">renderPartial()</code> is used for rendering
                   using a partial view script.
               </p></li>
</ul></div>
<div class="example">
<a name="zend.view.helpers.initial.navigation.breadcrumbs.example1"></a><p class="title"><b>Example 27.31. Rendering breadcrumbs</b></p>
<div class="example-contents">
<p>
                This example shows how to render breadcrumbs with default
                settings.
            </p>
<pre class="programlisting">
In a view script or layout:
&lt;?php echo $this-&gt;navigation()-&gt;breadcrumbs(); ?&gt;

The two calls above take advantage of the magic __toString() method,
and are equivalent to:
&lt;?php echo $this-&gt;navigation()-&gt;breadcrumbs()-&gt;render(); ?&gt;

Output:
&lt;a href="/products"&gt;Products&lt;/a&gt; &gt; &lt;a href="/products/server"&gt;Foo Server&lt;/a&gt; &gt; FAQ
</pre>
</div>
</div>
<br class="example-break"><div class="example">
<a name="zend.view.helpers.initial.navigation.breadcrumbs.example2"></a><p class="title"><b>Example 27.32. Specifying indentation</b></p>
<div class="example-contents">
<p>
                This example shows how to render breadcrumbs with initial
                indentation.
            </p>
<pre class="programlisting">
Rendering with 8 spaces indentation:
&lt;?php echo $this-&gt;navigation()-&gt;breadcrumbs()-&gt;setIndent(8);?&gt;

Output:
        &lt;a href="/products"&gt;Products&lt;/a&gt; &gt; &lt;a href="/products/server"&gt;Foo Server&lt;/a&gt; &gt; FAQ
</pre>
</div>
</div>
<br class="example-break"><div class="example">
<a name="zend.view.helpers.initial.navigation.breadcrumbs.example3"></a><p class="title"><b>Example 27.33. Customize breadcrumbs output</b></p>
<div class="example-contents">
<p>
                This example shows how to customze breadcrumbs output by
                specifying various options.
            </p>
<pre class="programlisting">
In a view script or layout:

&lt;?php
echo $this-&gt;navigation()
          -&gt;breadcrumbs()
          -&gt;setLinkLast(true)                   // link last page
          -&gt;setMaxDepth(1)                      // stop at level 1
          -&gt;setSeparator(' ▶' . PHP_EOL); // cool separator with newline
?&gt;

Output:
&lt;a href="/products"&gt;Products&lt;/a&gt; ▶
&lt;a href="/products/server"&gt;Foo Server&lt;/a&gt;

/////////////////////////////////////////////////////

Setting minimum depth required to render breadcrumbs:

&lt;?php
$this-&gt;navigation()-&gt;breadcrumbs()-&gt;setMinDepth(10);
echo $this-&gt;navigation()-&gt;breadcrumbs();
?&gt;

Output:
Nothing, because the deepest active page is not at level 10 or deeper.
</pre>
</div>
</div>
<br class="example-break"><div class="example">
<a name="zend.view.helpers.initial.navigation.breadcrumbs.example4"></a><p class="title"><b>Example 27.34. Rendering breadcrumbs using a partial view script</b></p>
<div class="example-contents">
<p>
                This example shows how to render customized breadcrumbs using
                a partial vew script. By calling <code class="methodname">setPartial()</code>,
                you can specify a partial view script that will be used
                when calling <code class="methodname">render()</code>. When a partial is specified,
                the <code class="methodname">renderPartial()</code> method will be called. This
                method will find the deepest active page and pass an array
                of pages that leads to the active page to the partial view
                script.
            </p>
<p>
                In a layout:
            </p>
<pre class="programlisting">
$partial = ;
echo $this-&gt;navigation()-&gt;breadcrumbs()
                        -&gt;setPartial(array('breadcrumbs.phtml', 'default'));
</pre>
<p>
                Contents of
                <code class="code">application/modules/default/views/breadcrumbs.phtml</code>:
            </p>
<pre class="programlisting">
echo implode(', ', array_map(
        create_function('$a', 'return $a-&gt;getLabel();'),
        $this-&gt;pages));
</pre>
<p>
                Output:
            </p>
<pre class="programlisting">
Products, Foo Server, FAQ
</pre>
</div>
</div>
<br class="example-break">
</div>
<div class="section" title="27.4.1.15.5. Links Helper">
<div class="titlepage"><div><div><h5 class="title">
<a name="zend.view.helpers.initial.navigation.links"></a>27.4.1.15.5. Links Helper</h5></div></div></div>
<p>
            The links helper is used for rendering <acronym class="acronym">HTML</acronym> <code class="constant">LINK</code>
            elements. Links are used for describing document relationships
            of the currently active page. Read more about links and link
            types at <a class="link" href="http://www.w3.org/TR/html4/struct/links.html#h-12.3" target="_top">Document
                relationships: the LINK element (HTML4 W3C Rec.)</a>
            and <a class="link" href="http://www.w3.org/TR/html4/types.html#h-6.12" target="_top">Link types (HTML4 W3C
                Rec.)</a> in the <acronym class="acronym">HTML</acronym>4 W3C Recommendation.
        </p>
<p>
            There are two types of relations; forward and reverse, indicated
            by the keyords <code class="code">'rel'</code> and <code class="code">'rev'</code>. Most
            methods in the helper will take a <code class="varname">$rel</code> param, which
            must be either <code class="code">'rel'</code> or <code class="code">'rev'</code>. Most
            methods also take a <code class="varname">$type</code> param, which is used
            for specifying the link type (e.g. alternate, start, next, prev,
            chapter, etc).
        </p>
<p>
            Relationships can be added to page objects manually, or found
            by traversing the container registered in the helper. The method
            <code class="methodname">findRelation($page, $rel, $type)</code> will first try
            to find the given <code class="varname">$rel</code> of <code class="varname">$type</code> from
            the <code class="varname">$page</code> by calling <code class="code">$page-&gt;findRel($type)</code>
            or <code class="code">$page-&gt;findRel($type)</code>. If the <code class="varname">$page</code>
            has a relation that can be converted to a page instance, that
            relation will be used. If the <code class="varname">$page</code> instance doesn't
            have the specified <code class="varname">$type</code>, the helper will look for
            a method in the helper named <code class="code">search$rel$type</code> (e.g.
            <code class="methodname">searchRelNext()</code> or
            <code class="methodname">searchRevAlternate()</code>).
            If such a method exists, it will be used for determining the
            <code class="varname">$page</code>'s relation by traversing the container.
        </p>
<p>
            Not all relations can be determined by traversing the container.
            These are the relations that will be found by searching:
        </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p>
                    <code class="methodname">searchRelStart()</code>, forward 'start'
                    relation: the first page in the container.
                </p></li>
<li class="listitem"><p>
                    <code class="methodname">searchRelNext()</code>, forward 'next'
                    relation; finds the next page in the container, i.e.
                    the page after the active page.
                </p></li>
<li class="listitem"><p>
                    <code class="methodname">searchRelPrev()</code>, forward 'prev'
                    relation; finds the previous page, i.e. the page before
                    the active page.
                </p></li>
<li class="listitem"><p>
                    <code class="methodname">searchRelChapter()</code>, forward 'chapter'
                    relations; finds all pages on level 0 except the 'start'
                    relation or the active page if it's on level 0.
                </p></li>
<li class="listitem"><p>
                    <code class="methodname">searchRelSection()</code>, forward 'section'
                    relations; finds all child pages of the active page if
                    the active page is on level 0 (a 'chapter').
                </p></li>
<li class="listitem"><p>
                    <code class="methodname">searchRelSubsection()</code>, forward 'subsection'
                    relations; finds all child pages of the active page if
                    the active pages is on level 1 (a 'section').
                </p></li>
<li class="listitem"><p>
                    <code class="methodname">searchRevSection()</code>, reverse 'section'
                    relation; finds the parent of the active page if the
                    active page is on level 1 (a 'section').
                </p></li>
<li class="listitem"><p>
                    <code class="methodname">searchRevSubsection()</code>, reverse 'subsection'
                    relation; finds the parent of the active page if the
                    active page is on level 2 (a 'subsection').
                </p></li>
</ul></div>
<div class="note" title="Note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td>
<th align="left">Note</th>
</tr>
<tr><td align="left" valign="top"><p>
                When looking for relations in the page instance
                (<code class="code">$page-&gt;getRel($type)</code> or
                <code class="code">$page-&gt;getRev($type)</code>), the helper accepts the
                values of type <span class="type">String</span>, <span class="type">Array</span>,
                <code class="classname">Zend_Config</code>, or
                <code class="classname">Zend_Navigation_Page</code>. If a string
                is found, it will be converted to a
                <code class="classname">Zend_Navigation_Page_Uri</code>. If an array
                or a config is found, it will be converted to one or several
                page instances. If the first key of the array/config is numeric,
                it will be considered to contain several pages, and each
                element will be passed to the
                <a class="link" href="">page factory</a>.
                If the first key is not numeric, the array/config will be
                passed to the page factory directly, and a single page will
                be returned.
            </p></td></tr>
</table></div>
<p>
            The helper also supports magic methods for finding relations.
            E.g. to find forward alternate relations, call
            <code class="code">$helper-&gt;findRelAlternate($page)</code>, and to find
            reverse section relations, call
            <code class="code">$helper-&gt;findRevSection($page)</code>. Those calls correspond
            to <code class="code">$helper-&gt;findRelation($page, 'rel', 'alternate');</code>
            and <code class="code">$helper-&gt;findRelation($page, 'rev', 'section');</code>
            respectively.
        </p>
<p>
            To customize which relations should be rendered, the helper
            uses a render flag. The render flag is an integer value, and will be
            used in a
            <a class="link" href="http://php.net/manual/en/language.operators.bitwise.php" target="_top">bitwse
            <code class="code">and</code> (<code class="code">&amp;</code>) operation</a> against the
            helper's render constants to determine if the relation that belongs
            to the render constant should be rendered.
        </p>
<p>
            See the
            <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.navigation.links.example3" title="Example 27.37. Specify which relations to render">example
            below</a> for more information.
        </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p>
                    <code class="constant">Zend_View_Helper_Navigation_Link::RENDER_ALTERNATE</code>
                </p></li>
<li class="listitem"><p>
                    <code class="constant">Zend_View_Helper_Navigation_Link::RENDER_STYLESHEET</code>
                </p></li>
<li class="listitem"><p>
                    <code class="constant">Zend_View_Helper_Navigation_Link::RENDER_START</code>
                </p></li>
<li class="listitem"><p>
                    <code class="constant">Zend_View_Helper_Navigation_Link::RENDER_NEXT</code>
                </p></li>
<li class="listitem"><p>
                    <code class="constant">Zend_View_Helper_Navigation_Link::RENDER_PREV</code>
                </p></li>
<li class="listitem"><p>
                    <code class="constant">Zend_View_Helper_Navigation_Link::RENDER_CONTENTS</code>
                </p></li>
<li class="listitem"><p>
                    <code class="constant">Zend_View_Helper_Navigation_Link::RENDER_INDEX</code>
                </p></li>
<li class="listitem"><p>
                    <code class="constant">Zend_View_Helper_Navigation_Link::RENDER_GLOSSARY</code>
                </p></li>
<li class="listitem"><p>
                    <code class="constant">Zend_View_Helper_Navigation_Link::RENDER_COPYRIGHT</code>
                </p></li>
<li class="listitem"><p>
                    <code class="constant">Zend_View_Helper_Navigation_Link::RENDER_CHAPTER</code>
                </p></li>
<li class="listitem"><p>
                    <code class="constant">Zend_View_Helper_Navigation_Link::RENDER_SECTION</code>
                </p></li>
<li class="listitem"><p>
                    <code class="constant">Zend_View_Helper_Navigation_Link::RENDER_SUBSECTION</code>
                </p></li>
<li class="listitem"><p>
                    <code class="constant">Zend_View_Helper_Navigation_Link::RENDER_APPENDIX</code>
                </p></li>
<li class="listitem"><p>
                    <code class="constant">Zend_View_Helper_Navigation_Link::RENDER_HELP</code>
                </p></li>
<li class="listitem"><p>
                    <code class="constant">Zend_View_Helper_Navigation_Link::RENDER_BOOKMARK</code>
                </p></li>
<li class="listitem"><p>
                    <code class="constant">Zend_View_Helper_Navigation_Link::RENDER_CUSTOM</code>
                </p></li>
<li class="listitem"><p>
                    <code class="constant">Zend_View_Helper_Navigation_Link::RENDER_ALL</code>
                </p></li>
</ul></div>
<p>
            The constants from <code class="constant">RENDER_ALTERNATE</code> to
            <code class="constant">RENDER_BOOKMARK</code> denote standard <acronym class="acronym">HTML</acronym> link types.
            <code class="constant">RENDER_CUSTOM</code> denotes non-standard relations that
            specified in pages. <code class="constant">RENDER_ALL</code> denotes standard and
            non-standard relations.
        </p>
<p>
            Methods in the links helper:
        </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p>
                    <code class="code">{get|set}RenderFlag()</code> gets/sets the render
                    flag. Default is <code class="constant">RENDER_ALL</code>. See examples
                    below on how to set the render flag.
                </p></li>
<li class="listitem"><p>
                    <code class="methodname">findAllRelations()</code> finds all relations of
                    all types for a given page.
                </p></li>
<li class="listitem"><p>
                    <code class="methodname">findRelation()</code> finds all relations of a given
                    type from a given page.
                </p></li>
<li class="listitem"><p>
                    <code class="code">searchRel{Start|Next|Prev|Chapter|Section|Subsection}()</code>
                    traverses a container to find forward relations to
                    the start page, the next page, the previous page,
                    chapters, sections, and subsections.
                </p></li>
<li class="listitem"><p>
                    <code class="code">searchRev{Section|Subsection}()</code> traverses
                    a container to find reverse relations to sections or
                    subsections.
                </p></li>
<li class="listitem"><p>
                    <code class="methodname">renderLink()</code> renders a single <code class="code">link</code>
                    element.
                </p></li>
</ul></div>
<div class="example">
<a name="zend.view.helpers.initial.navigation.links.example1"></a><p class="title"><b>Example 27.35. Specify relations in pages</b></p>
<div class="example-contents">
<p>
                This example shows how to specify relations in pages.
            </p>
<pre class="programlisting">
$container = new Zend_Navigation(array(
    array(
        'label' =&gt; 'Relations using strings',
        'rel'   =&gt; array(
            'alternate' =&gt; 'http://www.example.org/'
        ),
        'rev'   =&gt; array(
            'alternate' =&gt; 'http://www.example.net/'
        )
    ),
    array(
        'label' =&gt; 'Relations using arrays',
        'rel'   =&gt; array(
            'alternate' =&gt; array(
                'label' =&gt; 'Example.org',
                'uri'   =&gt; 'http://www.example.org/'
            )
        )
    ),
    array(
        'label' =&gt; 'Relations using configs',
        'rel'   =&gt; array(
            'alternate' =&gt; new Zend_Config(array(
                'label' =&gt; 'Example.org',
                'uri'   =&gt; 'http://www.example.org/'
            ))
        )
    ),
    array(
        'label' =&gt; 'Relations using pages instance',
        'rel'   =&gt; array(
            'alternate' =&gt; Zend_Navigation_Page::factory(array(
                'label' =&gt; 'Example.org',
                'uri'   =&gt; 'http://www.example.org/'
            ))
        )
    )
));
</pre>
</div>
</div>
<br class="example-break"><div class="example">
<a name="zend.view.helpers.initial.navigation.links.example2"></a><p class="title"><b>Example 27.36. Default rendering of links</b></p>
<div class="example-contents">
<p>
                This example shows how to render a menu from a container
                registered/found in the view helper.
            </p>
<pre class="programlisting">
In a view script or layout:
&lt;?php echo $this-&gt;view-&gt;navigation()-&gt;links(); ?&gt;

Output:
&lt;link rel="alternate" href="/products/server/faq/format/xml"&gt;
&lt;link rel="start" href="/" title="Home"&gt;
&lt;link rel="next" href="/products/server/editions" title="Editions"&gt;
&lt;link rel="prev" href="/products/server" title="Foo Server"&gt;
&lt;link rel="chapter" href="/products" title="Products"&gt;
&lt;link rel="chapter" href="/company/about" title="Company"&gt;
&lt;link rel="chapter" href="/community" title="Community"&gt;
&lt;link rel="canonical" href="http://www.example.com/?page=server-faq"&gt;
&lt;link rev="subsection" href="/products/server" title="Foo Server"&gt;
</pre>
</div>
</div>
<br class="example-break"><div class="example">
<a name="zend.view.helpers.initial.navigation.links.example3"></a><p class="title"><b>Example 27.37. Specify which relations to render</b></p>
<div class="example-contents">
<p>
                This example shows how to specify which relations to find
                and render.
            </p>
<pre class="programlisting">
Render only start, next, and prev:
$helper-&gt;setRenderFlag(Zend_View_Helper_Navigation_Links::RENDER_START |
                       Zend_View_Helper_Navigation_Links::RENDER_NEXT |
                       Zend_View_Helper_Navigation_Links::RENDER_PREV);

Output:
&lt;link rel="start" href="/" title="Home"&gt;
&lt;link rel="next" href="/products/server/editions" title="Editions"&gt;
&lt;link rel="prev" href="/products/server" title="Foo Server"&gt;
</pre>
<pre class="programlisting">
Render only native link types:
$helper-&gt;setRenderFlag(Zend_View_Helper_Navigation_Links::RENDER_ALL ^
                       Zend_View_Helper_Navigation_Links::RENDER_CUSTOM);

Output:
&lt;link rel="alternate" href="/products/server/faq/format/xml"&gt;
&lt;link rel="start" href="/" title="Home"&gt;
&lt;link rel="next" href="/products/server/editions" title="Editions"&gt;
&lt;link rel="prev" href="/products/server" title="Foo Server"&gt;
&lt;link rel="chapter" href="/products" title="Products"&gt;
&lt;link rel="chapter" href="/company/about" title="Company"&gt;
&lt;link rel="chapter" href="/community" title="Community"&gt;
&lt;link rev="subsection" href="/products/server" title="Foo Server"&gt;
</pre>
<pre class="programlisting">
Render all but chapter:
$helper-&gt;setRenderFlag(Zend_View_Helper_Navigation_Links::RENDER_ALL ^
                       Zend_View_Helper_Navigation_Links::RENDER_CHAPTER);

Output:
&lt;link rel="alternate" href="/products/server/faq/format/xml"&gt;
&lt;link rel="start" href="/" title="Home"&gt;
&lt;link rel="next" href="/products/server/editions" title="Editions"&gt;
&lt;link rel="prev" href="/products/server" title="Foo Server"&gt;
&lt;link rel="canonical" href="http://www.example.com/?page=server-faq"&gt;
&lt;link rev="subsection" href="/products/server" title="Foo Server"&gt;
</pre>
</div>
</div>
<br class="example-break">
</div>
<div class="section" title="27.4.1.15.6. Menu Helper">
<div class="titlepage"><div><div><h5 class="title">
<a name="zend.view.helpers.initial.navigation.menu"></a>27.4.1.15.6. Menu Helper</h5></div></div></div>
<p>
            The Menu helper is used for rendering menus from navigation
            containers. By default, the menu will be rendered using
            <acronym class="acronym">HTML</acronym> <code class="code">UL</code> and <code class="code">LI</code> tags, but the helper also
            allows using a partial view script.
        </p>
<p>
            Methods in the Menu helper:
        </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p>
                    <code class="code">{get|set}UlClass()</code> gets/sets the <acronym class="acronym">CSS</acronym> class
                    used in <code class="methodname">renderMenu()</code>.
                </p></li>
<li class="listitem"><p>
                    <code class="code">{get|set}OnlyActiveBranch()</code> gets/sets a flag
                    specifying whether only the active branch of a container
                    should be rendered.
                </p></li>
<li class="listitem"><p>
                    <code class="code">{get|set}RenderParents()</code> gets/sets a flag
                    specifying whether parents should be rendered when only
                    rendering active branch of a container. If set to
                    <code class="constant">FALSE</code>, only the deepest active menu will be
                    rendered.
                </p></li>
<li class="listitem"><p>
                    <code class="code">{get|set}Partial()</code> gets/sets a partial view
                    script that should be used for rendering menu.
                    If a partial view script is set, the helper's
                    <code class="methodname">render()</code> method will use the
                    <code class="methodname">renderPartial()</code> method. If no partial is
                    set, the <code class="methodname">renderMenu()</code> method is used.
                    The helper expects the partial to be a <span class="type">String</span>
                    or an <span class="type">Array</span> with two elements. If the partial
                    is a <span class="type">String</span>, it denotes the name of the partial
                    script to use. If it is an <span class="type">Array</span>, the first
                    element will be used as the name of the partial view
                    script, and the second element is the module where the
                    script is found.
                </p></li>
<li class="listitem"><p>
                    <code class="methodname">htmlify()</code> overrides the method from the
                    abstract class to return <code class="code">span</code> elements
                    if the page has no <code class="code">href</code>.
                </p></li>
<li class="listitem">
<p>
                    <code class="methodname">renderMenu($container = null, $options = array())</code>
                    is the default render method, and will render a container as
                    a <acronym class="acronym">HTML</acronym> <code class="code">UL</code> list.
                </p>
<p>
                    If <code class="varname">$container</code> is not given, the container
                    registered in the helper will be rendered.
                </p>
<p>
                    <code class="varname">$options</code> is used for overriding options
                    specified temporarily without rsetting the values in the
                    helper instance. It is an associative array where each key
                    corresponds to an option in the helper.
                </p>
<p>
                    Recognized options:
                </p>
<div class="itemizedlist"><ul class="itemizedlist" type="circle">
<li class="listitem"><p>
                            <code class="code">indent</code>; indentation. Expects a
                            <span class="type">String</span> or an <code class="code">int</code>
                            value.
                        </p></li>
<li class="listitem"><p>
                            <code class="code">minDepth</code>; minimum depth. Expcects
                            an <code class="code">int</code> or <code class="constant">NULL</code> (no
                            minimum depth).
                        </p></li>
<li class="listitem"><p>
                            <code class="code">maxDepth</code>; maximum depth. Expcects
                            an <code class="code">int</code> or <code class="constant">NULL</code> (no
                            maximum depth).
                        </p></li>
<li class="listitem"><p>
                            <code class="code">ulClass</code>; <acronym class="acronym">CSS</acronym> class for
                            <code class="code">ul</code> element. Expects a
                            <span class="type">String</span>.
                        </p></li>
<li class="listitem"><p>
                            <code class="code">onlyActiveBranch</code>; whether only
                            active branch should be rendered. Expects
                            a <span class="type">Boolean</span> value.
                        </p></li>
<li class="listitem"><p>
                            <code class="code">renderParents</code>; whether parents
                            should be rendered if only rendering active
                            branch. Expects a <span class="type">Boolean</span> value.
                        </p></li>
</ul></div>
<p>
                    If an option is not given, the value set in the helper
                    will be used.
                </p>
</li>
<li class="listitem"><p>
                    <code class="methodname">renderPartial()</code> is used for rendering the menu
                    using a partial view script.
                </p></li>
<li class="listitem"><p>
                    <code class="methodname">renderSubMenu()</code> renders the deepest menu level
                    of a container's active branch.
                </p></li>
</ul></div>
<div class="example">
<a name="zend.view.helpers.initial.navigation.menu.example1"></a><p class="title"><b>Example 27.38. Rendering a menu</b></p>
<div class="example-contents">
<p>
                This example shows how to render a menu from a container
                registered/found in the view helper. Notice how pages
                are filtered out based on visibility and <acronym class="acronym">ACL</acronym>.
            </p>
<pre class="programlisting">
In a view script or layout:
&lt;?php echo $this-&gt;navigation()-&gt;menu()-&gt;render() ?&gt;

Or simply:
&lt;?php echo $this-&gt;navigation()-&gt;menu() ?&gt;

Output:
&lt;ul class="navigation"&gt;
    &lt;li&gt;
        &lt;a title="Go Home" href="/"&gt;Home&lt;/a&gt;
    &lt;/li&gt;
    &lt;li class="active"&gt;
        &lt;a href="/products"&gt;Products&lt;/a&gt;
        &lt;ul&gt;
            &lt;li class="active"&gt;
                &lt;a href="/products/server"&gt;Foo Server&lt;/a&gt;
                &lt;ul&gt;
                    &lt;li class="active"&gt;
                        &lt;a href="/products/server/faq"&gt;FAQ&lt;/a&gt;
                    &lt;/li&gt;
                    &lt;li&gt;
                        &lt;a href="/products/server/editions"&gt;Editions&lt;/a&gt;
                    &lt;/li&gt;
                    &lt;li&gt;
                        &lt;a href="/products/server/requirements"&gt;System Requirements&lt;/a&gt;
                    &lt;/li&gt;
                &lt;/ul&gt;
            &lt;/li&gt;
            &lt;li&gt;
                &lt;a href="/products/studio"&gt;Foo Studio&lt;/a&gt;
                &lt;ul&gt;
                    &lt;li&gt;
                        &lt;a href="/products/studio/customers"&gt;Customer Stories&lt;/a&gt;
                    &lt;/li&gt;
                    &lt;li&gt;
                        &lt;a href="/prodcts/studio/support"&gt;Support&lt;/a&gt;
                    &lt;/li&gt;
                &lt;/ul&gt;
            &lt;/li&gt;
        &lt;/ul&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a title="About us" href="/company/about"&gt;Company&lt;/a&gt;
        &lt;ul&gt;
            &lt;li&gt;
                &lt;a href="/company/about/investors"&gt;Investor Relations&lt;/a&gt;
            &lt;/li&gt;
            &lt;li&gt;
                &lt;a class="rss" href="/company/news"&gt;News&lt;/a&gt;
                &lt;ul&gt;
                    &lt;li&gt;
                        &lt;a href="/company/news/press"&gt;Press Releases&lt;/a&gt;
                    &lt;/li&gt;
                    &lt;li&gt;
                        &lt;a href="/archive"&gt;Archive&lt;/a&gt;
                    &lt;/li&gt;
                &lt;/ul&gt;
            &lt;/li&gt;
        &lt;/ul&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a href="/community"&gt;Community&lt;/a&gt;
        &lt;ul&gt;
            &lt;li&gt;
                &lt;a href="/community/account"&gt;My Account&lt;/a&gt;
            &lt;/li&gt;
            &lt;li&gt;
                &lt;a class="external" href="http://forums.example.com/"&gt;Forums&lt;/a&gt;
            &lt;/li&gt;
        &lt;/ul&gt;
    &lt;/li&gt;
&lt;/ul&gt;
</pre>
</div>
</div>
<br class="example-break"><div class="example">
<a name="zend.view.helpers.initial.navigation.menu.example2"></a><p class="title"><b>Example 27.39. Calling renderMenu() directly</b></p>
<div class="example-contents">
<p>
                This example shows how to render a menu that is not
                registered in the view helper by calling the
                <code class="methodname">renderMenu()</code> directly and specifying a few
                options.
            </p>
<pre class="programlisting">
&lt;?php
// render only the 'Community' menu
$community = $this-&gt;navigation()-&gt;findOneByLabel('Community');
$options = array(
    'indent'  =&gt; 16,
    'ulClass' =&gt; 'community'
);
echo $this-&gt;navigation()
          -&gt;menu()
          -&gt;renderMenu($community, $options);
?&gt;
Output:
                &lt;ul class="community"&gt;
                    &lt;li&gt;
                        &lt;a href="/community/account"&gt;My Account&lt;/a&gt;
                    &lt;/li&gt;
                    &lt;li&gt;
                        &lt;a class="external" href="http://forums.example.com/"&gt;Forums&lt;/a&gt;
                    &lt;/li&gt;
                &lt;/ul&gt;
</pre>
</div>
</div>
<br class="example-break"><div class="example">
<a name="zend.view.helpers.initial.navigation.menu.example3"></a><p class="title"><b>Example 27.40. Rendering the deepest active menu</b></p>
<div class="example-contents">
<p>
                This example shows how the <code class="methodname">renderSubMenu()</code>
                will render the deepest sub menu of the active branch.
            </p>
<p>
                Calling <code class="methodname">renderSubMenu($container, $ulClass, $indent)</code>
                is equivalent to calling <code class="methodname">renderMenu($container, $options)</code>
                with the following options:
            </p>
<pre class="programlisting">
array(
    'ulClass'          =&gt; $ulClass,
    'indent'           =&gt; $indent,
    'minDepth'         =&gt; null,
    'maxDepth'         =&gt; null,
    'onlyActiveBranch' =&gt; true,
    'renderParents'    =&gt; false
);
</pre>
<pre class="programlisting">
&lt;?php
echo $this-&gt;navigation()
          -&gt;menu()
          -&gt;renderSubMenu(null, 'sidebar', 4);
?&gt;

The output will be the same if 'FAQ' or 'Foo Server' is active:
    &lt;ul class="sidebar"&gt;
        &lt;li class="active"&gt;
            &lt;a href="/products/server/faq"&gt;FAQ&lt;/a&gt;
        &lt;/li&gt;
        &lt;li&gt;
            &lt;a href="/products/server/editions"&gt;Editions&lt;/a&gt;
        &lt;/li&gt;
        &lt;li&gt;
            &lt;a href="/products/server/requirements"&gt;System Requirements&lt;/a&gt;
        &lt;/li&gt;
    &lt;/ul&gt;
</pre>
</div>
</div>
<br class="example-break"><div class="example">
<a name="zend.view.helpers.initial.navigation.menu.example4"></a><p class="title"><b>Example 27.41. Rendering a menu with maximum depth</b></p>
<div class="example-contents"><pre class="programlisting">
&lt;?php
echo $this-&gt;navigation()
          -&gt;menu()
          -&gt;setMaxDepth(1);
?&gt;

Output:
&lt;ul class="navigation"&gt;
    &lt;li&gt;
        &lt;a title="Go Home" href="/"&gt;Home&lt;/a&gt;
    &lt;/li&gt;
    &lt;li class="active"&gt;
        &lt;a href="/products"&gt;Products&lt;/a&gt;
        &lt;ul&gt;
            &lt;li class="active"&gt;
                &lt;a href="/products/server"&gt;Foo Server&lt;/a&gt;
            &lt;/li&gt;
            &lt;li&gt;
                &lt;a href="/products/studio"&gt;Foo Studio&lt;/a&gt;
            &lt;/li&gt;
        &lt;/ul&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a title="About us" href="/company/about"&gt;Company&lt;/a&gt;
        &lt;ul&gt;
            &lt;li&gt;
                &lt;a href="/company/about/investors"&gt;Investor Relations&lt;/a&gt;
            &lt;/li&gt;
            &lt;li&gt;
                &lt;a class="rss" href="/company/news"&gt;News&lt;/a&gt;
            &lt;/li&gt;
        &lt;/ul&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a href="/community"&gt;Community&lt;/a&gt;
        &lt;ul&gt;
            &lt;li&gt;
                &lt;a href="/community/account"&gt;My Account&lt;/a&gt;
            &lt;/li&gt;
            &lt;li&gt;
                &lt;a class="external" href="http://forums.example.com/"&gt;Forums&lt;/a&gt;
            &lt;/li&gt;
        &lt;/ul&gt;
    &lt;/li&gt;
&lt;/ul&gt;
</pre></div>
</div>
<br class="example-break"><div class="example">
<a name="zend.view.helpers.initial.navigation.menu.example5"></a><p class="title"><b>Example 27.42. Rendering a menu with minimum depth</b></p>
<div class="example-contents"><pre class="programlisting">
&lt;?php
echo $this-&gt;navigation()
          -&gt;menu()
          -&gt;setMinDepth(1);
?&gt;

Output:
&lt;ul class="navigation"&gt;
    &lt;li class="active"&gt;
        &lt;a href="/products/server"&gt;Foo Server&lt;/a&gt;
        &lt;ul&gt;
            &lt;li class="active"&gt;
                &lt;a href="/products/server/faq"&gt;FAQ&lt;/a&gt;
            &lt;/li&gt;
            &lt;li&gt;
                &lt;a href="/products/server/editions"&gt;Editions&lt;/a&gt;
            &lt;/li&gt;
            &lt;li&gt;
                &lt;a href="/products/server/requirements"&gt;System Requirements&lt;/a&gt;
            &lt;/li&gt;
        &lt;/ul&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a href="/products/studio"&gt;Foo Studio&lt;/a&gt;
        &lt;ul&gt;
            &lt;li&gt;
                &lt;a href="/products/studio/customers"&gt;Customer Stories&lt;/a&gt;
            &lt;/li&gt;
            &lt;li&gt;
                &lt;a href="/prodcts/studio/support"&gt;Support&lt;/a&gt;
            &lt;/li&gt;
        &lt;/ul&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a href="/company/about/investors"&gt;Investor Relations&lt;/a&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a class="rss" href="/company/news"&gt;News&lt;/a&gt;
        &lt;ul&gt;
            &lt;li&gt;
                &lt;a href="/company/news/press"&gt;Press Releases&lt;/a&gt;
            &lt;/li&gt;
            &lt;li&gt;
                &lt;a href="/archive"&gt;Archive&lt;/a&gt;
            &lt;/li&gt;
        &lt;/ul&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a href="/community/account"&gt;My Account&lt;/a&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a class="external" href="http://forums.example.com/"&gt;Forums&lt;/a&gt;
    &lt;/li&gt;
&lt;/ul&gt;
</pre></div>
</div>
<br class="example-break"><div class="example">
<a name="zend.view.helpers.initial.navigation.menu.example6"></a><p class="title"><b>Example 27.43. Rendering only the active branch of a menu</b></p>
<div class="example-contents"><pre class="programlisting">
&lt;?php
echo $this-&gt;navigation()
          -&gt;menu()
          -&gt;setOnlyActiveBranch(true);
?&gt;

Output:
&lt;ul class="navigation"&gt;
    &lt;li class="active"&gt;
        &lt;a href="/products"&gt;Products&lt;/a&gt;
        &lt;ul&gt;
            &lt;li class="active"&gt;
                &lt;a href="/products/server"&gt;Foo Server&lt;/a&gt;
                &lt;ul&gt;
                    &lt;li class="active"&gt;
                        &lt;a href="/products/server/faq"&gt;FAQ&lt;/a&gt;
                    &lt;/li&gt;
                    &lt;li&gt;
                        &lt;a href="/products/server/editions"&gt;Editions&lt;/a&gt;
                    &lt;/li&gt;
                    &lt;li&gt;
                        &lt;a href="/products/server/requirements"&gt;System Requirements&lt;/a&gt;
                    &lt;/li&gt;
                &lt;/ul&gt;
            &lt;/li&gt;
        &lt;/ul&gt;
    &lt;/li&gt;
&lt;/ul&gt;
</pre></div>
</div>
<br class="example-break"><div class="example">
<a name="zend.view.helpers.initial.navigation.menu.example7"></a><p class="title"><b>Example 27.44. 
                Rendering only the active branch of a menu with minimum depth
            </b></p>
<div class="example-contents"><pre class="programlisting">
&lt;?php
echo $this-&gt;navigation()
          -&gt;menu()
          -&gt;setOnlyActiveBranch(true)
          -&gt;setMinDepth(1);
?&gt;

Output:
&lt;ul class="navigation"&gt;
    &lt;li class="active"&gt;
        &lt;a href="/products/server"&gt;Foo Server&lt;/a&gt;
        &lt;ul&gt;
            &lt;li class="active"&gt;
                &lt;a href="/products/server/faq"&gt;FAQ&lt;/a&gt;
            &lt;/li&gt;
            &lt;li&gt;
                &lt;a href="/products/server/editions"&gt;Editions&lt;/a&gt;
            &lt;/li&gt;
            &lt;li&gt;
                &lt;a href="/products/server/requirements"&gt;System Requirements&lt;/a&gt;
            &lt;/li&gt;
        &lt;/ul&gt;
    &lt;/li&gt;
&lt;/ul&gt;
</pre></div>
</div>
<br class="example-break"><div class="example">
<a name="zend.view.helpers.initial.navigation.menu.example8"></a><p class="title"><b>Example 27.45. 
                Rendering only the active branch of a menu with maximum depth
            </b></p>
<div class="example-contents"><pre class="programlisting">
&lt;?php
echo $this-&gt;navigation()
          -&gt;menu()
          -&gt;setOnlyActiveBranch(true)
          -&gt;setMaxDepth(1);
?&gt;

Output:
&lt;ul class="navigation"&gt;
    &lt;li class="active"&gt;
        &lt;a href="/products"&gt;Products&lt;/a&gt;
        &lt;ul&gt;
            &lt;li class="active"&gt;
                &lt;a href="/products/server"&gt;Foo Server&lt;/a&gt;
            &lt;/li&gt;
            &lt;li&gt;
                &lt;a href="/products/studio"&gt;Foo Studio&lt;/a&gt;
            &lt;/li&gt;
        &lt;/ul&gt;
    &lt;/li&gt;
&lt;/ul&gt;
</pre></div>
</div>
<br class="example-break"><div class="example">
<a name="zend.view.helpers.initial.navigation.menu.example9"></a><p class="title"><b>Example 27.46. 
                Rendering only the active branch of a menu with maximum depth
                and no parents
            </b></p>
<div class="example-contents">
<p>
            </p>
<pre class="programlisting">
&lt;?php
echo $this-&gt;navigation()
          -&gt;menu()
          -&gt;setOnlyActiveBranch(true)
          -&gt;setRenderParents(false)
          -&gt;setMaxDepth(1);
?&gt;

Output:
&lt;ul class="navigation"&gt;
    &lt;li class="active"&gt;
        &lt;a href="/products/server"&gt;Foo Server&lt;/a&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a href="/products/studio"&gt;Foo Studio&lt;/a&gt;
    &lt;/li&gt;
&lt;/ul&gt;
</pre>
</div>
</div>
<br class="example-break"><div class="example">
<a name="zend.view.helpers.initial.navigation.menu.example10"></a><p class="title"><b>Example 27.47. Rendering a custom menu using a partial view script</b></p>
<div class="example-contents">
<p>
                This example shows how to render a custom menu using
                a partial vew script. By calling <code class="methodname">setPartial()</code>,
                you can specify a partial view script that will be used
                when calling <code class="methodname">render()</code>. When a partial is specified,
                the <code class="methodname">renderPartial()</code> method will be called. This
                method will assign the container to the view with the key
                <code class="code">container</code>.
            </p>
<p>In a layout:</p>
<pre class="programlisting">
$partial = array('menu.phtml', 'default');
$this-&gt;navigation()-&gt;menu()-&gt;setPartial($partial);
echo $this-&gt;navigation()-&gt;menu()-&gt;render();
</pre>
<p>In application/modules/default/views/menu.phtml:</p>
<pre class="programlisting">
foreach ($this-&gt;container as $page) {
    echo $this-&gt;navigation()-&gt;menu()-&gt;htmlify($page), PHP_EOL;
}
</pre>
<p>Output:</p>
<pre class="programlisting">
&lt;a title="Go Home" href="/"&gt;Home&lt;/a&gt;
&lt;a href="/products"&gt;Products&lt;/a&gt;
&lt;a title="About us" href="/company/about"&gt;Company&lt;/a&gt;
&lt;a href="/community"&gt;Community&lt;/a&gt;
</pre>
</div>
</div>
<br class="example-break">
</div>
<div class="section" title="27.4.1.15.7. Sitemap Helper">
<div class="titlepage"><div><div><h5 class="title">
<a name="zend.view.helpers.initial.navigation.sitemap"></a>27.4.1.15.7. Sitemap Helper</h5></div></div></div>
<p>
            The Sitemap helper is used for generating <acronym class="acronym">XML</acronym> sitemaps, as
            defined by the <a class="link" href="http://www.sitemaps.org/protocol.php" target="_top">Sitemaps <acronym class="acronym">XML</acronym>
                format</a>. Read more about <a class="link" href="http://en.wikipedia.org/wiki/Sitemaps" target="_top">Sitemaps on Wikpedia</a>.
        </p>
<p>
            By default, the sitemap helper uses
            <a class="link" href="zend.validator.set.html#zend.validator.sitemap" title="26.2.26. Sitemap Validators">sitemap validators</a>
            to validate each element that is rendered. This can be disabled by
            calling <code class="code">$helper-&gt;setUseSitemapValidators(false)</code>.
        </p>
<div class="note" title="Note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td>
<th align="left">Note</th>
</tr>
<tr><td align="left" valign="top"><p>
                If you disable sitemap validators, the custom properties (see table)
                are not validated at all.
            </p></td></tr>
</table></div>
<p>
            The sitemap helper also supports <a class="link" href="http://www.sitemaps.org/schemas/sitemap/0.9/sitemap.xsd" target="_top">Sitemap XSD
                Schema</a> validation of the generated sitemap. This is disabled by default,
            since it will require a request to the Schema file. It can be
            enabled with
            <code class="code">$helper-&gt;setUseSchemaValidation(true)</code>.
        </p>
<div class="table">
<a name="zend.view.helpers.initial.navigation.sitemap.elements"></a><p class="title"><b>Table 27.1. Sitemap XML elements</b></p>
<div class="table-contents"><table summary="Sitemap XML elements" border="1">
<colgroup>
<col>
<col>
</colgroup>
<thead><tr>
<th>Element</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr>
<td><code class="code">loc</code></td>
<td>
                            Absolute <acronym class="acronym">URL</acronym> to page. An absolute
                            <acronym class="acronym">URL</acronym> will be generated by the helper.
                        </td>
</tr>
<tr>
<td><code class="code">lastmod</code></td>
<td>
                            <p>
                                The date of last modification of the file, in <a class="link" href="http://www.w3.org/TR/NOTE-datetime" target="_top">W3C Datetime</a>
                                format. This time portion can be omitted if desired, and only use
                                YYYY-MM-DD.
                            </p>

                            <p>
                                The helper will try to retrieve the
                                <code class="code">lastmod</code> value from the page's
                                custom property <code class="code">lastmod</code> if it
                                is set in the page. If the value is not a
                                valid date, it is ignored.
                            </p>
                        </td>
</tr>
<tr>
<td><code class="code">changefreq</code></td>
<td>
                            <p>
                                How frequently the page is likely to change.
                                This value provides general information to
                                search engines and may not correlate exactly
                                to how often they crawl the page. Valid
                                values are:
                            </p>

                            <div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p>always</p></li>
<li class="listitem"><p>hourly</p></li>
<li class="listitem"><p>daily</p></li>
<li class="listitem"><p>weekly</p></li>
<li class="listitem"><p>monthly</p></li>
<li class="listitem"><p>yearly</p></li>
<li class="listitem"><p>never</p></li>
</ul></div>

                            <p>
                                The helper will try to retrieve the
                                <code class="code">changefreq</code> value from the page's
                                custom property <code class="code">changefreq</code> if it
                                is set in the page. If the value is not
                                valid, it is ignored.
                            </p>
                        </td>
</tr>
<tr>
<td><code class="code">priority</code></td>
<td>
                            <p>
                                The priority of this <acronym class="acronym">URL</acronym> relative to other
                                <acronym class="acronym">URL</acronym>s on your site. Valid values range from
                                0.0 to 1.0.
                            </p>

                            <p>
                                The helper will try to retrieve the
                                <code class="code">priority</code> value from the page's
                                custom property <code class="code">priority</code> if it
                                is set in the page. If the value is not
                                valid, it is ignored.
                            </p>
                        </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>
            Methods in the sitemap helper:
        </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p>
                    <code class="code">{get|set}FormatOutput()</code> gets/sets a flag
                    indicating whether <acronym class="acronym">XML</acronym> output should be formatted. This
                    corresponds to the <code class="code">formatOutput</code> property
                    of the native <code class="classname">DOMDocument</code> class.
                    Read more at
                    <a class="link" href="http://php.net/domdocument" target="_top">PHP: DOMDocument - Manual</a>.
                    Default is <code class="constant">FALSE</code>.
                </p></li>
<li class="listitem"><p>
                    <code class="code">{get|set}UseXmlDeclaration()</code> gets/sets a
                    flag indicating whether the <acronym class="acronym">XML</acronym> declaration should be
                    included when rendering. Default is <code class="constant">TRUE</code>.
                </p></li>
<li class="listitem"><p>
                    <code class="code">{get|set}UseSitemapValidators()</code> gets/sets a
                    flag indicating whether sitemap validators should be
                    used when generating the DOM sitemap. Default is
                    <code class="constant">TRUE</code>.
                </p></li>
<li class="listitem"><p>
                    <code class="code">{get|set}UseSchemaValidation()</code> gets/sets a
                    flag indicating whether the helper should use <acronym class="acronym">XML</acronym> Schema
                    validation when generating the DOM sitemap. Default is
                    <code class="constant">FALSE</code>. If <code class="constant">TRUE</code>.
                </p></li>
<li class="listitem"><p>
                    <code class="code">{get|set}ServerUrl()</code> gets/sets server <acronym class="acronym">URL</acronym>
                    that will be prepended to non-absolute <acronym class="acronym">URL</acronym>s in the
                    <code class="methodname">url()</code> method. If no server <acronym class="acronym">URL</acronym> is
                    specified, it will be determined by the helper.
                </p></li>
<li class="listitem"><p>
                    <code class="methodname">url()</code> is used to generate absolute
                    <acronym class="acronym">URL</acronym>s to pages.
                </p></li>
<li class="listitem"><p>
                    <code class="methodname">getDomSitemap()</code> generates a DOMDocument
                    from a given container.
                </p></li>
</ul></div>
<div class="example">
<a name="zend.view.helpers.initial.navigation.sitemap.example"></a><p class="title"><b>Example 27.48. Rendering an XML sitemap</b></p>
<div class="example-contents">
<p>
                This example shows how to render an <acronym class="acronym">XML</acronym> sitemap based
                on the setup we did further up.
            </p>
<pre class="programlisting">
// In a view script or layout:

// format output
$this-&gt;navigation()
      -&gt;sitemap()
      -&gt;setFormatOutput(true); // default is false

// other possible methods:
// -&gt;setUseXmlDeclaration(false); // default is true
// -&gt;setServerUrl('http://my.otherhost.com');
// default is to detect automatically

// print sitemap
echo $this-&gt;navigation()-&gt;sitemap();
</pre>
<p>
                Notice how pages that are invisible or pages with
                <acronym class="acronym">ACL</acronym> roles incompatible with the view helper are filtered
                out:
            </p>
<pre class="programlisting">
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9"&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/products&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/products/server&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/products/server/faq&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/products/server/editions&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/products/server/requirements&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/products/studio&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/products/studio/customers&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/prodcts/studio/support&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/company/about&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/company/about/investors&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/company/news&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/company/news/press&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/archive&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/community&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/community/account&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://forums.example.com/&lt;/loc&gt;
  &lt;/url&gt;
&lt;/urlset&gt;
</pre>
<p>
                Render the sitemap using no <acronym class="acronym">ACL</acronym> role (should filter out
                /community/account):
            </p>
<pre class="programlisting">
echo $this-&gt;navigation()
          -&gt;sitemap()
          -&gt;setFormatOutput(true)
          -&gt;setRole();
</pre>
<pre class="programlisting">
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9"&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/products&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/products/server&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/products/server/faq&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/products/server/editions&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/products/server/requirements&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/products/studio&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/products/studio/customers&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/prodcts/studio/support&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/company/about&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/company/about/investors&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/company/news&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/company/news/press&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/archive&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/community&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://forums.example.com/&lt;/loc&gt;
  &lt;/url&gt;
&lt;/urlset&gt;
</pre>
<p>
                Render the sitemap using a maximum depth of 1.
            </p>
<pre class="programlisting">
echo $this-&gt;navigation()
          -&gt;sitemap()
          -&gt;setFormatOutput(true)
          -&gt;setMaxDepth(1);
</pre>
<pre class="programlisting">
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9"&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/products&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/products/server&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/products/studio&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/company/about&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/company/about/investors&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/company/news&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/community&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/community/account&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://forums.example.com/&lt;/loc&gt;
  &lt;/url&gt;
&lt;/urlset&gt;
</pre>
</div>
</div>
<br class="example-break"><div class="note" title="UTF-8 encoding used by default"><table border="0" summary="Note: UTF-8 encoding used by default">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td>
<th align="left">UTF-8 encoding used by default</th>
</tr>
<tr><td align="left" valign="top">
<p>
                By default, Zend Framework uses <acronym class="acronym">UTF-8</acronym> as its default encoding,
                and, specific to this case, <code class="classname">Zend_View</code> does as well. Character
                encoding can be set differently on the view object itself using the
                <code class="methodname">setEncoding()</code> method (or the the
                <code class="varname">encoding</code> instantiation parameter). However, since
                <code class="classname">Zend_View_Interface</code> does not define accessors for encoding,
                it's possible that if you are using a custom view implementation with the Dojo view
                helper, you will not have a <code class="methodname">getEncoding()</code> method, which is
                what the view helper uses internally for determining the character set in which to
                encode.
            </p>
<p>
                If you do not want to utilize <acronym class="acronym">UTF-8</acronym> in such a situation, you will
                need to implement a <code class="methodname">getEncoding()</code> method in your custom
                view implementation.
            </p>
</td></tr>
</table></div>
</div>
<div class="section" title="27.4.1.15.8. Navigation Helper">
<div class="titlepage"><div><div><h5 class="title">
<a name="zend.view.helpers.initial.navigation.navigation"></a>27.4.1.15.8. Navigation Helper</h5></div></div></div>
<p>
            The Navigation helper is a proxy helper
            that relays calls to other navigational helpers. It can be
            considered an entry point to all navigation-related view tasks.
            The aforementioned navigational helpers are in the namespace
            <code class="classname">Zend_View_Helper_Navigation</code>, and would thus require
            the path <code class="code">Zend/View/Helper/Navigation</code> to be added as
            a helper path to the view. With the proxy helper residing in the
            <code class="classname">Zend_View_Helper</code> namespace, it will always be
            available, without the need to add any helper paths to the view.
        </p>
<p>
            The Navigation helper finds other helpers that implement the
            <code class="classname">Zend_View_Helper_Navigation_Helper</code>
            interface, which means custom view helpers can also be proxied.
            This would, however, require that the custom helper path is added
            to the view.
        </p>
<p>
            When proxying to other helpers, the Navigation helper can inject
            its container, <acronym class="acronym">ACL</acronym>/role, and translator. This means that you
            won't have to explicitly set all three in all navigational
            helpers, nor resort to injecting by means of
            <code class="classname">Zend_Registry</code> or static methods.
        </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p>
                   <code class="methodname">findHelper()</code> finds the given helper,
                   verifies that it is a navigational helper, and injects
                   container, <acronym class="acronym">ACL</acronym>/role and translator.
               </p></li>
<li class="listitem"><p>
                   <code class="code">{get|set}InjectContainer()</code> gets/sets a flag
                   indicating whether the container should be injected to
                   proxied helpers. Default is <code class="constant">TRUE</code>.
               </p></li>
<li class="listitem"><p>
                   <code class="code">{get|set}InjectAcl()</code> gets/sets a flag
                   indicating whether the <acronym class="acronym">ACL</acronym>/role should be injected to
                   proxied helpers. Default is <code class="constant">TRUE</code>.
               </p></li>
<li class="listitem"><p>
                   <code class="code">{get|set}InjectTranslator()</code> gets/sets a flag
                   indicating whether the translator should be injected to
                   proxied helpers. Default is <code class="constant">TRUE</code>.
               </p></li>
<li class="listitem"><p>
                   <code class="code">{get|set}DefaultProxy()</code> gets/sets the default
                   proxy. Default is <code class="code">'menu'</code>.
               </p></li>
<li class="listitem"><p>
                   <code class="methodname">render()</code> proxies to the render method of
                   the default proxy.
               </p></li>
</ul></div>
</div>
</div>
</div>
<div class="section" title="27.4.2. Registering Helpers">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.view.helpers.register"></a>27.4.2. Registering Helpers</h3></div></div></div>
<p>
            <code class="classname">Zend\View\Renderer\PhpRenderer</code> composes a <a class="link" href="">plugin broker</a> for managing helpers,
            specifically an instance of <code class="classname">Zend\View\HelperBroker</code>, which extends
            the base plugin broker in order to ensure we have valid helpers available. The
            <code class="classname">HelperBroker</code> by default uses
            <code class="classname">Zend\View\HelperLoader</code> as its helper locator. The
            <code class="classname">HelperLoader</code> is a map-based loader, which means that you will
            simply map the helper/plugin name by which you wish to refer to it to the actual class
            name of the helper/plugin.
        </p>
<p>
            Programmatically, this is done as follows:
        </p>
<pre class="programlisting">
// $view is an instance of PhpRenderer
$broker = $view-&gt;getBroker();
$loader = $broker-&gt;getClassLoader();

// Register singly:
$loader-&gt;registerPlugin('lowercase', 'My\Helper\LowerCase');

// Register several:
$loader-&gt;registerPlugins(array(
    'lowercase' =&gt; 'My\Helper\LowerCase',
    'uppercase' =&gt; 'My\Helper\UpperCase',
));
</pre>
<p>
            Within an MVC application, you will typically simply pass a map of plugins to the class
            via your configuration.
        </p>
<pre class="programlisting">
// From within a configuration file
return array(
    'di' =&gt; array('instance' =&gt; array(
        'Zend\View\HelperLoader' =&gt; array('parameters' =&gt; array(
            'map' =&gt; array(
                'lowercase' =&gt; 'My\Helper\LowerCase',
                'uppercase' =&gt; 'My\Helper\UpperCase',
            ),
        )),
    )),
);
</pre>
<p>
            The above can be done in each module that needs to register helpers with the
            <code class="classname">PhpRenderer</code>; however, be aware that another module can register
            helpers with the same name, so order of modules can impact which helper class will
            actually be registered!
        </p>
</div>
<div class="section" title="27.4.3. Writing Custom Helpers">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.view.helpers.custom"></a>27.4.3. Writing Custom Helpers</h3></div></div></div>
<p>
            Writing custom helpers is easy. We recommend extending
            <code class="classname">Zend\View\Helper\AbstractHelper</code>, but at the minimum, you need
            only implement the <code class="classname">Zend\View\Helper</code> interface:
        </p>
<pre class="programlisting">
namespace Zend\View;

interface Helper
{
    /**
     * Set the View object
     *
     * @param  Renderer $view
     * @return Helper
     */
    public function setView(Renderer $view);

    /**
     * Get the View object
     *
     * @return Renderer
     */
    public function getView();
}
</pre>
<p>
            If you want your helper to be capable of being invoked as if it were a method call of
            the <code class="classname">PhpRenderer</code>, you should also implement an
            <code class="methodname">__invoke()</code> method within your helper.
        </p>
<p>
            As previously noted, we recommend extending
            <code class="classname">Zend\View\Helper\AbstractHelper</code>, as it implements the methods
            defined in <code class="classname">Helper</code>, giving you a headstart in your development.
        </p>
<p>
            Once you have defined your helper class, make sure you can autoload it, and then <a class="link" href="zend.view.helpers.html#zend.view.helpers.register" title="27.4.2. Registering Helpers">register it with the plugin broker</a>.
        </p>
<p>
            Here is an example helper, which we're titling "SpecialPurpose"
        </p>
<pre class="programlisting">
namespace My\View\Helper;

use Zend\View\Helper\AbstractHelper;

class SpecialPurpose extends AbstractHelper
{
    protected $count = 0;

    public function __invoke()
    {
        $this-&gt;count++;
        $output = sprintf("I have seen 'The Jerk' %d time(s).", $this-&gt;count);
        return htmlspecialchars($output, ENT_QUOTES, 'UTF-8');
    }
}
</pre>
<p>
            Then assume that when we <a class="link" href="zend.view.helpers.html#zend.view.helpers.register" title="27.4.2. Registering Helpers">register it with the plugin broker</a>, we
            map it to the string "specialpurpose".
        </p>
<p>
            Within a view script, you can call the <code class="classname">SpecialPurpose</code> helper as
            many times as you like; it will be instantiated once, and then it persists for the life
            of that <code class="classname">PhpRenderer</code> instance.
        </p>
<pre class="programlisting">
// remember, in a view script, $this refers to the Zend_View instance.
echo $this-&gt;specialPurpose();
echo $this-&gt;specialPurpose();
echo $this-&gt;specialPurpose();
</pre>
<p>
            The output would look something like this:
        </p>
<pre class="programlisting">
I have seen 'The Jerk' 1 time(s).
I have seen 'The Jerk' 2 time(s).
I have seen 'The Jerk' 3 time(s).
</pre>
<p>
            Sometimes you will need access to the calling <code class="classname">PhpRenderer</code> object --
            for instance, if you need to use the registered encoding, or want to render another view
            script as part of your helper. This is why we define the
            <code class="methodname">setView()</code> and <code class="methodname">getView()</code> methods. As an
            example, we could rewrite the <code class="classname">SpecialPurpose</code> helper as follows to
            take advantage of the <code class="classname">EscapeHtml</code> helper:
        </p>
<pre class="programlisting">
namespace My\View\Helper;

use Zend\View\Helper\AbstractHelper;

class SpecialPurpose extends AbstractHelper
{
    protected $count = 0;

    public function __invoke()
    {
        $this-&gt;count++;
        $output  = sprintf("I have seen 'The Jerk' %d time(s).", $this-&gt;count);
        $escaper = $this-&gt;getView()-&gt;plugin('escapehtml');
        return $escaper($output);
    }
}
</pre>
</div>
<div class="section" title="27.4.4. Registering Concrete Helpers">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.view.helpers.registering-concrete"></a>27.4.4. Registering Concrete Helpers</h3></div></div></div>
<p>
            Sometimes it is convenient to instantiate a view helper, and then register it with the
            renderer. This can be done by injecting it directly into the plugin broker.
        </p>
<pre class="programlisting">
// $view is a PhpRenderer instance

$helper = new My_Helper_Foo();
// ...do some configuration or dependency injection...

$view-&gt;getBroker()-&gt;register('foo', $helper);
</pre>
<p>
            When registered, the plugin broker will inject the <code class="classname">PhpRenderer</code>
            instance into the helper.
        </p>
</div>
</div>
<div class="navfooter"><table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="zend.view.php-renderer.scripts.html">Prev</a> </td>
<td width="20%" align="center"><a accesskey="u" href="zend.view.html">Up</a></td>
<td width="40%" align="right"> <a accesskey="n" href="zend.xmlrpc.html">Next</a>
</td>
</tr>
<tr>
<td width="40%" align="left" valign="top">27.3. PhpRenderer View Scripts </td>
<td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td>
<td width="40%" align="right" valign="top"> Chapter 28. Zend_XmlRpc</td>
</tr>
</table></div>
<div class="revinfo"></div>
</body>
</html>

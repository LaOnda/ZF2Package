<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>22.3. Default Services</title>
<link rel="stylesheet" type="text/css" href="dbstyle.css">
<meta name="generator" content="DocBook XSL-NS Stylesheets V1.76.1">
<link rel="home" href="index.html" title="Programmer's Reference Guide">
<link rel="up" href="zend.mvc.html" title="Chapter 22. Zend\Mvc">
<link rel="prev" href="zend.mvc.quick-start.html" title="22.2. Quick Start">
<link rel="next" href="zend.mvc.routing.html" title="22.4. Routing">
<link rel="part" href="introduction.html" title="Part I. Introduction to Zend Framework">
<link rel="chapter" href="introduction.overview.html" title="Chapter 1. Overview">
<link rel="chapter" href="introduction.installation.html" title="Chapter 2. Installation">
<link rel="part" href="learning.html" title="Part II. Learning Zend Framework">
<link rel="article" href="learning.di.html" title="Learning Dependency Injection">
<link rel="part" href="reference.html" title="Part III. Zend Framework Reference">
<link rel="chapter" href="zend.acl.html" title="Chapter 3. Zend\Acl">
<link rel="chapter" href="zend.authentication.html" title="Chapter 4. Zend\Authentication">
<link rel="chapter" href="zend.barcode.html" title="Chapter 5. Zend\Barcode">
<link rel="chapter" href="zend.cache.html" title="Chapter 6. Zend\Cache">
<link rel="chapter" href="zend.captcha.html" title="Chapter 7. Zend\Captcha">
<link rel="chapter" href="zend.config.html" title="Chapter 8. Zend_Config">
<link rel="chapter" href="zend.crypt.html" title="Chapter 9. Zend_Crypt">
<link rel="chapter" href="zend.db.html" title="Chapter 10. Zend_Db">
<link rel="chapter" href="zend.di.html" title="Chapter 11. Zend\Di">
<link rel="chapter" href="zend.dom.html" title="Chapter 12. Zend\Dom">
<link rel="chapter" href="zend.event-manager.html" title="Chapter 13. Zend\EventManager">
<link rel="chapter" href="zend.form.html" title="Chapter 14. Zend_Form">
<link rel="chapter" href="zend.http.html" title="Chapter 15. Zend_Http">
<link rel="chapter" href="zend.i18n.html" title="Chapter 16. Zend_I18n">
<link rel="chapter" href="zend.input-filter.html" title="Chapter 17. Zend\InputFilter">
<link rel="chapter" href="zend.ldap.html" title="Chapter 18. Zend_Ldap">
<link rel="chapter" href="zend.loader.html" title="Chapter 19. Zend\Loader">
<link rel="refentry" href="zend.loader.autoloader-factory.methods.factory.html" title="factory">
<link rel="refentry" href="zend.loader.autoloader-factory.methods.get-registered-autoloaders.html" title="getRegisteredAutoloaders">
<link rel="refentry" href="zend.loader.plugin-class-loader.methods.constructor.html" title="__construct">
<link rel="refentry" href="zend.loader.plugin-class-loader.methods.add-static-map.html" title="addStaticMap">
<link rel="refentry" href="zend.loader.plugin-class-loader.methods.register-plugin.html" title="registerPlugin">
<link rel="refentry" href="zend.loader.plugin-class-loader.methods.register-plugins.html" title="registerPlugins">
<link rel="refentry" href="zend.loader.plugin-class-loader.methods.unregister-plugin.html" title="unregisterPlugin">
<link rel="refentry" href="zend.loader.plugin-class-loader.methods.get-registered-plugins.html" title="getRegisteredPlugins">
<link rel="refentry" href="zend.loader.plugin-class-loader.methods.is-loaded.html" title="isLoaded">
<link rel="refentry" href="zend.loader.plugin-class-loader.methods.get-class-name.html" title="getClassName">
<link rel="refentry" href="zend.loader.plugin-class-loader.methods.load.html" title="load">
<link rel="refentry" href="zend.loader.plugin-class-loader.methods.get-iterator.html" title="getIterator">
<link rel="refentry" href="zend.loader.short-name-locator.methods.is-loaded.html" title="isLoaded">
<link rel="refentry" href="zend.loader.short-name-locator.methods.get-class-name.html" title="getClassName">
<link rel="refentry" href="zend.loader.short-name-locator.methods.load.html" title="load">
<link rel="refentry" href="zend.loader.plugin-class-locator.methods.register-plugin.html" title="registerPlugin">
<link rel="refentry" href="zend.loader.plugin-class-locator.methods.unregister-plugin.html" title="unregisterPlugin">
<link rel="refentry" href="zend.loader.plugin-class-locator.methods.get-registered-plugins.html" title="getRegisteredPlugins">
<link rel="refentry" href="zend.loader.spl-autoloader.methods.constructor.html" title="__construct">
<link rel="refentry" href="zend.loader.spl-autoloader.methods.set-options.html" title="setOptions">
<link rel="refentry" href="zend.loader.spl-autoloader.methods.autoload.html" title="autoload">
<link rel="refentry" href="zend.loader.spl-autoloader.methods.register.html" title="register">
<link rel="refentry" href="zend.loader.class-map-autoloader.methods.constructor.html" title="__construct">
<link rel="refentry" href="zend.loader.class-map-autoloader.methods.set-options.html" title="setOptions">
<link rel="refentry" href="zend.loader.class-map-autoloader.methods.register-autoload-map.html" title="registerAutoloadMap">
<link rel="refentry" href="zend.loader.class-map-autoloader.methods.register-autoload-maps.html" title="registerAutoloadMaps">
<link rel="refentry" href="zend.loader.class-map-autoloader.methods.get-autoload-map.html" title="getAutoloadMap">
<link rel="refentry" href="zend.loader.class-map-autoloader.methods.autoload.html" title="autoload">
<link rel="refentry" href="zend.loader.class-map-autoloader.methods.register.html" title="register">
<link rel="refentry" href="zend.loader.standard-autoloader.methods.constructor.html" title="__construct">
<link rel="refentry" href="zend.loader.standard-autoloader.methods.set-options.html" title="setOptions">
<link rel="refentry" href="zend.loader.standard-autoloader.methods.set-fallback-autoloader.html" title="setFallbackAutoloader">
<link rel="refentry" href="zend.loader.standard-autoloader.methods.is-fallback-autoloader.html" title="isFallbackAutoloader">
<link rel="refentry" href="zend.loader.standard-autoloader.methods.register-namespace.html" title="registerNamespace">
<link rel="refentry" href="zend.loader.standard-autoloader.methods.register-namespaces.html" title="registerNamespaces">
<link rel="refentry" href="zend.loader.standard-autoloader.methods.register-prefix.html" title="registerPrefix">
<link rel="refentry" href="zend.loader.standard-autoloader.methods.register-prefixes.html" title="registerPrefixes">
<link rel="refentry" href="zend.loader.standard-autoloader.methods.autoload.html" title="autoload">
<link rel="refentry" href="zend.loader.standard-autoloader.methods.register.html" title="register">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.constructor.html" title="__construct">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.add-static-paths.html" title="addStaticPaths">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.set-options.html" title="setOptions">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.add-prefix-path.html" title="addPrefixPath">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.add-prefix-paths.html" title="addPrefixPaths">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.get-paths.html" title="getPaths">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.clear-paths.html" title="clearPaths">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.remove-prefix-path.html" title="removePrefixPath">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.is-loaded.html" title="isLoaded">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.get-class-name.html" title="getClassName">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.load.html" title="load">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.get-plugin-map.html" title="getPluginMap">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.get-class-map.html" title="getClassMap">
<link rel="refentry" href="zend.loader.prefix-path-mapper.methods.add-prefix-path.html" title="addPrefixPath">
<link rel="refentry" href="zend.loader.prefix-path-mapper.methods.remove-prefix-path.html" title="removePrefixPath">
<link rel="chapter" href="zend.mail.html" title="Chapter 20. Zend\Mail">
<link rel="chapter" href="zend.module-manager.html" title="Chapter 21. Zend\ModuleManager">
<link rel="chapter" href="zend.mvc.html" title="Chapter 22. Zend\Mvc">
<link rel="chapter" href="zend.service-manager.html" title="Chapter 23. Zend\ServiceManager">
<link rel="chapter" href="zend.stdlib.html" title="Chapter 24. Zend\Stdlib">
<link rel="chapter" href="zend.uri.html" title="Chapter 25. Zend_Uri">
<link rel="chapter" href="zend.validator.html" title="Chapter 26. Zend\Validator">
<link rel="chapter" href="zend.view.html" title="Chapter 27. Zend_View">
<link rel="chapter" href="zend.xmlrpc.html" title="Chapter 28. Zend_XmlRpc">
<link rel="appendix" href="copyrights.html" title="Appendix A. Copyright Information">
<link rel="subsection" href="zend.mvc.services.html#zend.mvc.services.service-manager-configuration" title="22.3.1. ServiceManagerConfiguration">
<link rel="subsection" href="zend.mvc.services.html#zend.mvc.services.view-manager" title="22.3.2. ViewManager">
<link rel="subsection" href="zend.mvc.services.html#zend.mvc.services.app-config" title="22.3.3. Application Configuration Options">
<link rel="subsection" href="zend.mvc.services.html#zend.mvc.services.config" title="22.3.4. Default Configuration Options">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader"><table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">22.3. Default Services</th></tr>
<tr>
<td width="20%" align="left">
<a accesskey="p" href="zend.mvc.quick-start.html">Prev</a> </td>
<th width="60%" align="center">Chapter 22. Zend\Mvc</th>
<td width="20%" align="right"> <a accesskey="n" href="zend.mvc.routing.html">Next</a>
</td>
</tr>
</table></div>
<div class="section" title="22.3. Default Services">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="zend.mvc.services"></a>22.3. Default Services</h2></div></div></div>
<p>
      The default and recommended way to write Zend Framework applications uses a set of services
      defined in the <code class="classname">Zend\Mvc\Service</code> namespace. This chapter details what
      each of those services are, the classes they represent, and the configuration options
      available.
  </p>
<div class="section" title="22.3.1. ServiceManagerConfiguration">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.mvc.services.service-manager-configuration"></a>22.3.1. ServiceManagerConfiguration</h3></div></div></div>
<p>
          This is the one service class referenced directly in the bootstrapping. It provides the
          following:
      </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
<p><span class="strong"><strong>Invokable services</strong></span></p>
<div class="itemizedlist"><ul class="itemizedlist" type="circle">
<li class="listitem"><p>
                          <code class="classname">DispatchListener</code>, mapping to
                          <code class="classname">Zend\Mvc\DispatchListener</code>.
                      </p></li>
<li class="listitem"><p>
                          <code class="classname">Request</code>, mapping to
                          <code class="classname">Zend\Http\PhpEnvironment\Request</code>.
                      </p></li>
<li class="listitem"><p>
                          <code class="classname">Response</code>, mapping to
                          <code class="classname">Zend\Http\PhpEnvironment\Response</code>.
                      </p></li>
<li class="listitem"><p>
                          <code class="classname">RouteListener</code>, mapping to
                          <code class="classname">Zend\Mvc\RouteListener</code>.
                      </p></li>
<li class="listitem"><p>
                          <code class="classname">VeiwManager</code>, mapping to
                          <code class="classname">Zend\Mvc\View\ViewManager</code>.
                      </p></li>
</ul></div>
</li>
<li class="listitem">
<p><span class="strong"><strong>Factories</strong></span></p>
<div class="itemizedlist"><ul class="itemizedlist" type="circle">
<li class="listitem"><p>
                          <code class="classname">Application</code>, mapping to
                          <code class="classname">Zend\Mvc\Service\ApplicationFactory</code>.
                      </p></li>
<li class="listitem"><p>
                          <code class="classname">Configuration</code>, mapping to
                          <code class="classname">Zend\Mvc\Service\ConfigurationFactory</code>. Internally,
                          this pulls the <code class="classname">ModuleManager</code> service, and calls its
                          <code class="methodname">loadModules()</code> method, and retrieves the merged
                          configuration from the module event. As such, this service contains the
                          entire, merged application configuration.
                      </p></li>
<li class="listitem">
<p>
                          <code class="classname">ControllerLoader</code>, mapping to
                          <code class="classname">Zend\Mvc\Service\ControllerLoaderFactory</code>.
                          Internally, this pulls the <code class="classname">Configuration</code> service,
                          and, if it contains a <code class="varname">controller</code> key, inspects that for
                          <code class="varname">classes</code> and
                          <code class="varname">factories</code> subkeys. These are used to configure a scoped service manager
                          container, from which controllers will be retrieved.
                      </p>
<p>
                          Additionally, the scoped container is configured to use the
                          <code class="classname">Di</code> service as both an initializer as well as an
                          abstract service factory -- effectively allowing you to fall back to DI in
                          order to retrieve your controllers.
                      </p>
<p>
                          Finally, if the loaded controller is <code class="classname">Pluggable</code>, an
                          initializer will inject it with the
                          <code class="classname">ControllerPluginBroker</code> service.
                      </p>
</li>
<li class="listitem"><p>
                          <code class="classname">ControllerPluginBroker</code>, mapping to
                          <code class="classname">Zend\Mvc\Service\ControllerPluginBrokerFactory</code>.
                          This instantiates the
                          <code class="classname">Zend\Mvc\Controller\PluginBroker</code> instance, passing
                          it the <code class="classname">ControllerPluginLoader</code> service as well as
                          the service manager instance.
                      </p></li>
<li class="listitem"><p>
                          <code class="classname">ControllerPluginLoader</code>, mapping to
                          <code class="classname">Zend\Mvc\Service\ControllerPluginLoaderFactory</code>.
                          This grabs the <code class="classname">Configuration</code> service, and looks for
                          a <code class="varname">controller</code> key with a <code class="varname">map</code> subkey. If found, this value is passed to
                          the constructor of <code class="classname">Zend\Mvc\Controller\PluginLoader</code>
                          (otherwise, an empty array is passed).
                      </p></li>
<li class="listitem"><p>
                          <code class="classname">DependencyInjector</code>, mapping to
                          <code class="classname">Zend\Mvc\Service\DiFactory</code>. This pulls the
                          <code class="classname">Configuration</code> service, and looks for a "di" key; if
                          found, that value is used to configure a new
                          <code class="classname">Zend\Di\Di</code> instance. Additionally, the
                          <code class="classname">Di</code> instance is used to seed a
                          <code class="classname">Zend\ServiceManager\Di\DiAbstractServiceFactory</code>
                          instance which is then attached to the service manager as an abstract
                          factory -- effectively enabling DI as a fallback for providing services.
                      </p></li>
<li class="listitem"><p>
                          <code class="classname">EventManager</code>, mapping to
                          <code class="classname">Zend\Mvc\Service\EventManagerFactory</code>. This factory
                          composes a static reference to a
                          <code class="classname">SharedEventManager</code>, which is injected in a new
                          <code class="classname">EventManager</code> instance. This service is not shared
                          by default, allowing the ability to have an
                          <code class="classname">EventManager</code> per service, with a shared
                          <code class="classname">SharedEventManager</code> injected in each.
                      </p></li>
<li class="listitem">
<p>
                          <code class="classname">ModuleManager</code>, mapping to
                          <code class="classname">Zend\Mvc\Service\ModuleManagerFactory</code>.
                      </p>
<p>
                          This is perhaps the most complex factory in the MVC stack. It expects that
                          an <code class="classname">ApplicationConfiguration</code> service has been injected, with keys for
                          <code class="varname">module_listener_options</code> and <code class="varname">modules</code>; see the quick start for samples.
                      </p>
<p>
                          It instantiates an instance of
                          <code class="classname">Zend\ModuleManager\Listener\DefaultListenerAggregate</code>,
                          using the "module_listener_options" retrieved. It also instantiates an
                          instance of
                          <code class="classname">Zend\ModuleManager\Listener\ServiceListener</code>,
                          providing it the service manager.
                      </p>
<p>
                          Next, it retrieves the <code class="classname">EventManager</code> service, and
                          attaches the above listeners.
                      </p>
<p>
                          It instantiates a <code class="classname">Zend\ModuleManager\ModuleEvent</code>
                          instance, setting the "ServiceManager" parameter to the service manager
                          object.
                      </p>
<p>
                          Finally, it instantiates a
                          <code class="classname">Zend\ModuleManager\ModuleManager</code> instance, and
                          injects the <code class="classname">EventManager</code> and
                          <code class="classname">ModuleEvent</code>.
                      </p>
</li>
<li class="listitem"><p>
                          <code class="classname">Router</code>, mapping to
                          <code class="classname">Zend\Mvc\Service\RouterFactory</code>. This grabs the
                          <code class="classname">Configuration</code> service, and pulls from the <code class="varname">router</code>
                          key, passing it to
                          <code class="methodname">Zend\Mvc\Router\Http\TreeRouteStack::factory</code> in
                          order to get a configured router instance.
                      </p></li>
<li class="listitem"><p>
                          <code class="classname">ViewFeedRenderer</code>, mapping to
                          <code class="classname">Zend\Mvc\Service\ViewFeedRendererFactory</code>, which
                          simply returns a <code class="classname">Zend\View\Renderer\FeedRenderer</code>
                          instance.
                      </p></li>
<li class="listitem"><p>
                          <code class="classname">ViewFeedStrategy</code>, mapping to
                          <code class="classname">Zend\Mvc\Service\ViewFeedStrategyFactory</code>. This
                          instantiates a <code class="classname">Zend\View\Strategy\FeedStrategy</code>
                          instance with the <code class="classname">VeiwFeedRenderer</code> service.
                      </p></li>
<li class="listitem"><p>
                          <code class="classname">ViewJsonRenderer</code>, mapping to
                          <code class="classname">Zend\Mvc\Service\ViewJsonRendererFactory</code>, which
                          simply returns a <code class="classname">Zend\View\Renderer\JsonRenderer</code>
                          instance.
                      </p></li>
<li class="listitem"><p>
                          <code class="classname">ViewJsonStrategy</code>, mapping to
                          <code class="classname">Zend\Mvc\Service\ViewJsonStrategyFactory</code>. This
                          instantiates a <code class="classname">Zend\View\Strategy\JsonStrategy</code>
                          instance with the <code class="classname">VeiwJsonRenderer</code> service.
                      </p></li>
</ul></div>
</li>
<li class="listitem">
<p><span class="strong"><strong>Aliases</strong></span></p>
<div class="itemizedlist"><ul class="itemizedlist" type="circle">
<li class="listitem"><p>
                          <code class="classname">Config</code>, mapping to the
                          <code class="classname">Configuration</code> service.
                      </p></li>
<li class="listitem"><p>
                          <code class="classname">Di</code>, mapping to the
                          <code class="classname">DependencyInjector</code> service.
                      </p></li>
<li class="listitem"><p>
                          <code class="classname">Zend\EventManager\EventManagerInterface</code>, mapping to the
                          <code class="classname">EventManager</code> service. This is mainly to
                          ensure that when falling through to DI, classes are still injected via the
                          <code class="classname">ServiceManager</code>.
                      </p></li>
<li class="listitem"><p>
                          <code class="classname">Zend\Mvc\Controller\PluginBroker</code>, mapping to the
                          <code class="classname">ControllerPluginBroker</code> service. This is mainly to
                          ensure that when falling through to DI, classes are still injected via the
                          <code class="classname">ServiceManager</code>.
                      </p></li>
<li class="listitem"><p>
                          <code class="classname">Zend\Mvc\Controller\PluginLoader</code>, mapping to the
                          <code class="classname">ControllerPluginLoader</code> service. This is mainly to
                          ensure that when falling through to DI, classes are still injected via the
                          <code class="classname">ServiceManager</code>.
                      </p></li>
</ul></div>
</li>
</ul></div>
<p>
          Additionally, two initializers are registered. Initializers are run on created instances,
          and may be used to further configure them. The two initializers the
          <code class="classname">ServiceManagerConfiguration</code> class creates and registers do the
          following:
      </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p>
                  For objects that implement
                  <code class="classname">Zend\EventManager\EventManagerAwareInterface</code>, the
                  <code class="classname">EventManager</code> service will be retrieved and injected. This
                  service is <span class="strong"><strong>not</strong></span> shared, though each instance it
                  creates is injected with a shared instance of
                  <code class="classname">SharedEventManager</code>.
              </p></li>
<li class="listitem"><p>
                  For objects that implement
                  <code class="classname">Zend\ServiceManager\ServiceManagerAwareInterface</code>, the
                  <code class="classname">ServiceManager</code> will inject itself into the object.
              </p></li>
</ul></div>
<p>
          Finally, the <code class="classname">ServiceManager</code> registers itself as the
          <code class="classname">ServiceManager</code> service, and aliases itself to the class names
          <code class="classname">Zend\ServiceManager\ServiceManagerInterface</code> and
          <code class="classname">Zend\ServiceManager\ServiceManager</code>.
      </p>
</div>
<div class="section" title="22.3.2. ViewManager">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.mvc.services.view-manager"></a>22.3.2. ViewManager</h3></div></div></div>
<p>
          The View layer within <code class="classname">Zend\Mvc</code> consists of a large number of
          collaborators and event listeners. As such,
          <code class="classname">Zend\Mvc\View\ViewManager</code> was created to handle creation of the
          various objects, as well as wiring them together and establishing event listeners.
      </p>
<p>
          The <code class="classname">ViewManager</code> itself is an event listener on the
          <code class="varname">bootstrap</code> event. It retrieves the <code class="classname">ServiceManager</code>
          from the <code class="classname">Application</code> object, as well as its composed
          <code class="classname">EventManager</code>. 
      </p>
<p>
          Configuration for all members of the <code class="classname">ViewManager</code> fall under the
          <code class="varname">view_manager</code> configuration key, and expect values as noted below.
          The following services are created and managed by the <code class="classname">ViewManager</code>:
      </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p>
                    <code class="classname">ViewHelperLoader</code>, representing and aliased to
                    <code class="classname">Zend\View\HelperLoader</code>. If a
                    <code class="varname">helper_map</code> subkey is provided, its value will be used as a
                    map to seed the helper loader.
                </p></li>
<li class="listitem">
<p>
                    <code class="classname">ViewHelperBroker</code>, representing and aliased to
                    <code class="classname">Zend\View\HelperBroker</code>. It is seeded with the
                    <code class="classname">ViewHelperLoader</code> service, as well as the
                    <code class="classname">ServiceManager</code> itself. 
                </p>
<p>
                    The <code class="classname">Router</code> service is retrieved, and injected into the
                    <code class="classname">Url</code> helper. 
                </p>
<p>
                    If the <code class="varname">base_path</code> key is present, it is used to inject the
                    <code class="classname">BasePath</code> view helper; otherwise, the
                    <code class="classname">Request</code> service is retrieved, and the value of its
                    <code class="methodname">getBasePath()</code> method is used.
                </p>
<p>
                    If the <code class="varname">doctype</code> key is present, it will be used to set the
                    value of the <code class="classname">Doctype</code> view helper.
                </p>
</li>
<li class="listitem"><p>
                    <code class="classname">ViewTemplateMapResolver</code>, representing and aliased to
                    <code class="classname">Zend\View\Resolver\TemplateMapResolver</code>. If a
                    <code class="varname">template_map</code> key is present, it will be used to seed the
                    template map.
                </p></li>
<li class="listitem"><p>
                    <code class="classname">ViewTemplatePathStack</code>, representing and aliased to
                    <code class="classname">Zend\View\Resolver\TemplatePathStack</code>. If a
                    <code class="varname">template_path_stack</code> key is prsent, it will be used to seed
                    the stack.
                </p></li>
<li class="listitem"><p>
                    <code class="classname">ViewResolver</code>, representing and  aliased to
                    <code class="classname">Zend\View\Resolver\AggregateResolver</code> and
                    <code class="classname">Zend\View\Resolver\ResolverInterface</code>. It is seeded with
                    the <code class="classname">ViewTemplateMapResolver</code> and
                    <code class="classname">ViewTemplatePathStack</code> services as resolvers.
                </p></li>
<li class="listitem"><p>
                    <code class="classname">ViewRenderer</code>, representing and aliased to
                    <code class="classname">Zend\View\Renderer\PhpRenderer</code> and
                    <code class="classname">Zend\View\Renderer\RendererInterface</code>. It is seeded with
                    the <code class="classname">ViewResolver</code> and
                    <code class="classname">ViewHelperBroker</code> services. Additionally, the
                    <code class="classname">ViewModel</code> helper gets seeded with the
                    <code class="classname">ViewModel</code> as its root (layout) model.
                </p></li>
<li class="listitem"><p>
                    <code class="classname">ViewPhpRendererStrategy</code>, representing and aliased to
                    <code class="classname">Zend\View\Strategy\PhpRendererStrategy</code>. It gets seeded
                    with the <code class="classname">ViewRenderer</code> service.
                </p></li>
<li class="listitem"><p>
                    <code class="classname">View</code>, representing and aliased to
                    <code class="classname">Zend\View\View</code>. It gets seeded with the
                    <code class="classname">EventManager</code> service, and attaches the
                    <code class="classname">ViewPhpRendererStrategy</code> as an aggregate listener.
                </p></li>
<li class="listitem"><p>
                    <code class="classname">DefaultRenderingStrategy</code>, representing and aliased to
                    <code class="classname">Zend\Mvc\View\DefaultRenderingStrategy</code>. If the
                    <code class="varname">layout</code> key is prsent, it is used to seed the strategy's
                    layout template. It is seeded with the <code class="classname">View</code> service.
                </p></li>
<li class="listitem"><p>
                    <code class="classname">ExceptionStrategy</code>, representing and aliased to
                    <code class="classname">Zend\Mvc\View\ExceptionStrategy</code>. If the
                    <code class="varname">dislay_exceptions</code> or <code class="varname">exception_template</code>
                    keys are present, they are usd to configure the strategy.
                </p></li>
<li class="listitem"><p>
                    <code class="classname">RouteNotFoundStrategy</code>, representing and aliased to
                    <code class="classname">Zend\Mvc\View\RouteNotFoundStrategy</code> and
                    <code class="classname">404Stategy</code>. If the
                    <code class="varname">display_not_found_reason</code> or
                    <code class="varname">not_found_template</code> keys are present, they are used to
                    configure the strategy.
                </p></li>
<li class="listitem"><p>
                    <code class="classname">ViewModel</code>. In this case, no service is registered; the
                    <code class="classname">ViewModel</code> is simply retrieved from the
                    <code class="classname">MvcEvent</code> and injected with the layout template name.
                    template
                </p></li>
</ul></div>
<p>
          The <code class="classname">ViewManager</code> also creates several other listeners, but does not
          expose them as services; these include
          <code class="classname">Zend\Mvc\View\CreateViewModelListener</code>,
          <code class="classname">Zend\Mvc\View\InjectTemplateListener</code>, and
          <code class="classname">Zend\Mvc\View\InjectViewModelListener</code>. These, along with
          <code class="classname">RouteNotFoundStrategy</code>,
          <code class="classname">ExceptionStrategy</code>, and
          <code class="classname">DefaultRenderingStrategy</code> are attached as listeners either to the
          application
          <code class="classname">EventManager</code> instance or the
          <code class="classname">SharedEventManager</code> instance.
      </p>
<p>
          Finally, if you have a <code class="varname">strategies</code> key in your configuration, the
          <code class="classname">ViewManager</code> will loop over these and attach them in order to the
          <code class="classname">View</code> service as listeners, at a priority of 100 (allowing them to
          execute before the <code class="classname">DefaultRenderingStrategy</code>).
      </p>
</div>
<div class="section" title="22.3.3. Application Configuration Options">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.mvc.services.app-config"></a>22.3.3. Application Configuration Options</h3></div></div></div>
<p>
          The following options may be used to provide initial configuration for the
          <code class="classname">ServiceManager</code>, <code class="classname">ModuleManager</code>, and
          <code class="classname">Application</code> instances, allowing them to then find and aggregate the
          configuration used for the <code class="classname">Configuration</code> service, which is intended
          for configuring all other objects in the system.
      </p>
<pre class="programlisting">
&lt;?php
return array(
    // This should be an array of module namespaces used in the application.
    'modules' =&gt; array(
    ),

    // These are various options for the listeners attached to the ModuleManager
    'module_listener_options' =&gt; array(
        // This should be an array of paths in which modules reside.
        // If a string key is provided, the listener will consider that a module
        // namespace, the value of that key the specific path to that module's 
        // Module class.
        'module_paths' =&gt; array(
        ),

        // An array of paths from which to glob configuration files after 
        // modules are loaded. These effectively overide configuration 
        // provided by modules themselves. Paths may use GLOB_BRACE notation.
        'config_glob_paths' =&gt; array(
        ),

        // Whether or not to enable a configuration cache.
        // If enabled, the merged configuration will be cached and used in
        // subsequent requests.
        'config_cache_enabled' =&gt; $booleanValue,

        // The key used to create the configuration cache file name.
        'config_cache_key' =&gt; $stringKey,

        // The path in which to cache merged configuration.
        'cache_dir' =&gt; $stringPath,
    ),

    // Initial configuration with which to seed the ServiceManager.
    // Should be compatible with Zend\ServiceManager\Configuration.
    'service_manager' =&gt; array(
    ),
);
</pre>
</div>
<div class="section" title="22.3.4. Default Configuration Options">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.mvc.services.config"></a>22.3.4. Default Configuration Options</h3></div></div></div>
<p>
          The following options are available when using the default services configured by the
          <code class="classname">ServiceManagerConfiguration</code> and <code class="classname">ViewManager</code>.
      </p>
<pre class="programlisting">
&lt;?php
return array(
    // The following are used to configure controller or controller plugin loading
    'controller' =&gt; array(
        // Map of controller "name" to class
        // This should be used if you do not need to inject any dependencies
        // in your controller
        'classes' =&gt; array(
        ),

        // Map of controller "name" to factory for creating controller instance
        // You may provide either the class name of a factory, or a PHP callback.
        'factories' =&gt; array(
        ),

        // Map of controller plugin names to their classes
        'map' =&gt; array(
        ),
    ),

    // The following is used to configure a Zend\Di\Di instance.
    // The array should be in a format that Zend\Di\Configuration can understand.
    'di' =&gt; array(
    ),

    // Configuration for the Router service
    // Can contain any router configuration, but typically will always define
    // the routes for the application. See the router documentation for details
    // on route configuration.
    'router' =&gt; array(
        'routes' =&gt; array(
        ),
    ),

    // ViewManager configuration
    'view_manager' =&gt; array(
        // Defined helpers.
        // Typically helper name/helper class pairs. Can contain values without keys
        // that refer to either Traversable classes or Zend\Loader\PluginClassLoader
        // instances as well.
        'helper_map' =&gt; array(
            'foo' =&gt; 'My\Helper\Foo',      // name/class pair
            'Zend\Form\View\HelperLoader', // additional helper loader to seed
        ),

        // Base URL path to the application
        'base_path' =&gt; $stringBasePath,

        // Doctype with which to seed the Doctype helper
        'doctype' =&gt; $doctypeHelperConstantString, // e.g. HTML5, XHTML1

        // TemplateMapResolver configuration
        // template/path pairs
        'template_map' =&gt; array(
        ),

        // TemplatePathStack configuration
        // module/view script path pairs
        'template_path_stack' =&gt; array(
        ),

        // Layout template name
        'layout' =&gt; $layoutTemplateName, // e.g., 'layout/layout'

        // ExceptionStrategy configuration
        'display_exceptions' =&gt; $bool, // display exceptions in template
        'exception_template' =&gt; $stringTemplateName, // e.g. 'error'

        // RouteNotFoundStrategy configuration
        'display_not_found_reason' =&gt; $bool, // display 404 reason in template
        'not_found_template' =&gt; $stringTemplateName, // e.g. '404'

        // Additional strategies to attach
        // These should be class names or service names of View strategy classes
        // that act as ListenerAggregates. They will be attached at priority 100, 
        // in the order registered.
        'strategies' =&gt; array(
            'ViewJsonStrategy', // register JSON renderer strategy
            'ViewFeedStrategy', // register Feed renderer strategy
        ),
    ),
);
</pre>
</div>
</div>
<div class="navfooter"><table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="zend.mvc.quick-start.html">Prev</a> </td>
<td width="20%" align="center"><a accesskey="u" href="zend.mvc.html">Up</a></td>
<td width="40%" align="right"> <a accesskey="n" href="zend.mvc.routing.html">Next</a>
</td>
</tr>
<tr>
<td width="40%" align="left" valign="top">22.2. Quick Start </td>
<td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td>
<td width="40%" align="right" valign="top"> 22.4. Routing</td>
</tr>
</table></div>
<div class="revinfo"></div>
</body>
</html>

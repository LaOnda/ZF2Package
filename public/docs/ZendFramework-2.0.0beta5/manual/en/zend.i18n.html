<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Chapter 16. Zend_I18n</title>
<link rel="stylesheet" type="text/css" href="dbstyle.css">
<meta name="generator" content="DocBook XSL-NS Stylesheets V1.76.1">
<link rel="home" href="index.html" title="Programmer's Reference Guide">
<link rel="up" href="reference.html" title="Part III. Zend Framework Reference">
<link rel="prev" href="zend.http.headers.html" title="15.4. Zend\Http\Headers And The Various Header Classes">
<link rel="next" href="zend.i18n.view.helpers.html" title="16.2. I18n View Helpers">
<link rel="part" href="introduction.html" title="Part I. Introduction to Zend Framework">
<link rel="chapter" href="introduction.overview.html" title="Chapter 1. Overview">
<link rel="chapter" href="introduction.installation.html" title="Chapter 2. Installation">
<link rel="part" href="learning.html" title="Part II. Learning Zend Framework">
<link rel="article" href="learning.di.html" title="Learning Dependency Injection">
<link rel="part" href="reference.html" title="Part III. Zend Framework Reference">
<link rel="chapter" href="zend.acl.html" title="Chapter 3. Zend\Acl">
<link rel="chapter" href="zend.authentication.html" title="Chapter 4. Zend\Authentication">
<link rel="chapter" href="zend.barcode.html" title="Chapter 5. Zend\Barcode">
<link rel="chapter" href="zend.cache.html" title="Chapter 6. Zend\Cache">
<link rel="chapter" href="zend.captcha.html" title="Chapter 7. Zend\Captcha">
<link rel="chapter" href="zend.config.html" title="Chapter 8. Zend_Config">
<link rel="chapter" href="zend.crypt.html" title="Chapter 9. Zend_Crypt">
<link rel="chapter" href="zend.db.html" title="Chapter 10. Zend_Db">
<link rel="chapter" href="zend.di.html" title="Chapter 11. Zend\Di">
<link rel="chapter" href="zend.dom.html" title="Chapter 12. Zend\Dom">
<link rel="chapter" href="zend.event-manager.html" title="Chapter 13. Zend\EventManager">
<link rel="chapter" href="zend.form.html" title="Chapter 14. Zend_Form">
<link rel="chapter" href="zend.http.html" title="Chapter 15. Zend_Http">
<link rel="chapter" href="zend.i18n.html" title="Chapter 16. Zend_I18n">
<link rel="chapter" href="zend.input-filter.html" title="Chapter 17. Zend\InputFilter">
<link rel="chapter" href="zend.ldap.html" title="Chapter 18. Zend_Ldap">
<link rel="chapter" href="zend.loader.html" title="Chapter 19. Zend\Loader">
<link rel="refentry" href="zend.loader.autoloader-factory.methods.factory.html" title="factory">
<link rel="refentry" href="zend.loader.autoloader-factory.methods.get-registered-autoloaders.html" title="getRegisteredAutoloaders">
<link rel="refentry" href="zend.loader.plugin-class-loader.methods.constructor.html" title="__construct">
<link rel="refentry" href="zend.loader.plugin-class-loader.methods.add-static-map.html" title="addStaticMap">
<link rel="refentry" href="zend.loader.plugin-class-loader.methods.register-plugin.html" title="registerPlugin">
<link rel="refentry" href="zend.loader.plugin-class-loader.methods.register-plugins.html" title="registerPlugins">
<link rel="refentry" href="zend.loader.plugin-class-loader.methods.unregister-plugin.html" title="unregisterPlugin">
<link rel="refentry" href="zend.loader.plugin-class-loader.methods.get-registered-plugins.html" title="getRegisteredPlugins">
<link rel="refentry" href="zend.loader.plugin-class-loader.methods.is-loaded.html" title="isLoaded">
<link rel="refentry" href="zend.loader.plugin-class-loader.methods.get-class-name.html" title="getClassName">
<link rel="refentry" href="zend.loader.plugin-class-loader.methods.load.html" title="load">
<link rel="refentry" href="zend.loader.plugin-class-loader.methods.get-iterator.html" title="getIterator">
<link rel="refentry" href="zend.loader.short-name-locator.methods.is-loaded.html" title="isLoaded">
<link rel="refentry" href="zend.loader.short-name-locator.methods.get-class-name.html" title="getClassName">
<link rel="refentry" href="zend.loader.short-name-locator.methods.load.html" title="load">
<link rel="refentry" href="zend.loader.plugin-class-locator.methods.register-plugin.html" title="registerPlugin">
<link rel="refentry" href="zend.loader.plugin-class-locator.methods.unregister-plugin.html" title="unregisterPlugin">
<link rel="refentry" href="zend.loader.plugin-class-locator.methods.get-registered-plugins.html" title="getRegisteredPlugins">
<link rel="refentry" href="zend.loader.spl-autoloader.methods.constructor.html" title="__construct">
<link rel="refentry" href="zend.loader.spl-autoloader.methods.set-options.html" title="setOptions">
<link rel="refentry" href="zend.loader.spl-autoloader.methods.autoload.html" title="autoload">
<link rel="refentry" href="zend.loader.spl-autoloader.methods.register.html" title="register">
<link rel="refentry" href="zend.loader.class-map-autoloader.methods.constructor.html" title="__construct">
<link rel="refentry" href="zend.loader.class-map-autoloader.methods.set-options.html" title="setOptions">
<link rel="refentry" href="zend.loader.class-map-autoloader.methods.register-autoload-map.html" title="registerAutoloadMap">
<link rel="refentry" href="zend.loader.class-map-autoloader.methods.register-autoload-maps.html" title="registerAutoloadMaps">
<link rel="refentry" href="zend.loader.class-map-autoloader.methods.get-autoload-map.html" title="getAutoloadMap">
<link rel="refentry" href="zend.loader.class-map-autoloader.methods.autoload.html" title="autoload">
<link rel="refentry" href="zend.loader.class-map-autoloader.methods.register.html" title="register">
<link rel="refentry" href="zend.loader.standard-autoloader.methods.constructor.html" title="__construct">
<link rel="refentry" href="zend.loader.standard-autoloader.methods.set-options.html" title="setOptions">
<link rel="refentry" href="zend.loader.standard-autoloader.methods.set-fallback-autoloader.html" title="setFallbackAutoloader">
<link rel="refentry" href="zend.loader.standard-autoloader.methods.is-fallback-autoloader.html" title="isFallbackAutoloader">
<link rel="refentry" href="zend.loader.standard-autoloader.methods.register-namespace.html" title="registerNamespace">
<link rel="refentry" href="zend.loader.standard-autoloader.methods.register-namespaces.html" title="registerNamespaces">
<link rel="refentry" href="zend.loader.standard-autoloader.methods.register-prefix.html" title="registerPrefix">
<link rel="refentry" href="zend.loader.standard-autoloader.methods.register-prefixes.html" title="registerPrefixes">
<link rel="refentry" href="zend.loader.standard-autoloader.methods.autoload.html" title="autoload">
<link rel="refentry" href="zend.loader.standard-autoloader.methods.register.html" title="register">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.constructor.html" title="__construct">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.add-static-paths.html" title="addStaticPaths">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.set-options.html" title="setOptions">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.add-prefix-path.html" title="addPrefixPath">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.add-prefix-paths.html" title="addPrefixPaths">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.get-paths.html" title="getPaths">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.clear-paths.html" title="clearPaths">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.remove-prefix-path.html" title="removePrefixPath">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.is-loaded.html" title="isLoaded">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.get-class-name.html" title="getClassName">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.load.html" title="load">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.get-plugin-map.html" title="getPluginMap">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.get-class-map.html" title="getClassMap">
<link rel="refentry" href="zend.loader.prefix-path-mapper.methods.add-prefix-path.html" title="addPrefixPath">
<link rel="refentry" href="zend.loader.prefix-path-mapper.methods.remove-prefix-path.html" title="removePrefixPath">
<link rel="chapter" href="zend.mail.html" title="Chapter 20. Zend\Mail">
<link rel="chapter" href="zend.module-manager.html" title="Chapter 21. Zend\ModuleManager">
<link rel="chapter" href="zend.mvc.html" title="Chapter 22. Zend\Mvc">
<link rel="chapter" href="zend.service-manager.html" title="Chapter 23. Zend\ServiceManager">
<link rel="chapter" href="zend.stdlib.html" title="Chapter 24. Zend\Stdlib">
<link rel="chapter" href="zend.uri.html" title="Chapter 25. Zend_Uri">
<link rel="chapter" href="zend.validator.html" title="Chapter 26. Zend\Validator">
<link rel="chapter" href="zend.view.html" title="Chapter 27. Zend_View">
<link rel="chapter" href="zend.xmlrpc.html" title="Chapter 28. Zend_XmlRpc">
<link rel="appendix" href="copyrights.html" title="Appendix A. Copyright Information">
<link rel="section" href="zend.i18n.html#zend.i18n.translating" title="16.1. Translating">
<link rel="section" href="zend.i18n.view.helpers.html" title="16.2. I18n View Helpers">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader"><table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">Chapter 16. Zend_I18n</th></tr>
<tr>
<td width="20%" align="left">
<a accesskey="p" href="zend.http.headers.html">Prev</a> </td>
<th width="60%" align="center">Part III. Zend Framework Reference</th>
<td width="20%" align="right"> <a accesskey="n" href="zend.i18n.view.helpers.html">Next</a>
</td>
</tr>
</table></div>
<div class="chapter" title="Chapter 16. Zend_I18n">
<div class="titlepage"><div><div><h2 class="title">
<a name="zend.i18n"></a>Chapter 16. Zend_I18n</h2></div></div></div>
<div class="toc">
<p><b>Table of Contents</b></p>
<dl>
<dt><span class="section"><a href="zend.i18n.html#zend.i18n.translating">16.1. Translating</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="zend.i18n.html#zend.i18n.translating.adding-translations">16.1.1. Adding translations</a></span></dt>
<dt><span class="section"><a href="zend.i18n.html#zend.i18n.translating.supported-formats">16.1.2. Supported formats</a></span></dt>
<dt><span class="section"><a href="zend.i18n.html#zend.i18n.translating.setting-a-locale">16.1.3. Setting a locale</a></span></dt>
<dt><span class="section"><a href="zend.i18n.html#zend.i18n.translating.translating-messages">16.1.4. Translating messages</a></span></dt>
<dt><span class="section"><a href="zend.i18n.html#zend.i18n.translating.caching">16.1.5. Caching</a></span></dt>
</dl></dd>
<dt><span class="section"><a href="zend.i18n.view.helpers.html">16.2. I18n View Helpers</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="zend.i18n.view.helpers.html#zend.i18n.view.helpers.initial">16.2.1. Included I18n Helpers</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="zend.i18n.view.helpers.html#zend.i18n.view.helper.currency-format">16.2.1.1. CurrencyFormat Helper</a></span></dt>
<dt><span class="section"><a href="zend.i18n.view.helpers.html#zend.i18n.view.helper.date-format">16.2.1.2. DateFormat Helper</a></span></dt>
<dt><span class="section"><a href="zend.i18n.view.helpers.html#zend.i18n.view.helper.number-format">16.2.1.3. NumberFormat Helper</a></span></dt>
<dt><span class="section"><a href="zend.i18n.view.helpers.html#zend.i18n.view.helper.translate">16.2.1.4. Translate Helper</a></span></dt>
<dt><span class="section"><a href="zend.i18n.view.helpers.html#zend.i18n.view.helper.translate-plural">16.2.1.5. TranslatePlural Helper</a></span></dt>
</dl></dd>
</dl></dd>
</dl>
</div>
<div class="section" title="16.1. Translating">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="zend.i18n.translating"></a>16.1. Translating</h2></div></div></div>
<p>
        Zend_I18n comes with a complete translation suite which supports all
        major formats and includes popular features like plural translations
        and text domains. The Translator component is mostly dependency free,
        except for the fallback to a default locale, where it relies on the
        Intl PHP extension.
    </p>
<p>
        The translator itself is initialized without any parameters, as any
        configuration to it is optional. A translator without any translations
        will actually do nothing but just return the given message IDs.
    </p>
<div class="section" title="16.1.1. Adding translations">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.i18n.translating.adding-translations"></a>16.1.1. Adding translations</h3></div></div></div>
<p>
            To add translations to the translator, there are two options. You
            can either add every translation file individually, which is the
            best way if you use translation formats which store multiple locales
            in the same file, or you can add translations via a pattern, which
            works best for formats which contain one locale per file.
        </p>
<p>
            To add a single file to the translator, use the
            <code class="methodname">addTranslationFile()</code> method:
        </p>
<pre class="programlisting">
use Zend\I18n\Translator\Translator;

$translator = new Translator();
$translator-&gt;addTranslationFile($type, $filename, $textDomain, $locale);
</pre>
<p>
            The type given there is a name of one of the format loaders listed in
            the next section. Filename points to the file containing the file
            containing the translations and the text domain specifies a category
            name for the translations. If the text domain is omitted, it will
            default to the "default" value. The locale specifies which
            language the translated strings are from and is only required for
            formats which contain translations for a single locale.
        </p>
<div class="note" title="Note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td>
<th align="left">Note</th>
</tr>
<tr><td align="left" valign="top"><p>
                For each text domain and locale combination, there can only be
                one file loaded. Every successive file would override the
                translations which were loaded prior.
            </p></td></tr>
</table></div>
<p>
            When storing one locale per file, you should specify those files via
            a pattern. This allows you to add new translations to the file
            system, without touching your code. Patterns are added with the
            <code class="methodname">addTranslationPattern()</code> method:
        </p>
<pre class="programlisting">
use Zend\I18n\Translator\Translator;

$translator = new Translator();
$translator-&gt;addTranslationPattern($type, $pattern, $textDomain);
</pre>
<p>
            The parameters for adding patterns is pretty similar to adding
            individual files, except that don't specify a locale and give the
            file location as sprtinf pattern. The locale is passed to the
            sprintf call, so you can either use %s oder %1$s where it should be
            substituted. So when youf translation files are located in
            /var/messages/LOCALE/messages.mo, you would specify your pattern as
            /var/messages/%s/messages.mo.
        </p>
</div>
<div class="section" title="16.1.2. Supported formats">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.i18n.translating.supported-formats"></a>16.1.2. Supported formats</h3></div></div></div>
<p>
            The translator supports the following major translation formats:
        </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p>
                    PHP arrays
                </p></li>
<li class="listitem"><p>
                    Gettext
                </p></li>
<li class="listitem"><p>
                    Tmx
                </p></li>
<li class="listitem"><p>
                    Xliff
                </p></li>
</ul></div>
</div>
<div class="section" title="16.1.3. Setting a locale">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.i18n.translating.setting-a-locale"></a>16.1.3. Setting a locale</h3></div></div></div>
<p>
            By default, the translator will get the locale to use from the
            Intl extension's <code class="classname">Locale</code> class. If you want
            to set an alternative locale explicitly, you can do so by passing
            it to the <code class="methodname">setLocale()</code> method.
        </p>
<p>
            When there is not translation for a specific message ID in a locale,
            the message ID itself will be returned by default. Alternatively you
            can set a fallback locale which is used to retrieve a fallback
            translation. To do so, pass it to the
            <code class="methodname">setFallbackLocale()</code> method.
        </p>
</div>
<div class="section" title="16.1.4. Translating messages">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.i18n.translating.translating-messages"></a>16.1.4. Translating messages</h3></div></div></div>
<p>
            Translating messages can accomplished by calling the
            <code class="methodname">translate()</code> method of the translator:
        </p>
<pre class="programlisting">
$translator-&gt;translate($message, $textDomain, $locale);
</pre>
<p>
            The message is the ID of your message to translate. If it does not
            exist in the loader translations or is empty, the original message
            ID will be returned. The text domain parameter is the one you
            specified when adding translations. If omitted, the default text
            domain will be used. The locale parameter will usually not be used
            in this context, as by default the locale is taken from the locale
            set in the translator.
        </p>
<p>
            To translate plural messages, you can use the
            <code class="methodname">translatePlural()</code> method. It works similar
            to <code class="methodname">translate()</code>, but instead of a single
            messages it takes a singluar and a plural value and an additional
            integer number on which the returned plural form is based on:
        </p>
<pre class="programlisting">
$translator-&gt;translatePlural($singular, $plural, $number, $textDomain, $locale);
</pre>
<p>
            Plural translations are only available if the underlying format
            supports the transport of plural messages and plural rule
            definitions.
        </p>
</div>
<div class="section" title="16.1.5. Caching">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.i18n.translating.caching"></a>16.1.5. Caching</h3></div></div></div>
<p>
            In production it makes sense to cache your translations. This not
            only saves you from loading and parsing the individual formats each
            time, but also guarantees an optimized loading procedure. To enable
            caching, simply pass a
            <code class="classname">Zend\Cache\Storage\Adapter</code> to the
            <code class="methodname">setCache()</code> method. To disable the cache, you
            can just pass a null value to it.
        </p>
</div>
</div>
</div>
<div class="navfooter"><table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="zend.http.headers.html">Prev</a> </td>
<td width="20%" align="center"><a accesskey="u" href="reference.html">Up</a></td>
<td width="40%" align="right"> <a accesskey="n" href="zend.i18n.view.helpers.html">Next</a>
</td>
</tr>
<tr>
<td width="40%" align="left" valign="top">15.4. Zend\Http\Headers And The Various Header Classes </td>
<td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td>
<td width="40%" align="right" valign="top"> 16.2. I18n View Helpers</td>
</tr>
</table></div>
<div class="revinfo"></div>
</body>
</html>

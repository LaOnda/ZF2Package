<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>22.2. Quick Start</title>
<link rel="stylesheet" type="text/css" href="dbstyle.css">
<meta name="generator" content="DocBook XSL-NS Stylesheets V1.76.1">
<link rel="home" href="index.html" title="Programmer's Reference Guide">
<link rel="up" href="zend.mvc.html" title="Chapter 22. Zend\Mvc">
<link rel="prev" href="zend.mvc.html" title="Chapter 22. Zend\Mvc">
<link rel="next" href="zend.mvc.services.html" title="22.3. Default Services">
<link rel="part" href="introduction.html" title="Part I. Introduction to Zend Framework">
<link rel="chapter" href="introduction.overview.html" title="Chapter 1. Overview">
<link rel="chapter" href="introduction.installation.html" title="Chapter 2. Installation">
<link rel="part" href="learning.html" title="Part II. Learning Zend Framework">
<link rel="article" href="learning.di.html" title="Learning Dependency Injection">
<link rel="part" href="reference.html" title="Part III. Zend Framework Reference">
<link rel="chapter" href="zend.acl.html" title="Chapter 3. Zend\Acl">
<link rel="chapter" href="zend.authentication.html" title="Chapter 4. Zend\Authentication">
<link rel="chapter" href="zend.barcode.html" title="Chapter 5. Zend\Barcode">
<link rel="chapter" href="zend.cache.html" title="Chapter 6. Zend\Cache">
<link rel="chapter" href="zend.captcha.html" title="Chapter 7. Zend\Captcha">
<link rel="chapter" href="zend.config.html" title="Chapter 8. Zend_Config">
<link rel="chapter" href="zend.crypt.html" title="Chapter 9. Zend_Crypt">
<link rel="chapter" href="zend.db.html" title="Chapter 10. Zend_Db">
<link rel="chapter" href="zend.di.html" title="Chapter 11. Zend\Di">
<link rel="chapter" href="zend.dom.html" title="Chapter 12. Zend\Dom">
<link rel="chapter" href="zend.event-manager.html" title="Chapter 13. Zend\EventManager">
<link rel="chapter" href="zend.form.html" title="Chapter 14. Zend_Form">
<link rel="chapter" href="zend.http.html" title="Chapter 15. Zend_Http">
<link rel="chapter" href="zend.i18n.html" title="Chapter 16. Zend_I18n">
<link rel="chapter" href="zend.input-filter.html" title="Chapter 17. Zend\InputFilter">
<link rel="chapter" href="zend.ldap.html" title="Chapter 18. Zend_Ldap">
<link rel="chapter" href="zend.loader.html" title="Chapter 19. Zend\Loader">
<link rel="refentry" href="zend.loader.autoloader-factory.methods.factory.html" title="factory">
<link rel="refentry" href="zend.loader.autoloader-factory.methods.get-registered-autoloaders.html" title="getRegisteredAutoloaders">
<link rel="refentry" href="zend.loader.plugin-class-loader.methods.constructor.html" title="__construct">
<link rel="refentry" href="zend.loader.plugin-class-loader.methods.add-static-map.html" title="addStaticMap">
<link rel="refentry" href="zend.loader.plugin-class-loader.methods.register-plugin.html" title="registerPlugin">
<link rel="refentry" href="zend.loader.plugin-class-loader.methods.register-plugins.html" title="registerPlugins">
<link rel="refentry" href="zend.loader.plugin-class-loader.methods.unregister-plugin.html" title="unregisterPlugin">
<link rel="refentry" href="zend.loader.plugin-class-loader.methods.get-registered-plugins.html" title="getRegisteredPlugins">
<link rel="refentry" href="zend.loader.plugin-class-loader.methods.is-loaded.html" title="isLoaded">
<link rel="refentry" href="zend.loader.plugin-class-loader.methods.get-class-name.html" title="getClassName">
<link rel="refentry" href="zend.loader.plugin-class-loader.methods.load.html" title="load">
<link rel="refentry" href="zend.loader.plugin-class-loader.methods.get-iterator.html" title="getIterator">
<link rel="refentry" href="zend.loader.short-name-locator.methods.is-loaded.html" title="isLoaded">
<link rel="refentry" href="zend.loader.short-name-locator.methods.get-class-name.html" title="getClassName">
<link rel="refentry" href="zend.loader.short-name-locator.methods.load.html" title="load">
<link rel="refentry" href="zend.loader.plugin-class-locator.methods.register-plugin.html" title="registerPlugin">
<link rel="refentry" href="zend.loader.plugin-class-locator.methods.unregister-plugin.html" title="unregisterPlugin">
<link rel="refentry" href="zend.loader.plugin-class-locator.methods.get-registered-plugins.html" title="getRegisteredPlugins">
<link rel="refentry" href="zend.loader.spl-autoloader.methods.constructor.html" title="__construct">
<link rel="refentry" href="zend.loader.spl-autoloader.methods.set-options.html" title="setOptions">
<link rel="refentry" href="zend.loader.spl-autoloader.methods.autoload.html" title="autoload">
<link rel="refentry" href="zend.loader.spl-autoloader.methods.register.html" title="register">
<link rel="refentry" href="zend.loader.class-map-autoloader.methods.constructor.html" title="__construct">
<link rel="refentry" href="zend.loader.class-map-autoloader.methods.set-options.html" title="setOptions">
<link rel="refentry" href="zend.loader.class-map-autoloader.methods.register-autoload-map.html" title="registerAutoloadMap">
<link rel="refentry" href="zend.loader.class-map-autoloader.methods.register-autoload-maps.html" title="registerAutoloadMaps">
<link rel="refentry" href="zend.loader.class-map-autoloader.methods.get-autoload-map.html" title="getAutoloadMap">
<link rel="refentry" href="zend.loader.class-map-autoloader.methods.autoload.html" title="autoload">
<link rel="refentry" href="zend.loader.class-map-autoloader.methods.register.html" title="register">
<link rel="refentry" href="zend.loader.standard-autoloader.methods.constructor.html" title="__construct">
<link rel="refentry" href="zend.loader.standard-autoloader.methods.set-options.html" title="setOptions">
<link rel="refentry" href="zend.loader.standard-autoloader.methods.set-fallback-autoloader.html" title="setFallbackAutoloader">
<link rel="refentry" href="zend.loader.standard-autoloader.methods.is-fallback-autoloader.html" title="isFallbackAutoloader">
<link rel="refentry" href="zend.loader.standard-autoloader.methods.register-namespace.html" title="registerNamespace">
<link rel="refentry" href="zend.loader.standard-autoloader.methods.register-namespaces.html" title="registerNamespaces">
<link rel="refentry" href="zend.loader.standard-autoloader.methods.register-prefix.html" title="registerPrefix">
<link rel="refentry" href="zend.loader.standard-autoloader.methods.register-prefixes.html" title="registerPrefixes">
<link rel="refentry" href="zend.loader.standard-autoloader.methods.autoload.html" title="autoload">
<link rel="refentry" href="zend.loader.standard-autoloader.methods.register.html" title="register">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.constructor.html" title="__construct">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.add-static-paths.html" title="addStaticPaths">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.set-options.html" title="setOptions">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.add-prefix-path.html" title="addPrefixPath">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.add-prefix-paths.html" title="addPrefixPaths">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.get-paths.html" title="getPaths">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.clear-paths.html" title="clearPaths">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.remove-prefix-path.html" title="removePrefixPath">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.is-loaded.html" title="isLoaded">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.get-class-name.html" title="getClassName">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.load.html" title="load">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.get-plugin-map.html" title="getPluginMap">
<link rel="refentry" href="zend.loader.prefix-path-loader.methods.get-class-map.html" title="getClassMap">
<link rel="refentry" href="zend.loader.prefix-path-mapper.methods.add-prefix-path.html" title="addPrefixPath">
<link rel="refentry" href="zend.loader.prefix-path-mapper.methods.remove-prefix-path.html" title="removePrefixPath">
<link rel="chapter" href="zend.mail.html" title="Chapter 20. Zend\Mail">
<link rel="chapter" href="zend.module-manager.html" title="Chapter 21. Zend\ModuleManager">
<link rel="chapter" href="zend.mvc.html" title="Chapter 22. Zend\Mvc">
<link rel="chapter" href="zend.service-manager.html" title="Chapter 23. Zend\ServiceManager">
<link rel="chapter" href="zend.stdlib.html" title="Chapter 24. Zend\Stdlib">
<link rel="chapter" href="zend.uri.html" title="Chapter 25. Zend_Uri">
<link rel="chapter" href="zend.validator.html" title="Chapter 26. Zend\Validator">
<link rel="chapter" href="zend.view.html" title="Chapter 27. Zend_View">
<link rel="chapter" href="zend.xmlrpc.html" title="Chapter 28. Zend_XmlRpc">
<link rel="appendix" href="copyrights.html" title="Appendix A. Copyright Information">
<link rel="subsection" href="zend.mvc.quick-start.html#zend.mvc.quick-start.install" title="22.2.1. Install the Zend Skeleton Application">
<link rel="subsection" href="zend.mvc.quick-start.html#zend.mvc.quick-start.create-a-new-module" title="22.2.2. Create a new module">
<link rel="subsection" href="zend.mvc.quick-start.html#zend.mvc.quick-start.update-the-module-class" title="22.2.3. Update the Module class">
<link rel="subsection" href="zend.mvc.quick-start.html#zend.mvc.quick-start.create-a-controller" title="22.2.4. Create a Controller">
<link rel="subsection" href="zend.mvc.quick-start.html#zend.mvc.quick-start.create-a-view-script" title="22.2.5. Create a view script">
<link rel="subsection" href="zend.mvc.quick-start.html#zend.mvc.quick-start.create-a-route" title="22.2.6. Create a route">
<link rel="subsection" href="zend.mvc.quick-start.html#zend.mvc.quick-start.tell-the-application-about-our-module" title="22.2.7. Tell the application about our module">
<link rel="subsection" href="zend.mvc.quick-start.html#zend.mvc.quick-start.test-it-out" title="22.2.8. Test it out!">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader"><table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">22.2. Quick Start</th></tr>
<tr>
<td width="20%" align="left">
<a accesskey="p" href="zend.mvc.html">Prev</a> </td>
<th width="60%" align="center">Chapter 22. Zend\Mvc</th>
<td width="20%" align="right"> <a accesskey="n" href="zend.mvc.services.html">Next</a>
</td>
</tr>
</table></div>
<div class="section" title="22.2. Quick Start">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="zend.mvc.quick-start"></a>22.2. Quick Start</h2></div></div></div>
<p>
    Now that you know the basics of how applications and modules are
    structured, we'll show you the easy way to get started.
  </p>
<div class="section" title="22.2.1. Install the Zend Skeleton Application">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.mvc.quick-start.install"></a>22.2.1. Install the Zend Skeleton Application</h3></div></div></div>
<p>
      The easiest way to get started is to grab the sample application
      and module repositories. This can be done in the following ways.
    </p>
<div class="section" title="22.2.1.1. Using Composer">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.mvc.quick-start.install.using-composer"></a>22.2.1.1. Using Composer</h4></div></div></div>
<p>
        Simply clone the <code class="classname">ZendSkeletonApplication</code>
        repository:
      </p>
<pre class="programlisting">
prompt&gt; git clone --recursive git://github.com/zendframework/ZendSkeletonApplication.git my-application
</pre>
<p>
        Then run <a class="link" href="http://getcomposer.org/" target="_top">Composer</a>'s <code class="varname">install</code> command to install the ZF library and any other configured dependencies:
      </p>
<pre class="programlisting">
prompt&gt; php ./composer.phar install
</pre>
</div>
<div class="section" title="22.2.1.2. Using Git">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.mvc.quick-start.install.using-git"></a>22.2.1.2. Using Git</h4></div></div></div>
<p>
        Simply clone the <code class="classname">ZendSkeletonApplication</code>
        repository, using the <code class="varname">--recursive</code> option, which
        will also grab ZF.
      </p>
<pre class="programlisting">
prompt&gt; git clone --recursive git://github.com/zendframework/ZendSkeletonApplication.git my-application
</pre>
</div>
<div class="section" title="22.2.1.3. Manual installation">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.mvc.quick-start.install.manual-installation"></a>22.2.1.3. Manual installation</h4></div></div></div>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
<p>
            Download a tarball of the
            <code class="classname">ZendSkeletonApplication</code> repository:
          </p>
<div class="itemizedlist"><ul class="itemizedlist" type="circle">
<li class="listitem"><p>
                  Zip: <a class="link" href="https://github.com/zendframework/ZendSkeletonApplication/zipball/master" target="_top">https://github.com/zendframework/ZendSkeletonApplication/zipball/master</a>
              </p></li>
<li class="listitem"><p>
                Tarball: <a class="link" href="https://github.com/zendframework/ZendSkeletonApplication/tarball/master" target="_top">https://github.com/zendframework/ZendSkeletonApplication/tarball/master</a>
              </p></li>
</ul></div>
</li>
<li class="listitem"><p>
            Deflate the archive you selected and rename the parent directory
            according to your project needs; we use "my-application"
            throughout this document.
          </p></li>
<li class="listitem"><p>
            Install Zend Framework, and either have its library on your PHP
            <code class="varname">include_path</code>, symlink the library into your
            project's "library", or install it directly into your
            application using Pyrus.
          </p></li>
</ul></div>
</div>
</div>
<div class="section" title="22.2.2. Create a new module">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.mvc.quick-start.create-a-new-module"></a>22.2.2. Create a new module</h3></div></div></div>
<p>
      By default, one module is provided with the
      <code class="classname">ZendSkeletonApplication</code>, named
      "Application". It provides simply a controller to handle the "home" page
      of the application, the layout template, and templates for 404 and error
      pages.
    </p>
<p>
      Typically, you will not need to touch this other than to provide an
      alternate entry page for your site and/or alternate error page.
    </p>
<p>
      Additional functionality will be provided by creating new modules.
    </p>
<p>
      To get you started with modules, we recommend using the
      <code class="classname">ZendSkeletonModule</code> as a base. Download it from
      here:
    </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p>
          Zip: <a class="link" href="https://github.com/zendframework/ZendSkeletonModule/zipball/master" target="_top">https://github.com/zendframework/ZendSkeletonModule/zipball/master</a>
        </p></li>
<li class="listitem"><p>
          Tarball: <a class="link" href="https://github.com/zendframework/ZendSkeletonModule/tarball/master" target="_top">https://github.com/zendframework/ZendSkeletonModule/tarball/master</a>
        </p></li>
</ul></div>
<p>
      Deflate the package, and rename the directory
      "ZendSkeletonModule" to reflect the name of the new
      module you want to create; when done, move the module into your new
      project's <code class="filename">modules/</code> directory.
    </p>
<p>
      At this point, it's time to create some functionality.
    </p>
</div>
<div class="section" title="22.2.3. Update the Module class">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.mvc.quick-start.update-the-module-class"></a>22.2.3. Update the Module class</h3></div></div></div>
<p>
      Let's update the module class. We'll want to make sure the
      namespace is correct, configuration is enabled and returned, and
      that we setup autoloading on initialization. Since we're actively
      working on this module, the class list will be in flux, we probably
      want to be pretty lenient in our autoloading approach, so let's
      keep it flexible by using the
      <code class="classname">StandardAutoloader</code>. Let's begin.
    </p>
<p>
      First, let's have <code class="filename">autoload_classmap.php</code> return
      an empty array:
    </p>
<pre class="programlisting">
&lt;?php
// autoload_classmap.php
return array();
</pre>
<p>
      We'll also edit our <code class="filename">config/module.config.php</code>
      file to read as follows:
    </p>
<pre class="programlisting">
return array(
    'view_manager' =&gt; array(
        'template_path_stack' =&gt; array(
            '&lt;module-name&gt;' =&gt; __DIR__ . '/../view'
        ),
    ),
);
</pre>
<p>
      Fill in "module-name" with a lowercased, dash-separated
      version of your module name -- e.g., "ZendUser" would
      become "zend-user".
    </p>
<p>
      Next, edit the <code class="filename">Module.php</code> file to read as
      follows:
    </p>
<pre class="programlisting">
namespace &lt;your module name here&gt;;

use Zend\ModuleManager\Feature\AutoloaderProviderInterface;
use Zend\ModuleManager\Feature\ConfigProviderInterface;

class Module implements AutoloaderProviderInterface, ConfigProviderInterface
{
    public function getAutoloaderConfig()
    {
        return array(
            'Zend\Loader\ClassMapAutoloader' =&gt; array(
                __DIR__ . '/autoload_classmap.php',
            ),
            'Zend\Loader\StandardAutoloader' =&gt; array(
                'namespaces' =&gt; array(
                    __NAMESPACE__ =&gt; __DIR__ . '/src/' . __NAMESPACE__,
                ),
            ),
        );
    }

    public function getConfig()
    {
        return include __DIR__ . '/config/module.config.php';
    }
}
</pre>
<p>
      At this point, you now have your module configured properly. Let's
      create a controller!
    </p>
</div>
<div class="section" title="22.2.4. Create a Controller">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.mvc.quick-start.create-a-controller"></a>22.2.4. Create a Controller</h3></div></div></div>
<p>
      Controllers are simply objects that implement
      <code class="classname">Zend\Stdlib\DispatchableInterface</code>. This means they simply
      need to implement a <code class="methodname">dispatch()</code> method that takes
      minimally a <code class="classname">Response</code> object as an argument.
    </p>
<p>
      In practice, though, this would mean writing logic to branch based
      on matched routing within every controller. As such, we've created
      two base controller classes for you to start with:
    </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p>
          <code class="classname">Zend\Mvc\Controller\AbstractActionController</code> allows
          routes to match an "action". When matched, a method named
          after the action will be called by the controller. As an example,
          if you had a route that returned "foo" for the
          "action" key, the "fooAction" method would be
          invoked.
        </p></li>
<li class="listitem">
<p>
          <code class="classname">Zend\Mvc\Controller\AbstractRestfulController</code>
          introspects the Request to determine what HTTP method was used, and
          calls a method based on that accordingly.
        </p>
<div class="itemizedlist"><ul class="itemizedlist" type="circle">
<li class="listitem"><p>
              <code class="varname">GET</code> will call either the
              <code class="methodname">getList()</code> method, or, if an "id" was
              matched during routing, the <code class="methodname">get()</code> method (with
              that identifer value).
            </p></li>
<li class="listitem"><p>
              <code class="varname">POST</code> will call the <code class="methodname">create()</code>
              method, passing in the <code class="varname">$_POST</code> values.
            </p></li>
<li class="listitem"><p>
              <code class="varname">PUT</code> expects an "id" to be matched
              during routing, and will call the <code class="methodname">update()</code>
              method, passing in the identifier, and any data found in the raw
              post body.
            </p></li>
<li class="listitem"><p>
              <code class="varname">DELETE</code> expects an "id" to be matched
              during routing, and will call the <code class="methodname">delete()</code>
              method.
            </p></li>
</ul></div>
</li>
</ul></div>
<p>
      To get started, we'll simply create a "hello world" style
      controller, with a single action. First, create the directory
      <code class="filename">src/&lt;module name&gt;/Controller</code>, and then
      create the file <code class="filename">HelloController.php</code> inside it.
      Edit it in your favorite text editor or IDE, and insert the
      following contents:
    </p>
<pre class="programlisting">
&lt;?php
namespace &lt;module name&gt;\Controller;

use Zend\Mvc\Controller\AbstractActionController;
use Zend\View\Model\ViewModel;

class HelloController extends AbstractActionController
{
    public function worldAction()
    {
        $message = $this-&gt;params()-&gt;fromQuery('message', 'foo');
        return new ViewModel(array('message' =&gt; $message));
    }
}
</pre>
<p>
      So, what are we doing here?
    </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p>
          We're creating an action controller.
        </p></li>
<li class="listitem"><p>
          We're defining an action, "world".
        </p></li>
<li class="listitem"><p>
          We're pulling a message from the query parameters (yes, this is a
          superbly bad idea in production!  Always sanitize your inputs!).
        </p></li>
<li class="listitem"><p>
          We're returning a ViewModel with an array of values that will get processed later.
        </p></li>
</ul></div>
<p>
      We return a <code class="classname">ViewModel</code>. The view layer will use this
      when rendering the view, pulling variables and the template name from it.
      By default, you can omit the template name, and it will resolve to
      "lowercase-controller-name/lowercase-action-name". However, you can
      override this to specify something different by calling
      <code class="methodname">setTemplate()</code> on the
      <code class="classname">ViewModel</code> instance. Typically, templates will
      resolve to files with a ".phtml" suffix in your module's
      <code class="filename">view</code> directory.
    </p>
<p>
      So, with that in mind, let's create a view script.
    </p>
</div>
<div class="section" title="22.2.5. Create a view script">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.mvc.quick-start.create-a-view-script"></a>22.2.5. Create a view script</h3></div></div></div>
<p>
      Create the directory <code class="filename">view/&lt;module-name&gt;hello</code>.
      Inside that directory, create a file named
      <code class="filename">world.phtml</code>. Inside that, paste in the following:
    </p>
<pre class="programlisting">
&lt;h1&gt;Greetings!&lt;/h1&gt;

&lt;p&gt;You said "&lt;?php echo $this-&gt;escapeHtml($message) ?&gt;".&lt;/p&gt;
</pre>
<p>
      That's it. Save the file.
    </p>
<div class="note" title="Note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td>
<th align="left">Note</th>
</tr>
<tr><td align="left" valign="top"><p>
        What is the method <code class="methodname">escapeHtml()</code>? It's actually a
        <a class="link" href="zend.view.helpers.html" title="27.4. View Helpers">view helper</a>, and it's designed
        to help mitigate <acronym class="acronym">XSS</acronym> attacks. Never trust user
        input; if you are at all uncertain about the source of a given variable
        in your view script, escape it using one of the <a class="link" href="zend.view.helpers.html" title="27.4. View Helpers">provided escape view helper</a> depending
        on the type of data you have.
      </p></td></tr>
</table></div>
</div>
<div class="section" title="22.2.6. Create a route">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.mvc.quick-start.create-a-route"></a>22.2.6. Create a route</h3></div></div></div>
<p>
      Now that we have a controller and a view script, we need to create
      a route to it.
    </p>
<div class="note" title="Note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td>
<th align="left">Note</th>
</tr>
<tr><td align="left" valign="top">
<p>
        <code class="classname">ZendSkeletonApplication</code> ships with a "default
        route" that will likely get you to this action. That route
        basically expects "/{module}/{controller}/{action}", which allows
        you to specify this: "/zend-user/hello/world". We're
        going to create a route here mainly for illustration purposes, as
        creating explicit routes is a recommended practice.
        The application will look for a 
        <code class="classname">Zend\Mvc\Router\RouteStack</code> instance to setup
        routing. The default generated router is a 
        <code class="classname">Zend\Mvc\Router\Http\TreeRouteStack</code>.
      </p>
<p>
        To use the "default route" functionality, you will need to add a 
        the following route definition to your module.  Replace 
      </p>
<pre class="programlisting">
return array(
    '&lt;module-name&gt;' =&gt; array(
        'type'    =&gt; 'Literal',
        'options' =&gt; array(
            'route'    =&gt; '/&lt;module-name&gt;',
            'defaults' =&gt; array(
                '__NAMESPACE__' =&gt; '&lt;module-namespace&gt;\Controller',
                'controller'    =&gt; '&lt;module-name&gt;-Index',
                'action'        =&gt; 'index',
            ),
        ),
        'may_terminate' =&gt; true,
        'child_routes' =&gt; array(
            'default' =&gt; array(
                'type'    =&gt; 'Segment',
                'options' =&gt; array(
                    'route'    =&gt; '/[:controller[/:action]]',
                    'constraints' =&gt; array(
                        'controller' =&gt; '[a-zA-Z][a-zA-Z0-9_-]*',
                        'action'     =&gt; '[a-zA-Z][a-zA-Z0-9_-]*',
                    ),
                    'defaults' =&gt; array(
                    ),
                ),
            ),
        ),
    ),
    'controller' =&gt; array(
        'classes' =&gt; array(
            '&lt;module-name&gt;-Index' =&gt; '&lt;module-namespace&gt;\Controller\IndexController',
            // Do similar for each other controller in your module
        ),
    ),
    // ... other configuration ...
);
</pre>
</td></tr>
</table></div>
<p>
      Additionally, we need to tell the application we have a controller.
    </p>
<div class="note" title="Note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td>
<th align="left">Note</th>
</tr>
<tr><td align="left" valign="top"><p>
            We inform the application about controllers we expect to have in the
            application. This is to prevent somebody requesting any service the
            <code class="classname">ServiceManager</code> knows about in an attempt to
            break the application. The dispatcher uses a special, scoped
            container that will only pull controllers that are specifically
            registered with it, either as invokable classes or via factories.
        </p></td></tr>
</table></div>
<p>
      Open your <code class="filename">config/module.config.php</code> file, and modify
      it to add to the "routes" and "controller" parameters so it reads as
      follows:
    </p>
<pre class="programlisting">
return array(
    'routes' =&gt; array(
        '&lt;module name&gt;-hello-world' =&gt; array(
            'type'    =&gt; 'Literal',
                'options' =&gt; array(
                'route' =&gt; '/hello/world',
                'defaults' =&gt; array(
                    'controller' =&gt; '&lt;module namespace&gt;-Hello',
                    'action'     =&gt; 'world',
                ),
            ),
        ),
    ),
    'controller' =&gt; array(
        'classes' =&gt; array(
            '&lt;module namespace&gt;-Hello' =&gt; '&lt;module namespace&gt;\Controller\HelloController',
        ),
    ),
    // ... other configuration ...
);
</pre>
</div>
<div class="section" title="22.2.7. Tell the application about our module">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.mvc.quick-start.tell-the-application-about-our-module"></a>22.2.7. Tell the application about our module</h3></div></div></div>
<p>
      One problem: we haven't told our application about our new module!
    </p>
<p>
      By default, modules are not parsed unless we tell the module
      manager about them. As such, we need to notify the application
      about them.
    </p>
<p>
      Remember the <code class="filename">config/application.php</code>
      file? Let's modify it to add our new module. Once done, it should
      read as follows:
    </p>
<pre class="programlisting">
&lt;?php
return array(
    'modules' =&gt; array(
        'Application',
        '&lt;module namespace&gt;',
    ),
    'module_listener_options' =&gt; array( 
        'module_paths' =&gt; array(
            './module',
            './vendor',
        ),
    ),
);
</pre>
<p>
      Replace <code class="varname">&lt;module namespace&gt;</code> with the
      namespace of your module.
    </p>
</div>
<div class="section" title="22.2.8. Test it out!">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.mvc.quick-start.test-it-out"></a>22.2.8. Test it out!</h3></div></div></div>
<p>
      Now we can test things out! Create a new vhost pointing its
      document root to the <code class="filename">public</code> directory of your
      application, and fire it up in a browser. You should see the 
      default homepage template of ZendSkeletonApplication.
    </p>
<p>
      Now alter the location in your URL to append the path
      "hello/world", and load the page. You should now get the
      following content:
    </p>
<pre class="programlisting">
&lt;h1&gt;Greetings!&lt;/h1&gt;

&lt;p&gt;You said "foo".&lt;/p&gt;
</pre>
<p>
      Now alter the location to append "?message=bar" and load
      the page. You should now get:
    </p>
<pre class="programlisting">
&lt;h1&gt;Greetings!&lt;/h1&gt;

&lt;p&gt;You said "bar".&lt;/p&gt;
</pre>
<p>
      Congratulations! You've created your first ZF2 MVC module!
    </p>
</div>
</div>
<div class="navfooter"><table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="zend.mvc.html">Prev</a> </td>
<td width="20%" align="center"><a accesskey="u" href="zend.mvc.html">Up</a></td>
<td width="40%" align="right"> <a accesskey="n" href="zend.mvc.services.html">Next</a>
</td>
</tr>
<tr>
<td width="40%" align="left" valign="top">Chapter 22. Zend\Mvc </td>
<td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td>
<td width="40%" align="right" valign="top"> 22.3. Default Services</td>
</tr>
</table></div>
<div class="revinfo"></div>
</body>
</html>

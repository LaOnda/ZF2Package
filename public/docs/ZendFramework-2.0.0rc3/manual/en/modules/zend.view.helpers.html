

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>View Helpers &mdash; Zend Framework 2 2.0.0rc3 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.0.0rc3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Zend Framework 2 2.0.0rc3 documentation" href="../index.html" />
    <link rel="next" title="Introduction" href="zend.xmlrpc.intro.html" />
    <link rel="prev" title="PhpRenderer View Scripts" href="zend.view.php-renderer.scripts.html" />
<style type="text/css">
    /* Styles for floating Edit on GitHub box */
    #editor-trap {
        padding: 1em;
        border: 1px solid white;
        width: 250px;

        display: none;
        color: white;
        background: #3f454b;
        position: fixed;
        bottom: 5px;
        left: 175px;
        font-size: 85%;
        text-align: left;
        z-index: 2;

        box-shadow: 0 4px 6px #333;
        -moz-box-shadow: 0 4px 6px #333;
        -webkit-box-shadow: 0 4px 6px #333;
        
        cursor: pointer;
    }

    #editor-trap h3 {
        margin: 0 0 0.5em 0;
        padding: 0;
    }

    #editor-trap h3 > span {
        padding: 0 6px;
        border: solid white;
        border-width: 0 1px 4px 1px;
        font-size: 10px;
    }

    #editor-trap a {
        color: #98DBCC;
    }

    #editor-trap ol {
        margin: 0;
        padding: 0 0 0 2em;
    }

    /* Hide trick */
    #editor-trap.toggled > * {
        display: none;
    }


    #editor-trap.toggled > h3 {
        display: block;
    }

    #editor-trap.toggled > h3 > span {
        border-width: 6px 1px 0 1px;
    }
    
    #edit-button {
        position: fixed;
        bottom: 5px;
        left: 5px;
        z-index: 2;
        width: 162px;
        height: 42px;
    }
</style>

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="zend.xmlrpc.intro.html" title="Introduction"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="zend.view.php-renderer.scripts.html" title="PhpRenderer View Scripts"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">Zend Framework 2 2.0.0rc3 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="view-helpers">
<span id="zend-view-helpers"></span><h1>View Helpers<a class="headerlink" href="#view-helpers" title="Permalink to this headline">¶</a></h1>
<p>In your view scripts, often it is necessary to perform certain complex functions over and over: e.g., formatting a
date, generating form elements, or displaying action links. You can use helper, or plugin, classes to perform these
behaviors for you.</p>
<p>A helper is simply a class that implements the interface <tt class="docutils literal"><span class="pre">Zend\View\Helper</span></tt>. <tt class="docutils literal"><span class="pre">Helper</span></tt> simply defines two
methods, <tt class="docutils literal"><span class="pre">setView()</span></tt>, which accepts a <tt class="docutils literal"><span class="pre">Zend\View\Renderer</span></tt> instance/implementation, and <tt class="docutils literal"><span class="pre">getView()</span></tt>, used to
retrieve that instance. <tt class="docutils literal"><span class="pre">Zend\View\PhpRenderer</span></tt> composes a <em class="xref std std-ref">plugin broker</em>,
allowing you to retrieve helpers, and also provides some method overloading capabilities that allow proxying method
calls to helpers.</p>
<p>As an example, let&#8217;s say we have a helper class named <tt class="docutils literal"><span class="pre">My\Helper\LowerCase</span></tt>, which we map in our plugin broker to
the name &#8220;lowercase&#8221;. We can retrieve or invoke it in one of the following ways:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1">// $view is a PhpRenderer instance</span>

<span class="c1">// Via the plugin broker:</span>
<span class="nv">$broker</span> <span class="o">=</span> <span class="nv">$view</span><span class="o">-&gt;</span><span class="na">getBroker</span><span class="p">();</span>
<span class="nv">$helper</span> <span class="o">=</span> <span class="nv">$broker</span><span class="o">-&gt;</span><span class="na">load</span><span class="p">(</span><span class="s1">&#39;lowercase&#39;</span><span class="p">);</span>

<span class="c1">// Retrieve the helper instance, via the method &quot;plugin&quot;,</span>
<span class="c1">// which proxies to the plugin broker:</span>
<span class="nv">$helper</span> <span class="o">=</span> <span class="nv">$view</span><span class="o">-&gt;</span><span class="na">plugin</span><span class="p">(</span><span class="s1">&#39;lowercase&#39;</span><span class="p">);</span>

<span class="c1">// If the helper does not define __invoke(), the following also retrieves it:</span>
<span class="nv">$helper</span> <span class="o">=</span> <span class="nv">$view</span><span class="o">-&gt;</span><span class="na">lowercase</span><span class="p">();</span>

<span class="c1">// If the helper DOES define __invoke, you can call the helper</span>
<span class="c1">// as if it is a method:</span>
<span class="nv">$filtered</span> <span class="o">=</span> <span class="nv">$view</span><span class="o">-&gt;</span><span class="na">lowercase</span><span class="p">(</span><span class="s1">&#39;some value&#39;</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>The last two examples demonstrate how the <tt class="docutils literal"><span class="pre">PhpRenderer</span></tt> uses method overloading to retrieve and/or invoke helpers
directly, offering a convenience API for end users.</p>
<p>A large number of helpers are provided in the standard distribution of Zend Framework. You can also register
helpers by adding them to the <em class="xref std std-ref">plugin broker</em>, or the plugin locator the broker
composes. Please refer to the <em class="xref std std-ref">plugin broker documentation</em> for details.</p>
<div class="section" id="included-helpers">
<span id="zend-view-helpers-initial"></span><h2>Included Helpers<a class="headerlink" href="#included-helpers" title="Permalink to this headline">¶</a></h2>
<p>Zend Framework comes with an initial set of helper classes. In particular, there are helpers for creating
route-based <em>URL</em>s and <em>HTML</em> lists, as well as declaring variables. Additionally, there are a rich set of
helpers for providing values for, and rendering, the various HTML <em>&lt;head&gt;</em> tags, such as <tt class="docutils literal"><span class="pre">HeadTitle</span></tt>,
<tt class="docutils literal"><span class="pre">HeadLink</span></tt>, and <tt class="docutils literal"><span class="pre">HeadScript</span></tt>. The currently shipped helpers include:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">url($urlOptions,</span> <span class="pre">$name,</span> <span class="pre">$reset)</span></tt>: Creates a <em>URL</em> string based on a named route. <tt class="docutils literal"><span class="pre">$urlOptions</span></tt> should be an
associative array of key/value pairs used by the particular route.</li>
<li><tt class="docutils literal"><span class="pre">htmlList($items,</span> <span class="pre">$ordered,</span> <span class="pre">$attribs,</span> <span class="pre">$escape)</span></tt>: generates unordered and ordered lists based on the <tt class="docutils literal"><span class="pre">$items</span></tt>
passed to it. If <tt class="docutils literal"><span class="pre">$items</span></tt> is a multidimensional array, a nested list will be built. If the <tt class="docutils literal"><span class="pre">$escape</span></tt> flag is
<tt class="docutils literal"><span class="pre">TRUE</span></tt> (default), individual items will be escaped using the view objects registered escaping mechanisms; pass
a <tt class="docutils literal"><span class="pre">FALSE</span></tt> value if you want to allow markup in your lists.</li>
</ul>
</div>
</div>
<div class="section" id="action-view-helper">
<span id="zend-view-helpers-initial-action"></span><h1>Action View Helper<a class="headerlink" href="#action-view-helper" title="Permalink to this headline">¶</a></h1>
<p>The <tt class="docutils literal"><span class="pre">Action</span></tt> view helper enables view scripts to dispatch a given controller action; the result of the response
object following the dispatch is then returned. These can be used when a particular action could generate re-usable
content or &#8220;widget-ized&#8221; content.</p>
<p>Actions that result in a <tt class="docutils literal"><span class="pre">_forward()</span></tt> or redirect are considered invalid, and will return an empty string.</p>
<p>The <em>API</em> for the <tt class="docutils literal"><span class="pre">Action</span></tt> view helper follows that of most <em>MVC</em> components that invoke controller actions:
<tt class="docutils literal"><span class="pre">action($action,</span> <span class="pre">$controller,</span> <span class="pre">$module</span> <span class="pre">=</span> <span class="pre">null,</span> <span class="pre">array</span> <span class="pre">$params</span> <span class="pre">=</span> <span class="pre">array())</span></tt>. <tt class="docutils literal"><span class="pre">$action</span></tt> and <tt class="docutils literal"><span class="pre">$controller</span></tt> are
required; if no module is specified, the default module is assumed.</p>
<p class="rubric" id="zend-view-helpers-initial-action-usage">Basic Usage of Action View Helper</p>
<p>As an example, you may have a <tt class="docutils literal"><span class="pre">CommentController</span></tt> with a <tt class="docutils literal"><span class="pre">listAction()</span></tt> method you wish to invoke in order to
pull a list of comments for the current request:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span class="o">&lt;</span><span class="nx">div</span> <span class="nx">id</span><span class="o">=</span><span class="s2">&quot;sidebar right&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">class</span><span class="o">=</span><span class="s2">&quot;item&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;?</span><span class="nx">php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">action</span><span class="p">(</span><span class="s1">&#39;list&#39;</span><span class="p">,</span>
                                 <span class="s1">&#39;comment&#39;</span><span class="p">,</span>
                                 <span class="k">null</span><span class="p">,</span>
                                 <span class="k">array</span><span class="p">(</span><span class="s1">&#39;count&#39;</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">));</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">    &lt;/div&gt;</span>
<span class="x">&lt;/div&gt;</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="baseurl-helper">
<span id="zend-view-helpers-initial-baseurl"></span><h1>BaseUrl Helper<a class="headerlink" href="#baseurl-helper" title="Permalink to this headline">¶</a></h1>
<p>While most <em>URL</em>s generated by the framework have the base <em>URL</em> prepended automatically, developers will need to
prepend the base <em>URL</em> to their own <em>URL</em>s in order for paths to resources to be correct.</p>
<p>Usage of the BaseUrl helper is very straightforward:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * The following assume that the base URL of the page/application is &quot;/mypage&quot;.</span>
<span class="cm"> */</span>

<span class="cm">/*</span>
<span class="cm"> * Prints:</span>
<span class="cm"> * &lt;base href=&quot;/mypage/&quot; /&gt;</span>
<span class="cm"> */</span>
<span class="o">&lt;</span><span class="nx">base</span> <span class="nx">href</span><span class="o">=</span><span class="s2">&quot;&lt;?php echo </span><span class="si">$this-&gt;baseUrl</span><span class="s2">(); ?&gt;&quot;</span> <span class="o">/&gt;</span>

<span class="cm">/*</span>
<span class="cm"> * Prints:</span>
<span class="cm"> * &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;/mypage/css/base.css&quot; /&gt;</span>
<span class="cm"> */</span>
<span class="o">&lt;</span><span class="nb">link</span> <span class="nx">rel</span><span class="o">=</span><span class="s2">&quot;stylesheet&quot;</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;text/css&quot;</span>
     <span class="nx">href</span><span class="o">=</span><span class="s2">&quot;&lt;?php echo </span><span class="si">$this-&gt;baseUrl</span><span class="s2">(&#39;css/base.css&#39;); ?&gt;&quot;</span> <span class="o">/&gt;</span>
</pre></div>
</td></tr></table></div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For simplicity&#8217;s sake, we strip out the entry <em>PHP</em> file (e.g., &#8220;<tt class="docutils literal"><span class="pre">index.php</span></tt>&#8221;) from the base <em>URL</em> that was
contained in <tt class="docutils literal"><span class="pre">Zend_Controller</span></tt>. However, in some situations this may cause a problem. If one occurs, use
<tt class="docutils literal"><span class="pre">$this-&gt;getHelper('BaseUrl')-&gt;setBaseUrl()</span></tt> to set your own BaseUrl.</p>
</div>
</div>
<div class="section" id="cycle-helper">
<span id="zend-view-helpers-initial-cycle"></span><h1>Cycle Helper<a class="headerlink" href="#cycle-helper" title="Permalink to this headline">¶</a></h1>
<p>The <tt class="docutils literal"><span class="pre">Cycle</span></tt> helper is used to alternate a set of values.</p>
<p class="rubric" id="zend-view-helpers-initial-cycle-basicusage">Cycle Helper Basic Usage</p>
<p>To add elements to cycle just specify them in constructor or use <tt class="docutils literal"><span class="pre">assign(array</span> <span class="pre">$data)</span></tt> function</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span> <span class="k">foreach</span> <span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">books</span> <span class="k">as</span> <span class="nv">$book</span><span class="p">)</span><span class="o">:?&gt;</span>
  <span class="o">&lt;</span><span class="nx">tr</span> <span class="nx">style</span><span class="o">=</span><span class="s2">&quot;background-color:&lt;?php echo </span><span class="si">$this-&gt;cycle</span><span class="s2">(array(&quot;</span><span class="c1">#F0F0F0&quot;,</span>
                                                            <span class="s2">&quot;#FFFFFF&quot;</span><span class="p">))</span>
                                              <span class="o">-&gt;</span><span class="na">next</span><span class="p">()</span><span class="cp">?&gt;</span><span class="x">&quot;&gt;</span>
<span class="x">  &lt;td&gt;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">escape</span><span class="p">(</span><span class="nv">$book</span><span class="p">[</span><span class="s1">&#39;author&#39;</span><span class="p">])</span> <span class="cp">?&gt;</span><span class="x">&lt;/td&gt;</span>
<span class="x">&lt;/tr&gt;</span>
<span class="cp">&lt;?php</span> <span class="k">endforeach</span><span class="p">;</span><span class="cp">?&gt;</span><span class="x"></span>

<span class="x">// Moving in backwards order and assign function</span>
<span class="x">$this-&gt;cycle()-&gt;assign(array(&quot;#F0F0F0&quot;,&quot;#FFFFFF&quot;));</span>
<span class="x">$this-&gt;cycle()-&gt;prev();</span>
<span class="x">?&gt;</span>
</pre></div>
</td></tr></table></div>
<p>The output</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span class="o">&lt;</span><span class="nx">tr</span> <span class="nx">style</span><span class="o">=</span><span class="s2">&quot;background-color:&#39;#F0F0F0&#39;&quot;</span><span class="o">&gt;</span>
   <span class="o">&lt;</span><span class="nx">td</span><span class="o">&gt;</span><span class="nx">First</span><span class="o">&lt;/</span><span class="nx">td</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="nx">tr</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="nx">tr</span> <span class="nx">style</span><span class="o">=</span><span class="s2">&quot;background-color:&#39;#FFFFFF&#39;&quot;</span><span class="o">&gt;</span>
   <span class="o">&lt;</span><span class="nx">td</span><span class="o">&gt;</span><span class="nx">Second</span><span class="o">&lt;/</span><span class="nx">td</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="nx">tr</span><span class="o">&gt;</span>
</pre></div>
</td></tr></table></div>
<p class="rubric" id="zend-view-helpers-initial-cycle-advanceusage">Working with two or more cycles</p>
<p>To use two cycles you have to specify the names of cycles. Just set second parameter in cycle method.
<tt class="docutils literal"><span class="pre">$this-&gt;cycle(array(&quot;#F0F0F0&quot;,&quot;#FFFFFF&quot;),'cycle2')</span></tt>. You can also use setName($name) function.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span> <span class="k">foreach</span> <span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">books</span> <span class="k">as</span> <span class="nv">$book</span><span class="p">)</span><span class="o">:?&gt;</span>
  <span class="o">&lt;</span><span class="nx">tr</span> <span class="nx">style</span><span class="o">=</span><span class="s2">&quot;background-color:&lt;?php echo </span><span class="si">$this-&gt;cycle</span><span class="s2">(array(&quot;</span><span class="c1">#F0F0F0&quot;,</span>
                                                            <span class="s2">&quot;#FFFFFF&quot;</span><span class="p">))</span>
                                              <span class="o">-&gt;</span><span class="na">next</span><span class="p">()</span><span class="cp">?&gt;</span><span class="x">&quot;&gt;</span>
<span class="x">  &lt;td&gt;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">cycle</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span><span class="s1">&#39;number&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">next</span><span class="p">()</span><span class="cp">?&gt;</span><span class="x">&lt;/td&gt;</span>
<span class="x">  &lt;td&gt;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">escape</span><span class="p">(</span><span class="nv">$book</span><span class="p">[</span><span class="s1">&#39;author&#39;</span><span class="p">])</span><span class="cp">?&gt;</span><span class="x">&lt;/td&gt;</span>
<span class="x">&lt;/tr&gt;</span>
<span class="cp">&lt;?php</span> <span class="k">endforeach</span><span class="p">;</span><span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="partial-helper">
<span id="zend-view-helpers-initial-partial"></span><h1>Partial Helper<a class="headerlink" href="#partial-helper" title="Permalink to this headline">¶</a></h1>
<p>The <tt class="docutils literal"><span class="pre">Partial</span></tt> view helper is used to render a specified template within its own variable scope. The primary use
is for reusable template fragments with which you do not need to worry about variable name clashes. Additionally,
they allow you to specify partial view scripts from specific modules.</p>
<p>A sibling to the <tt class="docutils literal"><span class="pre">Partial</span></tt>, the <tt class="docutils literal"><span class="pre">PartialLoop</span></tt> view helper allows you to pass iterable data, and render a
partial for each item.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>PartialLoop Counter</strong></p>
<p class="last">The <tt class="docutils literal"><span class="pre">PartialLoop</span></tt> view helper assigns a variable to the view named <strong>partialCounter</strong> which passes the current
position of the array to the view script. This provides an easy way to have alternating colors on table rows for
example.</p>
</div>
<p class="rubric" id="zend-view-helpers-initial-partial-usage">Basic Usage of Partials</p>
<p>Basic usage of partials is to render a template fragment in its own view scope. Consider the following partial
script:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span> <span class="c1">// partial.phtml ?&gt;</span>
<span class="o">&lt;</span><span class="nx">ul</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="nx">li</span><span class="o">&gt;</span><span class="nx">From</span><span class="o">:</span> <span class="o">&lt;?</span><span class="nx">php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">escape</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">from</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="x">&lt;/li&gt;</span>
<span class="x">    &lt;li&gt;Subject: </span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">escape</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">subject</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="x">&lt;/li&gt;</span>
<span class="x">&lt;/ul&gt;</span>
</pre></div>
</td></tr></table></div>
<p>You would then call it from your view script using the following:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">partial</span><span class="p">(</span><span class="s1">&#39;partial.phtml&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;from&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Team Framework&#39;</span><span class="p">,</span>
    <span class="s1">&#39;subject&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;view partials&#39;</span><span class="p">));</span> <span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</td></tr></table></div>
<p>Which would then render:</p>
<div class="highlight-html"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span class="nt">&lt;ul&gt;</span>
    <span class="nt">&lt;li&gt;</span>From: Team Framework<span class="nt">&lt;/li&gt;</span>
    <span class="nt">&lt;li&gt;</span>Subject: view partials<span class="nt">&lt;/li&gt;</span>
<span class="nt">&lt;/ul&gt;</span>
</pre></div>
</td></tr></table></div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>What is a model?</strong></p>
<p>A model used with the <tt class="docutils literal"><span class="pre">Partial</span></tt> view helper can be one of the following:</p>
<ul class="simple">
<li><strong>Array</strong>. If an array is passed, it should be associative, as its key/value pairs are assigned to the view
with keys as view variables.</li>
<li><strong>Object implementing toArray() method</strong>. If an object is passed an has a <tt class="docutils literal"><span class="pre">toArray()</span></tt> method, the results of
<tt class="docutils literal"><span class="pre">toArray()</span></tt> will be assigned to the view object as view variables.</li>
<li><strong>Standard object</strong>. Any other object will assign the results of <tt class="docutils literal"><span class="pre">object_get_vars()</span></tt> (essentially all public
properties of the object) to the view object.</li>
</ul>
<p>If your model is an object, you may want to have it passed <strong>as an object</strong> to the partial script, instead of
serializing it to an array of variables. You can do this by setting the &#8216;objectKey&#8217; property of the appropriate
helper:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1">// Tell partial to pass objects as &#39;model&#39; variable</span>
<span class="nv">$view</span><span class="o">-&gt;</span><span class="na">partial</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setObjectKey</span><span class="p">(</span><span class="s1">&#39;model&#39;</span><span class="p">);</span>

<span class="c1">// Tell partial to pass objects from partialLoop as &#39;model&#39; variable</span>
<span class="c1">// in final partial view script:</span>
<span class="nv">$view</span><span class="o">-&gt;</span><span class="na">partialLoop</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setObjectKey</span><span class="p">(</span><span class="s1">&#39;model&#39;</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p class="last">This technique is particularly useful when passing <tt class="docutils literal"><span class="pre">Zend_Db_Table_Rowset</span></tt>s to <tt class="docutils literal"><span class="pre">partialLoop()</span></tt>, as you then
have full access to your row objects within the view scripts, allowing you to call methods on them (such as
retrieving values from parent or dependent rows).</p>
</div>
<p class="rubric" id="zend-view-helpers-initial-partial-partialloop">Using PartialLoop to Render Iterable Models</p>
<p>Typically, you&#8217;ll want to use partials in a loop, to render the same content fragment many times; this way you can
put large blocks of repeated content or complex display logic into a single location. However this has a
performance impact, as the partial helper needs to be invoked once for each iteration.</p>
<p>The <tt class="docutils literal"><span class="pre">PartialLoop</span></tt> view helper helps solve this issue. It allows you to pass an iterable item (array or object
implementing <strong>Iterator</strong>) as the model. It then iterates over this, passing, the items to the partial script as
the model. Items in the iterator may be any model the <tt class="docutils literal"><span class="pre">Partial</span></tt> view helper allows.</p>
<p>Let&#8217;s assume the following partial view script:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span> <span class="c1">// partialLoop.phtml ?&gt;</span>
    <span class="o">&lt;</span><span class="nx">dt</span><span class="o">&gt;&lt;?</span><span class="nx">php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">key</span> <span class="cp">?&gt;</span><span class="x">&lt;/dt&gt;</span>
<span class="x">    &lt;dd&gt;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">value</span> <span class="cp">?&gt;</span><span class="x">&lt;/dd&gt;</span>
</pre></div>
</td></tr></table></div>
<p>And the following &#8220;model&#8221;:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$model</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">&#39;key&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Mammal&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Camel&#39;</span><span class="p">),</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">&#39;key&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Bird&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Penguin&#39;</span><span class="p">),</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">&#39;key&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Reptile&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Asp&#39;</span><span class="p">),</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">&#39;key&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Fish&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Flounder&#39;</span><span class="p">),</span>
<span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>In your view script, you could then invoke the <tt class="docutils literal"><span class="pre">PartialLoop</span></tt> helper:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span class="o">&lt;</span><span class="nb">dl</span><span class="o">&gt;</span>
<span class="o">&lt;?</span><span class="nx">php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">partialLoop</span><span class="p">(</span><span class="s1">&#39;partialLoop.phtml&#39;</span><span class="p">,</span> <span class="nv">$model</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">&lt;/dl&gt;</span>
</pre></div>
</td></tr></table></div>
<div class="highlight-html"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span class="nt">&lt;dl&gt;</span>
    <span class="nt">&lt;dt&gt;</span>Mammal<span class="nt">&lt;/dt&gt;</span>
    <span class="nt">&lt;dd&gt;</span>Camel<span class="nt">&lt;/dd&gt;</span>

    <span class="nt">&lt;dt&gt;</span>Bird<span class="nt">&lt;/dt&gt;</span>
    <span class="nt">&lt;dd&gt;</span>Penguin<span class="nt">&lt;/dd&gt;</span>

    <span class="nt">&lt;dt&gt;</span>Reptile<span class="nt">&lt;/dt&gt;</span>
    <span class="nt">&lt;dd&gt;</span>Asp<span class="nt">&lt;/dd&gt;</span>

    <span class="nt">&lt;dt&gt;</span>Fish<span class="nt">&lt;/dt&gt;</span>
    <span class="nt">&lt;dd&gt;</span>Flounder<span class="nt">&lt;/dd&gt;</span>
<span class="nt">&lt;/dl&gt;</span>
</pre></div>
</td></tr></table></div>
<p class="rubric" id="zend-view-helpers-initial-partial-modules">Rendering Partials in Other Modules</p>
<p>Sometime a partial will exist in a different module. If you know the name of the module, you can pass it as the
second argument to either <tt class="docutils literal"><span class="pre">partial()</span></tt> or <tt class="docutils literal"><span class="pre">partialLoop()</span></tt>, moving the <tt class="docutils literal"><span class="pre">$model</span></tt> argument to third position.</p>
<p>For instance, if there&#8217;s a pager partial you wish to use that&#8217;s in the &#8216;list&#8217; module, you could grab it as follows:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">partial</span><span class="p">(</span><span class="s1">&#39;pager.phtml&#39;</span><span class="p">,</span> <span class="s1">&#39;list&#39;</span><span class="p">,</span> <span class="nv">$pagerData</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</td></tr></table></div>
<p>In this way, you can re-use partials created specifically for other modules. That said, it&#8217;s likely a better
practice to put re-usable partials in shared view script paths.</p>
</div>
<div class="section" id="placeholder-helper">
<span id="zend-view-helpers-initial-placeholder"></span><h1>Placeholder Helper<a class="headerlink" href="#placeholder-helper" title="Permalink to this headline">¶</a></h1>
<p>The <tt class="docutils literal"><span class="pre">Placeholder</span></tt> view helper is used to persist content between view scripts and view instances. It also offers
some useful features such as aggregating content, capturing view script content for later use, and adding pre- and
post-text to content (and custom separators for aggregated content).</p>
<p class="rubric" id="zend-view-helpers-initial-placeholder-usage">Basic Usage of Placeholders</p>
<p>Basic usage of placeholders is to persist view data. Each invocation of the <tt class="docutils literal"><span class="pre">Placeholder</span></tt> helper expects a
placeholder name; the helper then returns a placeholder container object that you can either manipulate or simply
echo out.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">placeholder</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">set</span><span class="p">(</span><span class="s2">&quot;Some text for later&quot;</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="x"></span>

<span class="cp">&lt;?php</span>
    <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">placeholder</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">);</span>
    <span class="c1">// outputs &quot;Some text for later&quot;</span>
<span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</td></tr></table></div>
<p class="rubric" id="zend-view-helpers-initial-placeholder-aggregation">Using Placeholders to Aggregate Content</p>
<p>Aggregating content via placeholders can be useful at times as well. For instance, your view script may have a
variable array from which you wish to retrieve messages to display later; a later view script can then determine
how those will be rendered.</p>
<p>The <tt class="docutils literal"><span class="pre">Placeholder</span></tt> view helper uses containers that extend <tt class="docutils literal"><span class="pre">ArrayObject</span></tt>, providing a rich featureset for
manipulating arrays. In addition, it offers a variety of methods for formatting the content stored in the
container:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">setPrefix($prefix)</span></tt> sets text with which to prefix the content. Use <tt class="docutils literal"><span class="pre">getPrefix()</span></tt> at any time to determine
what the current setting is.</li>
<li><tt class="docutils literal"><span class="pre">setPostfix($prefix)</span></tt> sets text with which to append the content. Use <tt class="docutils literal"><span class="pre">getPostfix()</span></tt> at any time to determine
what the current setting is.</li>
<li><tt class="docutils literal"><span class="pre">setSeparator($prefix)</span></tt> sets text with which to separate aggregated content. Use <tt class="docutils literal"><span class="pre">getSeparator()</span></tt> at any time
to determine what the current setting is.</li>
<li><tt class="docutils literal"><span class="pre">setIndent($prefix)</span></tt> can be used to set an indentation value for content. If an integer is passed, that number
of spaces will be used; if a string is passed, the string will be used. Use <tt class="docutils literal"><span class="pre">getIndent()</span></tt> at any time to
determine what the current setting is.</li>
</ul>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span class="o">&lt;!--</span> <span class="nx">first</span> <span class="nx">view</span> <span class="nx">script</span> <span class="o">--&gt;</span>
<span class="o">&lt;?</span><span class="nx">php</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">placeholder</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">exchangeArray</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">data</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</td></tr></table></div>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span class="o">&lt;!--</span> <span class="nx">later</span> <span class="nx">view</span> <span class="nx">script</span> <span class="o">--&gt;</span>
<span class="o">&lt;?</span><span class="nx">php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">placeholder</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">setPrefix</span><span class="p">(</span><span class="s2">&quot;&lt;ul&gt;</span><span class="se">\n</span><span class="s2">    &lt;li&gt;&quot;</span><span class="p">)</span>
                         <span class="o">-&gt;</span><span class="na">setSeparator</span><span class="p">(</span><span class="s2">&quot;&lt;/li&gt;&lt;li&gt;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
                         <span class="o">-&gt;</span><span class="na">setIndent</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
                         <span class="o">-&gt;</span><span class="na">setPostfix</span><span class="p">(</span><span class="s2">&quot;&lt;/li&gt;&lt;/ul&gt;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">);</span>
<span class="cp">?&gt;</span><span class="x"></span>

<span class="cp">&lt;?php</span>
    <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">placeholder</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">);</span>
    <span class="c1">// outputs as unordered list with pretty indentation</span>
<span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</td></tr></table></div>
<p>Because the <tt class="docutils literal"><span class="pre">Placeholder</span></tt> container objects extend <tt class="docutils literal"><span class="pre">ArrayObject</span></tt>, you can also assign content to a specific key
in the container easily, instead of simply pushing it into the container. Keys may be accessed either as object
properties or as array keys.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">placeholder</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">bar</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">data</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">placeholder</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">bar</span> <span class="cp">?&gt;</span><span class="x"></span>

<span class="cp">&lt;?php</span>
<span class="nv">$foo</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">placeholder</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">);</span>
<span class="k">echo</span> <span class="nv">$foo</span><span class="p">[</span><span class="s1">&#39;bar&#39;</span><span class="p">];</span>
<span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</td></tr></table></div>
<p class="rubric" id="zend-view-helpers-initial-placeholder-capture">Using Placeholders to Capture Content</p>
<p>Occasionally you may have content for a placeholder in a view script that is easiest to template; the
<tt class="docutils literal"><span class="pre">Placeholder</span></tt> view helper allows you to capture arbitrary content for later rendering using the following <em>API</em>.</p>
<ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">captureStart($type,</span> <span class="pre">$key)</span></tt> begins capturing content.</p>
<p><tt class="docutils literal"><span class="pre">$type</span></tt> should be one of the <tt class="docutils literal"><span class="pre">Placeholder</span></tt> constants <tt class="docutils literal"><span class="pre">APPEND</span></tt> or <tt class="docutils literal"><span class="pre">SET</span></tt>. If <tt class="docutils literal"><span class="pre">APPEND</span></tt>, captured content
is appended to the list of current content in the placeholder; if <tt class="docutils literal"><span class="pre">SET</span></tt>, captured content is used as the sole
value of the placeholder (potentially replacing any previous content). By default, <tt class="docutils literal"><span class="pre">$type</span></tt> is <tt class="docutils literal"><span class="pre">APPEND</span></tt>.</p>
<p><tt class="docutils literal"><span class="pre">$key</span></tt> can be used to specify a specific key in the placeholder container to which you want content captured.</p>
<p><tt class="docutils literal"><span class="pre">captureStart()</span></tt> locks capturing until <tt class="docutils literal"><span class="pre">captureEnd()</span></tt> is called; you cannot nest capturing with the same
placeholder container. Doing so will raise an exception.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">captureEnd()</span></tt> stops capturing content, and places it in the container object according to how
<tt class="docutils literal"><span class="pre">captureStart()</span></tt> was called.</p>
</li>
</ul>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span class="o">&lt;!--</span> <span class="k">Default</span> <span class="nx">capture</span><span class="o">:</span> <span class="nx">append</span> <span class="o">--&gt;</span>
<span class="o">&lt;?</span><span class="nx">php</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">placeholder</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">captureStart</span><span class="p">();</span>
<span class="k">foreach</span> <span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">data</span> <span class="k">as</span> <span class="nv">$datum</span><span class="p">)</span><span class="o">:</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">&lt;div class=&quot;foo&quot;&gt;</span>
<span class="x">    &lt;h2&gt;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$datum</span><span class="o">-&gt;</span><span class="na">title</span> <span class="cp">?&gt;</span><span class="x">&lt;/h2&gt;</span>
<span class="x">    &lt;p&gt;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$datum</span><span class="o">-&gt;</span><span class="na">content</span> <span class="cp">?&gt;</span><span class="x">&lt;/p&gt;</span>
<span class="x">&lt;/div&gt;</span>
<span class="cp">&lt;?php</span> <span class="k">endforeach</span><span class="p">;</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="cp">&lt;?php</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">placeholder</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">captureEnd</span><span class="p">()</span> <span class="cp">?&gt;</span><span class="x"></span>

<span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">placeholder</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</td></tr></table></div>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span class="o">&lt;!--</span> <span class="nx">Capture</span> <span class="nx">to</span> <span class="nb">key</span> <span class="o">--&gt;</span>
<span class="o">&lt;?</span><span class="nx">php</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">placeholder</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">captureStart</span><span class="p">(</span><span class="s1">&#39;SET&#39;</span><span class="p">,</span> <span class="s1">&#39;data&#39;</span><span class="p">);</span>
<span class="k">foreach</span> <span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">data</span> <span class="k">as</span> <span class="nv">$datum</span><span class="p">)</span><span class="o">:</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">&lt;div class=&quot;foo&quot;&gt;</span>
<span class="x">    &lt;h2&gt;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$datum</span><span class="o">-&gt;</span><span class="na">title</span> <span class="cp">?&gt;</span><span class="x">&lt;/h2&gt;</span>
<span class="x">    &lt;p&gt;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$datum</span><span class="o">-&gt;</span><span class="na">content</span> <span class="cp">?&gt;</span><span class="x">&lt;/p&gt;</span>
<span class="x">&lt;/div&gt;</span>
<span class="x"> </span><span class="cp">&lt;?php</span> <span class="k">endforeach</span><span class="p">;</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="cp">&lt;?php</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">placeholder</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">captureEnd</span><span class="p">()</span> <span class="cp">?&gt;</span><span class="x"></span>

<span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">placeholder</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">data</span> <span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</td></tr></table></div>
<div class="section" id="concrete-placeholder-implementations">
<span id="zend-view-helpers-initial-placeholder-implementations"></span><h2>Concrete Placeholder Implementations<a class="headerlink" href="#concrete-placeholder-implementations" title="Permalink to this headline">¶</a></h2>
<p>Zend Framework ships with a number of &#8220;concrete&#8221; placeholder implementations. These are for commonly used
placeholders: doctype, page title, and various &lt;head&gt; elements. In all cases, calling the placeholder with no
arguments returns the element itself.</p>
<p>Documentation for each element is covered separately, as linked below:</p>
<ul class="simple">
<li><a class="reference internal" href="zend.view.helpers.doctype.html#zend-view-helpers-initial-doctype"><em>Doctype</em></a></li>
<li><a class="reference internal" href="zend.view.helpers.head-link.html#zend-view-helpers-initial-headlink"><em>HeadLink</em></a></li>
<li><a class="reference internal" href="zend.view.helpers.head-meta.html#zend-view-helpers-initial-headmeta"><em>HeadMeta</em></a></li>
<li><a class="reference internal" href="zend.view.helpers.head-script.html#zend-view-helpers-initial-headscript"><em>HeadScript</em></a></li>
<li><a class="reference internal" href="zend.view.helpers.head-style.html#zend-view-helpers-initial-headstyle"><em>HeadStyle</em></a></li>
<li><a class="reference internal" href="zend.view.helpers.head-title.html#zend-view-helpers-initial-headtitle"><em>HeadTitle</em></a></li>
<li><a class="reference internal" href="zend.view.helpers.inline-script.html#zend-view-helpers-initial-inlinescript"><em>InlineScript</em></a></li>
</ul>
</div>
</div>
<div class="section" id="doctype-helper">
<span id="zend-view-helpers-initial-doctype"></span><h1>Doctype Helper<a class="headerlink" href="#doctype-helper" title="Permalink to this headline">¶</a></h1>
<p>Valid <em>HTML</em> and <em>XHTML</em> documents should include a <tt class="docutils literal"><span class="pre">DOCTYPE</span></tt> declaration. Besides being difficult to remember,
these can also affect how certain elements in your document should be rendered (for instance, CDATA escaping in
<strong>&lt;script&gt;</strong> and <strong>&lt;style&gt;</strong> elements.</p>
<p>The <tt class="docutils literal"><span class="pre">Doctype</span></tt> helper allows you to specify one of the following types:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">XHTML11</span></tt></li>
<li><tt class="docutils literal"><span class="pre">XHTML1_STRICT</span></tt></li>
<li><tt class="docutils literal"><span class="pre">XHTML1_TRANSITIONAL</span></tt></li>
<li><tt class="docutils literal"><span class="pre">XHTML1_FRAMESET</span></tt></li>
<li><tt class="docutils literal"><span class="pre">XHTML1_RDFA</span></tt></li>
<li><tt class="docutils literal"><span class="pre">XHTML_BASIC1</span></tt></li>
<li><tt class="docutils literal"><span class="pre">HTML4_STRICT</span></tt></li>
<li><tt class="docutils literal"><span class="pre">HTML4_LOOSE</span></tt></li>
<li><tt class="docutils literal"><span class="pre">HTML4_FRAMESET</span></tt></li>
<li><tt class="docutils literal"><span class="pre">HTML5</span></tt></li>
</ul>
<p>You can also specify a custom doctype as long as it is well-formed.</p>
<p>The <tt class="docutils literal"><span class="pre">Doctype</span></tt> helper is a concrete implementation of the <a class="reference internal" href="zend.view.helpers.placeholder.html#zend-view-helpers-initial-placeholder"><em>Placeholder helper</em></a>.</p>
<p class="rubric" id="zend-view-helpers-initial-doctype-basicusage">Doctype Helper Basic Usage</p>
<p>You may specify the doctype at any time. However, helpers that depend on the doctype for their output will
recognize it only after you have set it, so the easiest approach is to specify it in your bootstrap:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$doctypeHelper</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend_View_Helper_Doctype</span><span class="p">();</span>
<span class="nv">$doctypeHelper</span><span class="o">-&gt;</span><span class="na">doctype</span><span class="p">(</span><span class="s1">&#39;XHTML1_STRICT&#39;</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>And then print it out on top of your layout script:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">doctype</span><span class="p">()</span> <span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</td></tr></table></div>
<p class="rubric" id="zend-view-helpers-initial-doctype-retrieving">Retrieving the Doctype</p>
<p>If you need to know the doctype, you can do so by calling <tt class="docutils literal"><span class="pre">getDoctype()</span></tt> on the object, which is returned by
invoking the helper.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$doctype</span> <span class="o">=</span> <span class="nv">$view</span><span class="o">-&gt;</span><span class="na">doctype</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">getDoctype</span><span class="p">();</span>
</pre></div>
</td></tr></table></div>
<p>Typically, you&#8217;ll simply want to know if the doctype is <em>XHTML</em> or not; for this, the <tt class="docutils literal"><span class="pre">isXhtml()</span></tt> method will
suffice:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">if</span> <span class="p">(</span><span class="nv">$view</span><span class="o">-&gt;</span><span class="na">doctype</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">isXhtml</span><span class="p">())</span> <span class="p">{</span>
    <span class="c1">// do something differently</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>You can also check if the doctype represents an <em>HTML5</em> document.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">if</span> <span class="p">(</span><span class="nv">$view</span><span class="o">-&gt;</span><span class="na">doctype</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">isHtml5</span><span class="p">())</span> <span class="p">{</span>
    <span class="c1">// do something differently</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p class="rubric" id="zend-view-helpers-initial-doctype-xhtml1-rdfa">Choosing a Doctype to Use with the Open Graph Protocol</p>
<p>To implement the <a class="reference external" href="http://opengraphprotocol.org/">Open Graph Protocol</a>, you may specify the XHTML1_RDFA doctype. This doctype allows a developer
to use the <a class="reference external" href="http://www.w3.org/TR/xhtml-rdfa-primer/">Resource Description Framework</a> within an <em>XHTML</em> document.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$doctypeHelper</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend_View_Helper_Doctype</span><span class="p">();</span>
<span class="nv">$doctypeHelper</span><span class="o">-&gt;</span><span class="na">doctype</span><span class="p">(</span><span class="s1">&#39;XHTML1_RDFA&#39;</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>The RDFa doctype allows XHTML to validate when the &#8216;property&#8217; meta tag attribute is used per the Open Graph
Protocol spec. Example within a view script:</p>
<div class="highlight-html"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span class="cp">&lt;?php echo $this-&gt;doctype(&#39;XHTML1_RDFA&#39;); ?&gt;</span>
<span class="nt">&lt;html</span> <span class="na">xmlns=</span><span class="s">&quot;http://www.w3.org/1999/xhtml&quot;</span>
      <span class="na">xmlns:og=</span><span class="s">&quot;http://opengraphprotocol.org/schema/&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;head&gt;</span>
   <span class="nt">&lt;meta</span> <span class="na">property=</span><span class="s">&quot;og:type&quot;</span> <span class="na">content=</span><span class="s">&quot;musician&quot;</span> <span class="nt">/&gt;</span>
</pre></div>
</td></tr></table></div>
<p>In the previous example, we set the property to og:type. The og references the Open Graph namespace we specified in
the html tag. The content identifies the page as being about a musician. See the <a class="reference external" href="http://opengraphprotocol.org/">Open Graph Protocol
documentation</a> for supported properties. The <a class="reference internal" href="zend.view.helpers.head-meta.html#zend-view-helpers-initial-headmeta"><em>HeadMeta helper</em></a> may be
used to programmatically set these Open Graph Protocol meta tags.</p>
<p>Here is how you check if the doctype is set to XHTML1_RDFA:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">doctype</span><span class="p">()</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;</span>
<span class="x">      </span><span class="cp">&lt;?php</span> <span class="k">if</span> <span class="p">(</span><span class="nv">$view</span><span class="o">-&gt;</span><span class="na">doctype</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">isRdfa</span><span class="p">())</span><span class="o">:</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">      xmlns:og=&quot;http://opengraphprotocol.org/schema/&quot;</span>
<span class="x">      xmlns:fb=&quot;http://www.facebook.com/2008/fbml&quot;</span>
<span class="x">      </span><span class="cp">&lt;?php</span> <span class="k">endif</span><span class="p">;</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">&gt;</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="headlink-helper">
<span id="zend-view-helpers-initial-headlink"></span><h1>HeadLink Helper<a class="headerlink" href="#headlink-helper" title="Permalink to this headline">¶</a></h1>
<p>The <em>HTML</em> <strong>&lt;link&gt;</strong> element is increasingly used for linking a variety of resources for your site: stylesheets,
feeds, favicons, trackbacks, and more. The <tt class="docutils literal"><span class="pre">HeadLink</span></tt> helper provides a simple interface for creating and
aggregating these elements for later retrieval and output in your layout script.</p>
<p>The <tt class="docutils literal"><span class="pre">HeadLink</span></tt> helper has special methods for adding stylesheet links to its stack:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">appendStylesheet($href,</span> <span class="pre">$media,</span> <span class="pre">$conditionalStylesheet,</span> <span class="pre">$extras)</span></tt></li>
<li><tt class="docutils literal"><span class="pre">offsetSetStylesheet($index,</span> <span class="pre">$href,</span> <span class="pre">$media,</span> <span class="pre">$conditionalStylesheet,</span> <span class="pre">$extras)</span></tt></li>
<li><tt class="docutils literal"><span class="pre">prependStylesheet($href,</span> <span class="pre">$media,</span> <span class="pre">$conditionalStylesheet,</span> <span class="pre">$extras)</span></tt></li>
<li><tt class="docutils literal"><span class="pre">setStylesheet($href,</span> <span class="pre">$media,</span> <span class="pre">$conditionalStylesheet,</span> <span class="pre">$extras)</span></tt></li>
</ul>
<p>The <tt class="docutils literal"><span class="pre">$media</span></tt> value defaults to &#8216;screen&#8217;, but may be any valid media value. <tt class="docutils literal"><span class="pre">$conditionalStylesheet</span></tt> is a string
or boolean <tt class="docutils literal"><span class="pre">FALSE</span></tt>, and will be used at rendering time to determine if special comments should be included to
prevent loading of the stylesheet on certain platforms. <tt class="docutils literal"><span class="pre">$extras</span></tt> is an array of any extra values that you want
to be added to the tag.</p>
<p>Additionally, the <tt class="docutils literal"><span class="pre">HeadLink</span></tt> helper has special methods for adding &#8216;alternate&#8217; links to its stack:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">appendAlternate($href,</span> <span class="pre">$type,</span> <span class="pre">$title,</span> <span class="pre">$extras)</span></tt></li>
<li><tt class="docutils literal"><span class="pre">offsetSetAlternate($index,</span> <span class="pre">$href,</span> <span class="pre">$type,</span> <span class="pre">$title,</span> <span class="pre">$extras)</span></tt></li>
<li><tt class="docutils literal"><span class="pre">prependAlternate($href,</span> <span class="pre">$type,</span> <span class="pre">$title,</span> <span class="pre">$extras)</span></tt></li>
<li><tt class="docutils literal"><span class="pre">setAlternate($href,</span> <span class="pre">$type,</span> <span class="pre">$title,</span> <span class="pre">$extras)</span></tt></li>
</ul>
<p>The <tt class="docutils literal"><span class="pre">headLink()</span></tt> helper method allows specifying all attributes necessary for a <strong>&lt;link&gt;</strong> element, and allows
you to also specify placement &#8211; whether the new element replaces all others, prepends (top of stack), or appends
(end of stack).</p>
<p>The <tt class="docutils literal"><span class="pre">HeadLink</span></tt> helper is a concrete implementation of the <a class="reference internal" href="zend.view.helpers.placeholder.html#zend-view-helpers-initial-placeholder"><em>Placeholder helper</em></a>.</p>
<p class="rubric" id="zend-view-helpers-initial-headlink-basicusage">HeadLink Helper Basic Usage</p>
<p>You may specify a <strong>headLink</strong> at any time. Typically, you will specify global links in your layout script, and
application specific links in your application view scripts. In your layout script, in the &lt;head&gt; section, you will
then echo the helper to output it.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span> <span class="c1">// setting links in a view script:</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">headLink</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">appendStylesheet</span><span class="p">(</span><span class="s1">&#39;/styles/basic.css&#39;</span><span class="p">)</span>
                 <span class="o">-&gt;</span><span class="na">headLink</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;rel&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;icon&#39;</span><span class="p">,</span>
                                  <span class="s1">&#39;href&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;/img/favicon.ico&#39;</span><span class="p">),</span>
                                  <span class="s1">&#39;PREPEND&#39;</span><span class="p">)</span>
                 <span class="o">-&gt;</span><span class="na">prependStylesheet</span><span class="p">(</span><span class="s1">&#39;/styles/moz.css&#39;</span><span class="p">,</span>
                                     <span class="s1">&#39;screen&#39;</span><span class="p">,</span>
                                     <span class="k">true</span><span class="p">,</span>
                                     <span class="k">array</span><span class="p">(</span><span class="s1">&#39;id&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;my_stylesheet&#39;</span><span class="p">));</span>
<span class="cp">?&gt;</span><span class="x"></span>
<span class="cp">&lt;?php</span> <span class="c1">// rendering the links: ?&gt;</span>
<span class="o">&lt;?</span><span class="nx">php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">headLink</span><span class="p">()</span> <span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="headmeta-helper">
<span id="zend-view-helpers-initial-headmeta"></span><h1>HeadMeta Helper<a class="headerlink" href="#headmeta-helper" title="Permalink to this headline">¶</a></h1>
<p>The <em>HTML</em> <strong>&lt;meta&gt;</strong> element is used to provide meta information about your <em>HTML</em> document &#8211; typically keywords,
document character set, caching pragmas, etc. Meta tags may be either of the &#8216;http-equiv&#8217; or &#8216;name&#8217; types, must
contain a &#8216;content&#8217; attribute, and can also have either of the &#8216;lang&#8217; or &#8216;scheme&#8217; modifier attributes.</p>
<p>The <tt class="docutils literal"><span class="pre">HeadMeta</span></tt> helper supports the following methods for setting and adding meta tags:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">appendName($keyValue,</span> <span class="pre">$content,</span> <span class="pre">$conditionalName)</span></tt></li>
<li><tt class="docutils literal"><span class="pre">offsetSetName($index,</span> <span class="pre">$keyValue,</span> <span class="pre">$content,</span> <span class="pre">$conditionalName)</span></tt></li>
<li><tt class="docutils literal"><span class="pre">prependName($keyValue,</span> <span class="pre">$content,</span> <span class="pre">$conditionalName)</span></tt></li>
<li><tt class="docutils literal"><span class="pre">setName($keyValue,</span> <span class="pre">$content,</span> <span class="pre">$modifiers)</span></tt></li>
<li><tt class="docutils literal"><span class="pre">appendHttpEquiv($keyValue,</span> <span class="pre">$content,</span> <span class="pre">$conditionalHttpEquiv)</span></tt></li>
<li><tt class="docutils literal"><span class="pre">offsetSetHttpEquiv($index,</span> <span class="pre">$keyValue,</span> <span class="pre">$content,</span> <span class="pre">$conditionalHttpEquiv)</span></tt></li>
<li><tt class="docutils literal"><span class="pre">prependHttpEquiv($keyValue,</span> <span class="pre">$content,</span> <span class="pre">$conditionalHttpEquiv)</span></tt></li>
<li><tt class="docutils literal"><span class="pre">setHttpEquiv($keyValue,</span> <span class="pre">$content,</span> <span class="pre">$modifiers)</span></tt></li>
<li><tt class="docutils literal"><span class="pre">setCharset($charset)</span></tt></li>
</ul>
<p>The following methods are also supported with XHTML1_RDFA doctype set with the <a class="reference internal" href="zend.view.helpers.doctype.html#zend-view-helpers-initial-doctype"><em>Doctype helper</em></a>:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">appendProperty($property,</span> <span class="pre">$content,</span> <span class="pre">$modifiers)</span></tt></li>
<li><tt class="docutils literal"><span class="pre">offsetSetProperty($index,</span> <span class="pre">$property,</span> <span class="pre">$content,</span> <span class="pre">$modifiers)</span></tt></li>
<li><tt class="docutils literal"><span class="pre">prependProperty($property,</span> <span class="pre">$content,</span> <span class="pre">$modifiers)</span></tt></li>
<li><tt class="docutils literal"><span class="pre">setProperty($property,</span> <span class="pre">$content,</span> <span class="pre">$modifiers)</span></tt></li>
</ul>
<p>The <tt class="docutils literal"><span class="pre">$keyValue</span></tt> item is used to define a value for the &#8216;name&#8217; or &#8216;http-equiv&#8217; key; <tt class="docutils literal"><span class="pre">$content</span></tt> is the value for
the &#8216;content&#8217; key, and <tt class="docutils literal"><span class="pre">$modifiers</span></tt> is an optional associative array that can contain keys for &#8216;lang&#8217; and/or
&#8216;scheme&#8217;.</p>
<p>You may also set meta tags using the <tt class="docutils literal"><span class="pre">headMeta()</span></tt> helper method, which has the following signature:
<tt class="docutils literal"><span class="pre">headMeta($content,</span> <span class="pre">$keyValue,</span> <span class="pre">$keyType</span> <span class="pre">=</span> <span class="pre">'name',</span> <span class="pre">$modifiers</span> <span class="pre">=</span> <span class="pre">array(),</span> <span class="pre">$placement</span> <span class="pre">=</span> <span class="pre">'APPEND')</span></tt>. <tt class="docutils literal"><span class="pre">$keyValue</span></tt> is
the content for the key specified in <tt class="docutils literal"><span class="pre">$keyType</span></tt>, which should be either &#8216;name&#8217; or &#8216;http-equiv&#8217;. <tt class="docutils literal"><span class="pre">$keyType</span></tt> may
also be specified as &#8216;property&#8217; if the doctype has been set to XHTML1_RDFA. <tt class="docutils literal"><span class="pre">$placement</span></tt> can be &#8216;SET&#8217; (overwrites
all previously stored values), &#8216;APPEND&#8217; (added to end of stack), or &#8216;PREPEND&#8217; (added to top of stack).</p>
<p><tt class="docutils literal"><span class="pre">HeadMeta</span></tt> overrides each of <tt class="docutils literal"><span class="pre">append()</span></tt>, <tt class="docutils literal"><span class="pre">offsetSet()</span></tt>, <tt class="docutils literal"><span class="pre">prepend()</span></tt>, and <tt class="docutils literal"><span class="pre">set()</span></tt> to enforce usage of the
special methods as listed above. Internally, it stores each item as a <tt class="docutils literal"><span class="pre">stdClass</span></tt> token, which it later serializes
using the <tt class="docutils literal"><span class="pre">itemToString()</span></tt> method. This allows you to perform checks on the items in the stack, and optionally
modify these items by simply modifying the object returned.</p>
<p>The <tt class="docutils literal"><span class="pre">HeadMeta</span></tt> helper is a concrete implementation of the <a class="reference internal" href="zend.view.helpers.placeholder.html#zend-view-helpers-initial-placeholder"><em>Placeholder helper</em></a>.</p>
<p class="rubric" id="zend-view-helpers-initial-headmeta-basicusage">HeadMeta Helper Basic Usage</p>
<p>You may specify a new meta tag at any time. Typically, you will specify client-side caching rules or SEO keywords.</p>
<p>For instance, if you wish to specify SEO keywords, you&#8217;d be creating a meta name tag with the name &#8216;keywords&#8217; and
the content the keywords you wish to associate with your page:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1">// setting meta keywords</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">headMeta</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">appendName</span><span class="p">(</span><span class="s1">&#39;keywords&#39;</span><span class="p">,</span> <span class="s1">&#39;framework, PHP, productivity&#39;</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>If you wished to set some client-side caching rules, you&#8217;d set http-equiv tags with the rules you wish to enforce:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1">// disabling client-side cache</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">headMeta</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">appendHttpEquiv</span><span class="p">(</span><span class="s1">&#39;expires&#39;</span><span class="p">,</span>
                                   <span class="s1">&#39;Wed, 26 Feb 1997 08:21:57 GMT&#39;</span><span class="p">)</span>
                 <span class="o">-&gt;</span><span class="na">appendHttpEquiv</span><span class="p">(</span><span class="s1">&#39;pragma&#39;</span><span class="p">,</span> <span class="s1">&#39;no-cache&#39;</span><span class="p">)</span>
                 <span class="o">-&gt;</span><span class="na">appendHttpEquiv</span><span class="p">(</span><span class="s1">&#39;Cache-Control&#39;</span><span class="p">,</span> <span class="s1">&#39;no-cache&#39;</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>Another popular use for meta tags is setting the content type, character set, and language:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1">// setting content type and character set</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">headMeta</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">appendHttpEquiv</span><span class="p">(</span><span class="s1">&#39;Content-Type&#39;</span><span class="p">,</span>
                                   <span class="s1">&#39;text/html; charset=UTF-8&#39;</span><span class="p">)</span>
                 <span class="o">-&gt;</span><span class="na">appendHttpEquiv</span><span class="p">(</span><span class="s1">&#39;Content-Language&#39;</span><span class="p">,</span> <span class="s1">&#39;en-US&#39;</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>If you are serving an <em>HTML</em>5 document, you should provide the character set like this:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1">// setting character set in HTML5</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">headMeta</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setCharset</span><span class="p">(</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">);</span> <span class="c1">// Will look like &lt;meta charset=&quot;UTF-8&quot;&gt;</span>
</pre></div>
</td></tr></table></div>
<p>As a final example, an easy way to display a transitional message before a redirect is using a &#8220;meta refresh&#8221;:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1">// setting a meta refresh for 3 seconds to a new url:</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">headMeta</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">appendHttpEquiv</span><span class="p">(</span><span class="s1">&#39;Refresh&#39;</span><span class="p">,</span>
                                   <span class="s1">&#39;3;URL=http://www.some.org/some.html&#39;</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>When you&#8217;re ready to place your meta tags in the layout, simply echo the helper:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">headMeta</span><span class="p">()</span> <span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</td></tr></table></div>
<p class="rubric" id="zend-view-helpers-initial-headmeta-property">HeadMeta Usage with XHTML1_RDFA doctype</p>
<p>Enabling the RDFa doctype with the <a class="reference internal" href="zend.view.helpers.doctype.html#zend-view-helpers-initial-doctype"><em>Doctype helper</em></a> enables the use of the
&#8216;property&#8217; attribute (in addition to the standard &#8216;name&#8217; and &#8216;http-equiv&#8217;) with HeadMeta. This is commonly used
with the Facebook <a class="reference external" href="http://opengraphprotocol.org/">Open Graph Protocol</a>.</p>
<p>For instance, you may specify an open graph page title and type as follows:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">doctype</span><span class="p">(</span><span class="nx">Zend_View_Helper_Doctype</span><span class="o">::</span><span class="na">XHTML_RDFA</span><span class="p">);</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">headMeta</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setProperty</span><span class="p">(</span><span class="s1">&#39;og:title&#39;</span><span class="p">,</span> <span class="s1">&#39;my article title&#39;</span><span class="p">);</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">headMeta</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setProperty</span><span class="p">(</span><span class="s1">&#39;og:type&#39;</span><span class="p">,</span> <span class="s1">&#39;article&#39;</span><span class="p">);</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">headMeta</span><span class="p">();</span>

<span class="c1">// output is:</span>
<span class="c1">//   &lt;meta property=&quot;og:title&quot; content=&quot;my article title&quot; /&gt;</span>
<span class="c1">//   &lt;meta property=&quot;og:type&quot; content=&quot;article&quot; /&gt;</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="headscript-helper">
<span id="zend-view-helpers-initial-headscript"></span><h1>HeadScript Helper<a class="headerlink" href="#headscript-helper" title="Permalink to this headline">¶</a></h1>
<p>The <em>HTML</em> <strong>&lt;script&gt;</strong> element is used to either provide inline client-side scripting elements or link to a remote
resource containing client-side scripting code. The <tt class="docutils literal"><span class="pre">HeadScript</span></tt> helper allows you to manage both.</p>
<p>The <tt class="docutils literal"><span class="pre">HeadScript</span></tt> helper supports the following methods for setting and adding scripts:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">appendFile($src,</span> <span class="pre">$type</span> <span class="pre">=</span> <span class="pre">'text/javascript',</span> <span class="pre">$attrs</span> <span class="pre">=</span> <span class="pre">array())</span></tt></li>
<li><tt class="docutils literal"><span class="pre">offsetSetFile($index,</span> <span class="pre">$src,</span> <span class="pre">$type</span> <span class="pre">=</span> <span class="pre">'text/javascript',</span> <span class="pre">$attrs</span> <span class="pre">=</span> <span class="pre">array())</span></tt></li>
<li><tt class="docutils literal"><span class="pre">prependFile($src,</span> <span class="pre">$type</span> <span class="pre">=</span> <span class="pre">'text/javascript',</span> <span class="pre">$attrs</span> <span class="pre">=</span> <span class="pre">array())</span></tt></li>
<li><tt class="docutils literal"><span class="pre">setFile($src,</span> <span class="pre">$type</span> <span class="pre">=</span> <span class="pre">'text/javascript',</span> <span class="pre">$attrs</span> <span class="pre">=</span> <span class="pre">array())</span></tt></li>
<li><tt class="docutils literal"><span class="pre">appendScript($script,</span> <span class="pre">$type</span> <span class="pre">=</span> <span class="pre">'text/javascript',</span> <span class="pre">$attrs</span> <span class="pre">=</span> <span class="pre">array())</span></tt></li>
<li><tt class="docutils literal"><span class="pre">offsetSetScript($index,</span> <span class="pre">$script,</span> <span class="pre">$type</span> <span class="pre">=</span> <span class="pre">'text/javascript',</span> <span class="pre">$attrs</span> <span class="pre">=</span> <span class="pre">array())</span></tt></li>
<li><tt class="docutils literal"><span class="pre">prependScript($script,</span> <span class="pre">$type</span> <span class="pre">=</span> <span class="pre">'text/javascript',</span> <span class="pre">$attrs</span> <span class="pre">=</span> <span class="pre">array())</span></tt></li>
<li><tt class="docutils literal"><span class="pre">setScript($script,</span> <span class="pre">$type</span> <span class="pre">=</span> <span class="pre">'text/javascript',</span> <span class="pre">$attrs</span> <span class="pre">=</span> <span class="pre">array())</span></tt></li>
</ul>
<p>In the case of the * <tt class="docutils literal"><span class="pre">File()</span></tt> methods, <tt class="docutils literal"><span class="pre">$src</span></tt> is the remote location of the script to load; this is usually in
the form of a <em>URL</em> or a path. For the * <tt class="docutils literal"><span class="pre">Script()</span></tt> methods, <tt class="docutils literal"><span class="pre">$script</span></tt> is the client-side scripting directives
you wish to use in the element.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>Setting Conditional Comments</strong></p>
<p><tt class="docutils literal"><span class="pre">HeadScript</span></tt> allows you to wrap the script tag in conditional comments, which allows you to hide it from
specific browsers. To add the conditional tags, pass the conditional value as part of the <tt class="docutils literal"><span class="pre">$attrs</span></tt> parameter
in the method calls.</p>
<p class="rubric" id="zend-view-helpers-initial-headscript-conditional">Headscript With Conditional Comments</p>
<div class="last highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1">// adding scripts</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">headScript</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">appendFile</span><span class="p">(</span>
    <span class="s1">&#39;/js/prototype.js&#39;</span><span class="p">,</span>
    <span class="s1">&#39;text/javascript&#39;</span><span class="p">,</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">&#39;conditional&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;lt IE 7&#39;</span><span class="p">)</span>
<span class="p">);</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>Preventing HTML style comments or CDATA wrapping of scripts</strong></p>
<p>By default <tt class="docutils literal"><span class="pre">HeadScript</span></tt> will wrap scripts with HTML comments or it wraps scripts with XHTML cdata. This
behavior can be problematic when you intend to use the script tag in an alternative way by setting the type to
something other then &#8216;text/javascript&#8217;. To prevent such escaping, pass an <tt class="docutils literal"><span class="pre">noescape</span></tt> with a value of true as
part of the <tt class="docutils literal"><span class="pre">$attrs</span></tt> parameter in the method calls.</p>
<p class="rubric" id="zend-view-helpers-initial-headscript-noescape">Create an jQuery template with the headScript</p>
<div class="last highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1">// jquery template</span>
<span class="nv">$template</span> <span class="o">=</span> <span class="s1">&#39;&lt;div class=&quot;book&quot;&gt;{{:title}}&lt;/div&gt;&#39;</span><span class="p">;</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">headScript</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">appendScript</span><span class="p">(</span>
    <span class="nv">$template</span><span class="p">,</span>
    <span class="s1">&#39;text/x-jquery-tmpl&#39;</span><span class="p">,</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">&#39;id=&#39;</span><span class="nx">tmpl</span><span class="o">-</span><span class="nx">book</span><span class="s1">&#39;, &#39;</span><span class="nx">noescape</span><span class="err">&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">)</span>
<span class="p">);</span>
</pre></div>
</td></tr></table></div>
</div>
<p><tt class="docutils literal"><span class="pre">HeadScript</span></tt> also allows capturing scripts; this can be useful if you want to create the client-side script
programmatically, and then place it elsewhere. The usage for this will be showed in an example below.</p>
<p>Finally, you can also use the <tt class="docutils literal"><span class="pre">headScript()</span></tt> method to quickly add script elements; the signature for this is
<tt class="docutils literal"><span class="pre">headScript($mode</span> <span class="pre">=</span> <span class="pre">'FILE',</span> <span class="pre">$spec,</span> <span class="pre">$placement</span> <span class="pre">=</span> <span class="pre">'APPEND')</span></tt>. The <tt class="docutils literal"><span class="pre">$mode</span></tt> is either &#8216;FILE&#8217; or &#8216;SCRIPT&#8217;, depending
on if you&#8217;re linking a script or defining one. <tt class="docutils literal"><span class="pre">$spec</span></tt> is either the script file to link or the script source
itself. <tt class="docutils literal"><span class="pre">$placement</span></tt> should be either &#8216;APPEND&#8217;, &#8216;PREPEND&#8217;, or &#8216;SET&#8217;.</p>
<p><tt class="docutils literal"><span class="pre">HeadScript</span></tt> overrides each of <tt class="docutils literal"><span class="pre">append()</span></tt>, <tt class="docutils literal"><span class="pre">offsetSet()</span></tt>, <tt class="docutils literal"><span class="pre">prepend()</span></tt>, and <tt class="docutils literal"><span class="pre">set()</span></tt> to enforce usage of
the special methods as listed above. Internally, it stores each item as a <tt class="docutils literal"><span class="pre">stdClass</span></tt> token, which it later
serializes using the <tt class="docutils literal"><span class="pre">itemToString()</span></tt> method. This allows you to perform checks on the items in the stack, and
optionally modify these items by simply modifying the object returned.</p>
<p>The <tt class="docutils literal"><span class="pre">HeadScript</span></tt> helper is a concrete implementation of the <a class="reference internal" href="zend.view.helpers.placeholder.html#zend-view-helpers-initial-placeholder"><em>Placeholder helper</em></a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>Use InlineScript for HTML Body Scripts</strong></p>
<p class="last"><tt class="docutils literal"><span class="pre">HeadScript</span></tt>&#8216;s sibling helper, <a class="reference internal" href="zend.view.helpers.inline-script.html#zend-view-helpers-initial-inlinescript"><em>InlineScript</em></a>, should be used
when you wish to include scripts inline in the <em>HTML</em> <strong>body</strong>. Placing scripts at the end of your document is a
good practice for speeding up delivery of your page, particularly when using 3rd party analytics scripts.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>Arbitrary Attributes are Disabled by Default</strong></p>
<p>By default, <tt class="docutils literal"><span class="pre">HeadScript</span></tt> only will render <strong>&lt;script&gt;</strong> attributes that are blessed by the W3C. These include
&#8216;type&#8217;, &#8216;charset&#8217;, &#8216;defer&#8217;, &#8216;language&#8217;, and &#8216;src&#8217;. However, some javascript frameworks, notably <a class="reference external" href="http://www.dojotoolkit.org/">Dojo</a>, utilize
custom attributes in order to modify behavior. To allow such attributes, you can enable them via the
<tt class="docutils literal"><span class="pre">setAllowArbitraryAttributes()</span></tt> method:</p>
<div class="last highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">headScript</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setAllowArbitraryAttributes</span><span class="p">(</span><span class="k">true</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
</div>
<p class="rubric" id="zend-view-helpers-initial-headscript-basicusage">HeadScript Helper Basic Usage</p>
<p>You may specify a new script tag at any time. As noted above, these may be links to outside resource files or
scripts themselves.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1">// adding scripts</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">headScript</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">appendFile</span><span class="p">(</span><span class="s1">&#39;/js/prototype.js&#39;</span><span class="p">)</span>
                   <span class="o">-&gt;</span><span class="na">appendScript</span><span class="p">(</span><span class="nv">$onloadScript</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>Order is often important with client-side scripting; you may need to ensure that libraries are loaded in a specific
order due to dependencies each have; use the various append, prepend, and offsetSet directives to aid in this task:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1">// Putting scripts in order</span>

<span class="c1">// place at a particular offset to ensure loaded last</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">headScript</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">offsetSetFile</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="s1">&#39;/js/myfuncs.js&#39;</span><span class="p">);</span>

<span class="c1">// use scriptaculous effects (append uses next index, 101)</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">headScript</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">appendFile</span><span class="p">(</span><span class="s1">&#39;/js/scriptaculous.js&#39;</span><span class="p">);</span>

<span class="c1">// but always have base prototype script load first:</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">headScript</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">prependFile</span><span class="p">(</span><span class="s1">&#39;/js/prototype.js&#39;</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>When you&#8217;re finally ready to output all scripts in your layout script, simply echo the helper:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">headScript</span><span class="p">()</span> <span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</td></tr></table></div>
<p class="rubric" id="zend-view-helpers-initial-headscript-capture">Capturing Scripts Using the HeadScript Helper</p>
<p>Sometimes you need to generate client-side scripts programmatically. While you could use string concatenation,
heredocs, and the like, often it&#8217;s easier just to do so by creating the script and sprinkling in <em>PHP</em> tags.
<tt class="docutils literal"><span class="pre">HeadScript</span></tt> lets you do just that, capturing it to the stack:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">headScript</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">captureStart</span><span class="p">()</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">var action = &#39;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">baseUrl</span> <span class="cp">?&gt;</span><span class="x">&#39;;</span>
<span class="x">$(&#39;foo_form&#39;).action = action;</span>
<span class="cp">&lt;?php</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">headScript</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">captureEnd</span><span class="p">()</span> <span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</td></tr></table></div>
<p>The following assumptions are made:</p>
<ul class="simple">
<li>The script will be appended to the stack. If you wish for it to replace the stack or be added to the top, you
will need to pass &#8216;SET&#8217; or &#8216;PREPEND&#8217;, respectively, as the first argument to <tt class="docutils literal"><span class="pre">captureStart()</span></tt>.</li>
<li>The script <em>MIME</em> type is assumed to be &#8216;text/javascript&#8217;; if you wish to specify a different type, you will need
to pass it as the second argument to <tt class="docutils literal"><span class="pre">captureStart()</span></tt>.</li>
<li>If you wish to specify any additional attributes for the <strong>&lt;script&gt;</strong> tag, pass them in an array as the third
argument to <tt class="docutils literal"><span class="pre">captureStart()</span></tt>.</li>
</ul>
</div>
<div class="section" id="headstyle-helper">
<span id="zend-view-helpers-initial-headstyle"></span><h1>HeadStyle Helper<a class="headerlink" href="#headstyle-helper" title="Permalink to this headline">¶</a></h1>
<p>The <em>HTML</em> <strong>&lt;style&gt;</strong> element is used to include <em>CSS</em> stylesheets inline in the <em>HTML</em> <strong>&lt;head&gt;</strong> element.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>Use HeadLink to link CSS files</strong></p>
<p class="last"><a class="reference internal" href="zend.view.helpers.head-link.html#zend-view-helpers-initial-headlink"><em>HeadLink</em></a> should be used to create <strong>&lt;link&gt;</strong> elements for including
external stylesheets. <tt class="docutils literal"><span class="pre">HeadStyle</span></tt> is used when you wish to define your stylesheets inline.</p>
</div>
<p>The <tt class="docutils literal"><span class="pre">HeadStyle</span></tt> helper supports the following methods for setting and adding stylesheet declarations:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">appendStyle($content,</span> <span class="pre">$attributes</span> <span class="pre">=</span> <span class="pre">array())</span></tt></li>
<li><tt class="docutils literal"><span class="pre">offsetSetStyle($index,</span> <span class="pre">$content,</span> <span class="pre">$attributes</span> <span class="pre">=</span> <span class="pre">array())</span></tt></li>
<li><tt class="docutils literal"><span class="pre">prependStyle($content,</span> <span class="pre">$attributes</span> <span class="pre">=</span> <span class="pre">array())</span></tt></li>
<li><tt class="docutils literal"><span class="pre">setStyle($content,</span> <span class="pre">$attributes</span> <span class="pre">=</span> <span class="pre">array())</span></tt></li>
</ul>
<p>In all cases, <tt class="docutils literal"><span class="pre">$content</span></tt> is the actual <em>CSS</em> declarations. <tt class="docutils literal"><span class="pre">$attributes</span></tt> are any additional attributes you wish
to provide to the <tt class="docutils literal"><span class="pre">style</span></tt> tag: lang, title, media, or dir are all permissible.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>Setting Conditional Comments</strong></p>
<p><tt class="docutils literal"><span class="pre">HeadStyle</span></tt> allows you to wrap the style tag in conditional comments, which allows you to hide it from
specific browsers. To add the conditional tags, pass the conditional value as part of the <tt class="docutils literal"><span class="pre">$attributes</span></tt>
parameter in the method calls.</p>
<p class="rubric" id="zend-view-helpers-initial-headstyle-conditional">Headstyle With Conditional Comments</p>
<div class="last highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1">// adding scripts</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">headStyle</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">appendStyle</span><span class="p">(</span><span class="nv">$styles</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;conditional&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;lt IE 7&#39;</span><span class="p">));</span>
</pre></div>
</td></tr></table></div>
</div>
<p><tt class="docutils literal"><span class="pre">HeadStyle</span></tt> also allows capturing style declarations; this can be useful if you want to create the declarations
programmatically, and then place them elsewhere. The usage for this will be showed in an example below.</p>
<p>Finally, you can also use the <tt class="docutils literal"><span class="pre">headStyle()</span></tt> method to quickly add declarations elements; the signature for this
is <tt class="docutils literal"><span class="pre">headStyle($content$placement</span> <span class="pre">=</span> <span class="pre">'APPEND',</span> <span class="pre">$attributes</span> <span class="pre">=</span> <span class="pre">array())</span></tt>. <tt class="docutils literal"><span class="pre">$placement</span></tt> should be either &#8216;APPEND&#8217;,
&#8216;PREPEND&#8217;, or &#8216;SET&#8217;.</p>
<p><tt class="docutils literal"><span class="pre">HeadStyle</span></tt> overrides each of <tt class="docutils literal"><span class="pre">append()</span></tt>, <tt class="docutils literal"><span class="pre">offsetSet()</span></tt>, <tt class="docutils literal"><span class="pre">prepend()</span></tt>, and <tt class="docutils literal"><span class="pre">set()</span></tt> to enforce usage of the
special methods as listed above. Internally, it stores each item as a <tt class="docutils literal"><span class="pre">stdClass</span></tt> token, which it later serializes
using the <tt class="docutils literal"><span class="pre">itemToString()</span></tt> method. This allows you to perform checks on the items in the stack, and optionally
modify these items by simply modifying the object returned.</p>
<p>The <tt class="docutils literal"><span class="pre">HeadStyle</span></tt> helper is a concrete implementation of the <a class="reference internal" href="zend.view.helpers.placeholder.html#zend-view-helpers-initial-placeholder"><em>Placeholder helper</em></a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>UTF-8 encoding used by default</strong></p>
<p>By default, Zend Framework uses <em>UTF-8</em> as its default encoding, and, specific to this case, <tt class="docutils literal"><span class="pre">Zend_View</span></tt> does
as well. Character encoding can be set differently on the view object itself using the <tt class="docutils literal"><span class="pre">setEncoding()</span></tt> method
(or the the <tt class="docutils literal"><span class="pre">encoding</span></tt> instantiation parameter). However, since <tt class="docutils literal"><span class="pre">Zend_View_Interface</span></tt> does not define
accessors for encoding, it&#8217;s possible that if you are using a custom view implementation with this view helper,
you will not have a <tt class="docutils literal"><span class="pre">getEncoding()</span></tt> method, which is what the view helper uses internally for determining the
character set in which to encode.</p>
<p class="last">If you do not want to utilize <em>UTF-8</em> in such a situation, you will need to implement a <tt class="docutils literal"><span class="pre">getEncoding()</span></tt> method
in your custom view implementation.</p>
</div>
<p class="rubric" id="zend-view-helpers-initial-headstyle-basicusage">HeadStyle Helper Basic Usage</p>
<p>You may specify a new style tag at any time:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1">// adding styles</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">headStyle</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">appendStyle</span><span class="p">(</span><span class="nv">$styles</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>Order is very important with <em>CSS</em>; you may need to ensure that declarations are loaded in a specific order due to
the order of the cascade; use the various append, prepend, and offsetSet directives to aid in this task:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1">// Putting styles in order</span>

<span class="c1">// place at a particular offset:</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">headStyle</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">offsetSetStyle</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="nv">$customStyles</span><span class="p">);</span>

<span class="c1">// place at end:</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">headStyle</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">appendStyle</span><span class="p">(</span><span class="nv">$finalStyles</span><span class="p">);</span>

<span class="c1">// place at beginning</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">headStyle</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">prependStyle</span><span class="p">(</span><span class="nv">$firstStyles</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>When you&#8217;re finally ready to output all style declarations in your layout script, simply echo the helper:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">headStyle</span><span class="p">()</span> <span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</td></tr></table></div>
<p class="rubric" id="zend-view-helpers-initial-headstyle-capture">Capturing Style Declarations Using the HeadStyle Helper</p>
<p>Sometimes you need to generate <em>CSS</em> style declarations programmatically. While you could use string concatenation,
heredocs, and the like, often it&#8217;s easier just to do so by creating the styles and sprinkling in <em>PHP</em> tags.
<tt class="docutils literal"><span class="pre">HeadStyle</span></tt> lets you do just that, capturing it to the stack:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">headStyle</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">captureStart</span><span class="p">()</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">body {</span>
<span class="x">    background-color: </span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">bgColor</span> <span class="cp">?&gt;</span><span class="x">;</span>
<span class="x">}</span>
<span class="cp">&lt;?php</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">headStyle</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">captureEnd</span><span class="p">()</span> <span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</td></tr></table></div>
<p>The following assumptions are made:</p>
<ul class="simple">
<li>The style declarations will be appended to the stack. If you wish for them to replace the stack or be added to
the top, you will need to pass &#8216;SET&#8217; or &#8216;PREPEND&#8217;, respectively, as the first argument to <tt class="docutils literal"><span class="pre">captureStart()</span></tt>.</li>
<li>If you wish to specify any additional attributes for the <strong>&lt;style&gt;</strong> tag, pass them in an array as the second
argument to <tt class="docutils literal"><span class="pre">captureStart()</span></tt>.</li>
</ul>
</div>
<div class="section" id="headtitle-helper">
<span id="zend-view-helpers-initial-headtitle"></span><h1>HeadTitle Helper<a class="headerlink" href="#headtitle-helper" title="Permalink to this headline">¶</a></h1>
<p>The <em>HTML</em> <strong>&lt;title&gt;</strong> element is used to provide a title for an <em>HTML</em> document. The <tt class="docutils literal"><span class="pre">HeadTitle</span></tt> helper allows
you to programmatically create and store the title for later retrieval and output.</p>
<p>The <tt class="docutils literal"><span class="pre">HeadTitle</span></tt> helper is a concrete implementation of the <a class="reference internal" href="zend.view.helpers.placeholder.html#zend-view-helpers-initial-placeholder"><em>Placeholder helper</em></a>. It overrides the <tt class="docutils literal"><span class="pre">toString()</span></tt> method to enforce generating a
<strong>&lt;title&gt;</strong> element, and adds a <tt class="docutils literal"><span class="pre">headTitle()</span></tt> method for quick and easy setting and aggregation of title
elements. The signature for that method is <tt class="docutils literal"><span class="pre">headTitle($title,</span> <span class="pre">$setType</span> <span class="pre">=</span> <span class="pre">null)</span></tt>; by default, the value is
appended to the stack (aggregating title segments) if left at null, but you may also specify either &#8216;PREPEND&#8217;
(place at top of stack) or &#8216;SET&#8217; (overwrite stack).</p>
<p>Since setting the aggregating (attach) order on each call to <tt class="docutils literal"><span class="pre">headTitle</span></tt> can be cumbersome, you can set a default
attach order by calling <tt class="docutils literal"><span class="pre">setDefaultAttachOrder()</span></tt> which is applied to all <tt class="docutils literal"><span class="pre">headTitle()</span></tt> calls unless you
explicitly pass a different attach order as the second parameter.</p>
<p class="rubric" id="zend-view-helpers-initial-headtitle-basicusage">HeadTitle Helper Basic Usage</p>
<p>You may specify a title tag at any time. A typical usage would have you setting title segments for each level of
depth in your application: site, controller, action, and potentially resource.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre> <span class="c1">// setting the controller and action name as title segments:</span>
<span class="nv">$request</span> <span class="o">=</span> <span class="nx">Zend_Controller_Front</span><span class="o">::</span><span class="na">getInstance</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">getRequest</span><span class="p">();</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">headTitle</span><span class="p">(</span><span class="nv">$request</span><span class="o">-&gt;</span><span class="na">getActionName</span><span class="p">())</span>
     <span class="o">-&gt;</span><span class="na">headTitle</span><span class="p">(</span><span class="nv">$request</span><span class="o">-&gt;</span><span class="na">getControllerName</span><span class="p">());</span>

<span class="c1">// setting the site in the title; possibly in the layout script:</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">headTitle</span><span class="p">(</span><span class="s1">&#39;Zend Framework&#39;</span><span class="p">);</span>

<span class="c1">// setting a separator string for segments:</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">headTitle</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setSeparator</span><span class="p">(</span><span class="s1">&#39; / &#39;</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>When you&#8217;re finally ready to render the title in your layout script, simply echo the helper:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span class="o">&lt;!--</span> <span class="nx">renders</span> <span class="o">&lt;</span><span class="nx">action</span><span class="o">&gt;</span> <span class="o">/</span> <span class="o">&lt;</span><span class="nx">controller</span><span class="o">&gt;</span> <span class="o">/</span> <span class="nx">Zend</span> <span class="nx">Framework</span> <span class="o">--&gt;</span>
<span class="o">&lt;?</span><span class="nx">php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">headTitle</span><span class="p">()</span> <span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="html-object-helpers">
<span id="zend-view-helpers-initial-object"></span><h1>HTML Object Helpers<a class="headerlink" href="#html-object-helpers" title="Permalink to this headline">¶</a></h1>
<p>The <em>HTML</em> <strong>&lt;object&gt;</strong> element is used for embedding media like Flash or QuickTime in web pages. The object view
helpers take care of embedding media with minimum effort.</p>
<p>There are four initial Object helpers:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">htmlFlash()</span></tt> Generates markup for embedding Flash files.</li>
<li><tt class="docutils literal"><span class="pre">htmlObject()</span></tt> Generates markup for embedding a custom Object.</li>
<li><tt class="docutils literal"><span class="pre">htmlPage()</span></tt> Generates markup for embedding other (X)HTML pages.</li>
<li><tt class="docutils literal"><span class="pre">htmlQuicktime()</span></tt> Generates markup for embedding QuickTime files.</li>
</ul>
<p>All of these helpers share a similar interface. For this reason, this documentation will only contain examples of
two of these helpers.</p>
<p class="rubric" id="zend-view-helpers-initial-object-flash">Flash helper</p>
<p>Embedding Flash in your page using the helper is pretty straight-forward. The only required argument is the
resource <em>URI</em>.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">htmlFlash</span><span class="p">(</span><span class="s1">&#39;/path/to/flash.swf&#39;</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</td></tr></table></div>
<p>This outputs the following <em>HTML</em>:</p>
<div class="highlight-html"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span class="nt">&lt;object</span> <span class="na">data=</span><span class="s">&quot;/path/to/flash.swf&quot;</span>
        <span class="na">type=</span><span class="s">&quot;application/x-shockwave-flash&quot;</span>
        <span class="na">classid=</span><span class="s">&quot;clsid:D27CDB6E-AE6D-11cf-96B8-444553540000&quot;</span>
        <span class="na">codebase=</span><span class="s">&quot;http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;/object&gt;</span>
</pre></div>
</td></tr></table></div>
<p>Additionally you can specify attributes, parameters and content that can be rendered along with the <strong>&lt;object&gt;</strong>.
This will be demonstrated using the <tt class="docutils literal"><span class="pre">htmlObject()</span></tt> helper.</p>
<p class="rubric" id="zend-view-helpers-initial-object-object">Customizing the object by passing additional arguments</p>
<p>The first argument in the object helpers is always required. It is the <em>URI</em> to the resource you want to embed. The
second argument is only required in the <tt class="docutils literal"><span class="pre">htmlObject()</span></tt> helper. The other helpers already contain the correct
value for this argument. The third argument is used for passing along attributes to the object element. It only
accepts an array with key-value pairs. <tt class="docutils literal"><span class="pre">classid</span></tt> and <tt class="docutils literal"><span class="pre">codebase</span></tt> are examples of such attributes. The fourth
argument also only takes a key-value array and uses them to create <strong>&lt;param&gt;</strong> elements. You will see an example of
this shortly. Lastly, there is the option of providing additional content to the object. Now for an example which
utilizes all arguments.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">htmlObject</span><span class="p">(</span>
    <span class="s1">&#39;/path/to/file.ext&#39;</span><span class="p">,</span>
    <span class="s1">&#39;mime/type&#39;</span><span class="p">,</span>
    <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;attr1&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;aval1&#39;</span><span class="p">,</span>
        <span class="s1">&#39;attr2&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;aval2&#39;</span>
    <span class="p">),</span>
    <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;param1&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;pval1&#39;</span><span class="p">,</span>
        <span class="s1">&#39;param2&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;pval2&#39;</span>
    <span class="p">),</span>
    <span class="s1">&#39;some content&#39;</span>
<span class="p">);</span>

<span class="cm">/*</span>
<span class="cm">This would output:</span>

<span class="cm">&lt;object data=&quot;/path/to/file.ext&quot; type=&quot;mime/type&quot;</span>
<span class="cm">    attr1=&quot;aval1&quot; attr2=&quot;aval2&quot;&gt;</span>
<span class="cm">    &lt;param name=&quot;param1&quot; value=&quot;pval1&quot; /&gt;</span>
<span class="cm">    &lt;param name=&quot;param2&quot; value=&quot;pval2&quot; /&gt;</span>
<span class="cm">    some content</span>
<span class="cm">&lt;/object&gt;</span>
<span class="cm">*/</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="inlinescript-helper">
<span id="zend-view-helpers-initial-inlinescript"></span><h1>InlineScript Helper<a class="headerlink" href="#inlinescript-helper" title="Permalink to this headline">¶</a></h1>
<p>The <em>HTML</em> <strong>&lt;script&gt;</strong> element is used to either provide inline client-side scripting elements or link to a remote
resource containing client-side scripting code. The <tt class="docutils literal"><span class="pre">InlineScript</span></tt> helper allows you to manage both. It is
derived from <a class="reference internal" href="zend.view.helpers.head-script.html#zend-view-helpers-initial-headscript"><em>HeadScript</em></a>, and any method of that helper is available;
however, use the <tt class="docutils literal"><span class="pre">inlineScript()</span></tt> method in place of <tt class="docutils literal"><span class="pre">headScript()</span></tt>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>Use InlineScript for HTML Body Scripts</strong></p>
<p><tt class="docutils literal"><span class="pre">InlineScript</span></tt>, should be used when you wish to include scripts inline in the <em>HTML</em> <strong>body</strong>. Placing scripts
at the end of your document is a good practice for speeding up delivery of your page, particularly when using
3rd party analytics scripts.</p>
<p class="last">Some JS libraries need to be included in the <em>HTML</em> <strong>head</strong>; use <a class="reference internal" href="zend.view.helpers.head-script.html#zend-view-helpers-initial-headscript"><em>HeadScript</em></a> for those scripts.</p>
</div>
</div>
<div class="section" id="json-helper">
<span id="zend-view-helpers-initial-json"></span><h1>JSON Helper<a class="headerlink" href="#json-helper" title="Permalink to this headline">¶</a></h1>
<p>When creating views that return <em>JSON</em>, it&#8217;s important to also set the appropriate response header. The <em>JSON</em> view
helper does exactly that. In addition, by default, it disables layouts (if currently enabled), as layouts generally
aren&#8217;t used with <em>JSON</em> responses.</p>
<p>The <em>JSON</em> helper sets the following header:</p>
<div class="highlight-text"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre>Content-Type: application/json
</pre></div>
</td></tr></table></div>
<p>Most <em>AJAX</em> libraries look for this header when parsing responses to determine how to handle the content.</p>
<p>Usage of the <em>JSON</em> helper is very straightforward:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">json</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">data</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</td></tr></table></div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>Keeping layouts and enabling encoding using Zend_Json_Expr</strong></p>
<p>Each method in the <em>JSON</em> helper accepts a second, optional argument. This second argument can be a boolean flag
to enable or disable layouts, or an array of options that will be passed to <tt class="docutils literal"><span class="pre">Zend_Json::encode()</span></tt> and used
internally to encode data.</p>
<p>To keep layouts, the second parameter needs to be boolean <tt class="docutils literal"><span class="pre">TRUE</span></tt>. When the second parameter is an array,
keeping layouts can be achieved by including a <tt class="docutils literal"><span class="pre">keepLayouts</span></tt> key with a value of a boolean <tt class="docutils literal"><span class="pre">TRUE</span></tt>.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1">// Boolean true as second argument enables layouts:</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">json</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">data</span><span class="p">,</span> <span class="k">true</span><span class="p">);</span>

<span class="c1">// Or boolean true as &quot;keepLayouts&quot; key:</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">json</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">data</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;keepLayouts&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">));</span>
</pre></div>
</td></tr></table></div>
<p><tt class="docutils literal"><span class="pre">Zend_Json::encode</span></tt> allows the encoding of native <em>JSON</em> expressions using <tt class="docutils literal"><span class="pre">Zend_Json_Expr</span></tt> objects. This
option is disabled by default. To enable this option, pass a boolean <tt class="docutils literal"><span class="pre">TRUE</span></tt> to the <tt class="docutils literal"><span class="pre">enableJsonExprFinder</span></tt>
key of the options array:</p>
<div class="last highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">json</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">data</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;enableJsonExprFinder&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">,</span>
    <span class="s1">&#39;keepLayouts&#39;</span>          <span class="o">=&gt;</span> <span class="k">true</span><span class="p">,</span>
<span class="p">))</span> <span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</td></tr></table></div>
</div>
</div>
<div class="section" id="navigation-helpers">
<span id="zend-view-helpers-initial-navigation"></span><h1>Navigation Helpers<a class="headerlink" href="#navigation-helpers" title="Permalink to this headline">¶</a></h1>
<p>The navigation helpers are used for rendering navigational elements from <a class="reference internal" href="zend.navigation.containers.html#zend-navigation-containers"><em>Zend_Navigation_Container</em></a> instances.</p>
<p>There are 5 built-in helpers:</p>
<ul class="simple">
<li><a class="reference internal" href="zend.view.helpers.navigation.html#zend-view-helpers-initial-navigation-breadcrumbs"><em>Breadcrumbs</em></a>, used for rendering the path to the
currently active page.</li>
<li><a class="reference internal" href="zend.view.helpers.navigation.html#zend-view-helpers-initial-navigation-links"><em>Links</em></a>, used for rendering navigational head links (e.g.
<tt class="docutils literal"><span class="pre">&lt;link</span> <span class="pre">rel=&quot;next&quot;</span> <span class="pre">href=&quot;...&quot;</span> <span class="pre">/&gt;</span></tt>)</li>
<li><a class="reference internal" href="zend.view.helpers.navigation.html#zend-view-helpers-initial-navigation-menu"><em>Menu</em></a>, used for rendering menus.</li>
<li><a class="reference internal" href="zend.view.helpers.navigation.html#zend-view-helpers-initial-navigation-sitemap"><em>Sitemap</em></a>, used for rendering sitemaps conforming to the
<a class="reference external" href="http://www.sitemaps.org/protocol.php">Sitemaps XML format</a>.</li>
<li><a class="reference internal" href="zend.view.helpers.navigation.html#zend-view-helpers-initial-navigation-navigation"><em>Navigation</em></a>, used for proxying calls to other
navigational helpers.</li>
</ul>
<p>All built-in helpers extend <tt class="docutils literal"><span class="pre">Zend_View_Helper_Navigation_HelperAbstract</span></tt>, which adds integration with <a class="reference internal" href="../index.html#zend-permissions-acl"><em>ACL</em></a> and <a class="reference internal" href="zend.i18n.translating.html#zend-i18n-translating"><em>translation</em></a>. The abstract class implements the interface
<tt class="docutils literal"><span class="pre">Zend_View_Helper_Navigation_Helper</span></tt>, which defines the following methods:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">getContainer()</span></tt> and <tt class="docutils literal"><span class="pre">setContainer()</span></tt> gets and sets the navigation container the helper should operate on by
default, and <tt class="docutils literal"><span class="pre">hasContainer()</span></tt> checks if the helper has container registered.</li>
<li><tt class="docutils literal"><span class="pre">getTranslator()</span></tt> and <tt class="docutils literal"><span class="pre">setTranslator()</span></tt> gets and sets the translator used for translating labels and titles.
<tt class="docutils literal"><span class="pre">getUseTranslator()</span></tt> and <tt class="docutils literal"><span class="pre">setUseTranslator()</span></tt> controls whether the translator should be enabled. The method
<tt class="docutils literal"><span class="pre">hasTranslator()</span></tt> checks if the helper has a translator registered.</li>
<li><tt class="docutils literal"><span class="pre">getAcl()</span></tt>, <tt class="docutils literal"><span class="pre">setAcl()</span></tt>, <tt class="docutils literal"><span class="pre">getRole()</span></tt> and <tt class="docutils literal"><span class="pre">setRole()</span></tt>, gets and sets <em>ACL</em> (<tt class="docutils literal"><span class="pre">Zend\Permissions\Acl</span></tt>) instance and role
(<tt class="docutils literal"><span class="pre">String</span></tt> or <tt class="docutils literal"><span class="pre">Zend\Permissions\Acl\Role\RoleInterface</span></tt>) used for filtering out pages when rendering. <tt class="docutils literal"><span class="pre">getUseAcl()</span></tt> and
<tt class="docutils literal"><span class="pre">setUseAcl()</span></tt> controls whether <em>ACL</em> should be enabled. The methods <tt class="docutils literal"><span class="pre">hasAcl()</span></tt> and <tt class="docutils literal"><span class="pre">hasRole()</span></tt> checks if
the helper has an <em>ACL</em> instance or a role registered.</li>
<li><tt class="docutils literal"><span class="pre">__toString()</span></tt>, magic method to ensure that helpers can be rendered by echoing the helper instance directly.</li>
<li><tt class="docutils literal"><span class="pre">render()</span></tt>, must be implemented by concrete helpers to do the actual rendering.</li>
</ul>
<p>In addition to the method stubs from the interface, the abstract class also implements the following methods:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">getIndent()</span></tt> and <tt class="docutils literal"><span class="pre">setIndent()</span></tt> gets and sets indentation. The setter accepts a <tt class="docutils literal"><span class="pre">String</span></tt> or an <tt class="docutils literal"><span class="pre">Integer</span></tt>.
In the case of an <tt class="docutils literal"><span class="pre">Integer</span></tt>, the helper will use the given number of spaces for indentation. I.e.,
<tt class="docutils literal"><span class="pre">setIndent(4)</span></tt> means 4 initial spaces of indentation. Indentation can be specified for all helpers except the
Sitemap helper.</li>
<li><tt class="docutils literal"><span class="pre">getMinDepth()</span></tt> and <tt class="docutils literal"><span class="pre">setMinDepth()</span></tt> gets and sets the minimum depth a page must have to be included by the
helper. Setting <tt class="docutils literal"><span class="pre">NULL</span></tt> means no minimum depth.</li>
<li><tt class="docutils literal"><span class="pre">getMaxDepth()</span></tt> and <tt class="docutils literal"><span class="pre">setMaxDepth()</span></tt> gets and sets the maximum depth a page can have to be included by the
helper. Setting <tt class="docutils literal"><span class="pre">NULL</span></tt> means no maximum depth.</li>
<li><tt class="docutils literal"><span class="pre">getRenderInvisible()</span></tt> and <tt class="docutils literal"><span class="pre">setRenderInvisible()</span></tt> gets and sets whether to render items that have been marked
as invisible or not.</li>
<li><tt class="docutils literal"><span class="pre">__call()</span></tt> is used for proxying calls to the container registered in the helper, which means you can call
methods on a helper as if it was a container. See <a class="reference internal" href="zend.view.helpers.navigation.html#zend-view-helpers-initial-navigation-proxy-example"><em>example</em></a> below.</li>
<li><tt class="docutils literal"><span class="pre">findActive($container,</span> <span class="pre">$minDepth,</span> <span class="pre">$maxDepth)</span></tt> is used for finding the deepest active page in the given
container. If depths are not given, the method will use the values retrieved from <tt class="docutils literal"><span class="pre">getMinDepth()</span></tt> and
<tt class="docutils literal"><span class="pre">getMaxDepth()</span></tt>. The deepest active page must be between <tt class="docutils literal"><span class="pre">$minDepth</span></tt> and <tt class="docutils literal"><span class="pre">$maxDepth</span></tt> inclusively. Returns
an array containing a reference to the found page instance and the depth at which the page was found.</li>
<li><tt class="docutils literal"><span class="pre">htmlify()</span></tt> renders an <strong>&#8216;a&#8217;</strong> <em>HTML</em> element from a <tt class="docutils literal"><span class="pre">Zend_Navigation_Page</span></tt> instance.</li>
<li><tt class="docutils literal"><span class="pre">accept()</span></tt> is used for determining if a page should be accepted when iterating containers. This method checks
for page visibility and verifies that the helper&#8217;s role is allowed access to the page&#8217;s resource and privilege.</li>
<li>The static method <tt class="docutils literal"><span class="pre">setDefaultAcl()</span></tt> is used for setting a default <em>ACL</em> object that will be used by helpers.</li>
<li>The static method <tt class="docutils literal"><span class="pre">setDefaultRole()</span></tt> is used for setting a default <em>ACL</em> that will be used by helpers</li>
</ul>
<p>If a navigation container is not explicitly set in a helper using <tt class="docutils literal"><span class="pre">$helper-&gt;setContainer($nav)</span></tt>, the helper will
look for a container instance with the key <tt class="docutils literal"><span class="pre">Zend_Navigation</span></tt> in <em class="xref std std-ref">the registry</em>. If a
container is not explicitly set or found in the registry, the helper will create an empty <tt class="docutils literal"><span class="pre">Zend_Navigation</span></tt>
container when calling <tt class="docutils literal"><span class="pre">$helper-&gt;getContainer()</span></tt>.</p>
<p class="rubric" id="zend-view-helpers-initial-navigation-proxy-example">Proxying calls to the navigation container</p>
<p>Navigation view helpers use the magic method <tt class="docutils literal"><span class="pre">__call()</span></tt> to proxy method calls to the navigation container that is
registered in the view helper.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">navigation</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">addPage</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;uri&#39;</span><span class="p">,</span>
    <span class="s1">&#39;label&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;New page&#39;</span><span class="p">));</span>
</pre></div>
</td></tr></table></div>
<p>The call above will add a page to the container in the <tt class="docutils literal"><span class="pre">Navigation</span></tt> helper.</p>
<div class="section" id="translation-of-labels-and-titles">
<span id="zend-view-helpers-initial-navigation-i18n"></span><h2>Translation of labels and titles<a class="headerlink" href="#translation-of-labels-and-titles" title="Permalink to this headline">¶</a></h2>
<p>The navigation helpers support translation of page labels and titles. You can set a translator of type
<tt class="docutils literal"><span class="pre">Zend\I18n\Translator</span></tt> in the helper using <tt class="docutils literal"><span class="pre">$helper-&gt;setTranslator($translator)</span></tt>.</p>
<p>If you want to disable translation, use <tt class="docutils literal"><span class="pre">$helper-&gt;setUseTranslator(false)</span></tt>.</p>
<p>The <a class="reference internal" href="zend.view.helpers.navigation.html#zend-view-helpers-initial-navigation-navigation"><em>proxy helper</em></a> will inject its own translator to the
helper it proxies to if the proxied helper doesn&#8217;t already have a translator.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">There is no translation in the sitemap helper, since there are no page labels or titles involved in an <em>XML</em>
sitemap.</p>
</div>
</div>
<div class="section" id="integration-with-acl">
<span id="zend-view-helpers-initial-navigation-acl"></span><h2>Integration with ACL<a class="headerlink" href="#integration-with-acl" title="Permalink to this headline">¶</a></h2>
<p>All navigational view helpers support <em>ACL</em> inherently from the class
<tt class="docutils literal"><span class="pre">Zend_View_Helper_Navigation_HelperAbstract</span></tt>. A <tt class="docutils literal"><span class="pre">Zend\Permissions\Acl</span></tt> object can be assigned to a helper instance with
<em>$helper-&gt;setAcl($acl)</em>, and role with <em>$helper-&gt;setRole(&#8216;member&#8217;)</em> or <em>$helper-&gt;setRole(new
ZendPermissionsAclRoleGenericRole(&#8216;member&#8217;))</em>. If <em>ACL</em> is used in the helper, the role in the helper must be allowed by the <em>ACL</em> to
access a page&#8217;s <em>resource</em> and/or have the page&#8217;s <em>privilege</em> for the page to be included when rendering.</p>
<p>If a page is not accepted by <em>ACL</em>, any descendant page will also be excluded from rendering.</p>
<p>The <a class="reference internal" href="zend.view.helpers.navigation.html#zend-view-helpers-initial-navigation-navigation"><em>proxy helper</em></a> will inject its own <em>ACL</em> and role to the
helper it proxies to if the proxied helper doesn&#8217;t already have any.</p>
<p>The examples below all show how <em>ACL</em> affects rendering.</p>
</div>
<div class="section" id="navigation-setup-used-in-examples">
<span id="zend-view-helpers-initial-navigation-setup"></span><h2>Navigation setup used in examples<a class="headerlink" href="#navigation-setup-used-in-examples" title="Permalink to this headline">¶</a></h2>
<p>This example shows the setup of a navigation container for a fictional software company.</p>
<p>Notes on the setup:</p>
<ul class="simple">
<li>The domain for the site is <em>www.example.com</em>.</li>
<li>Interesting page properties are marked with a comment.</li>
<li>Unless otherwise is stated in other examples, the user is requesting the <em>URL</em>
<em>http://www.example.com/products/server/faq/</em>, which translates to the page labeled <tt class="docutils literal"><span class="pre">FAQ</span></tt> under <em>Foo Server</em>.</li>
<li>The assumed <em>ACL</em> and router setup is shown below the container setup.</li>
</ul>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171</pre></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * Navigation container (config/array)</span>

<span class="cm"> * Each element in the array will be passed to</span>
<span class="cm"> * Zend_Navigation_Page::factory() when constructing</span>
<span class="cm"> * the navigation container below.</span>
<span class="cm"> */</span>
<span class="nv">$pages</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;label&#39;</span>      <span class="o">=&gt;</span> <span class="s1">&#39;Home&#39;</span><span class="p">,</span>
        <span class="s1">&#39;title&#39;</span>      <span class="o">=&gt;</span> <span class="s1">&#39;Go Home&#39;</span><span class="p">,</span>
        <span class="s1">&#39;module&#39;</span>     <span class="o">=&gt;</span> <span class="s1">&#39;default&#39;</span><span class="p">,</span>
        <span class="s1">&#39;controller&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;index&#39;</span><span class="p">,</span>
        <span class="s1">&#39;action&#39;</span>     <span class="o">=&gt;</span> <span class="s1">&#39;index&#39;</span><span class="p">,</span>
        <span class="s1">&#39;order&#39;</span>      <span class="o">=&gt;</span> <span class="o">-</span><span class="mi">100</span> <span class="c1">// make sure home is the first page</span>
    <span class="p">),</span>
    <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;label&#39;</span>      <span class="o">=&gt;</span> <span class="s1">&#39;Special offer this week only!&#39;</span><span class="p">,</span>
        <span class="s1">&#39;module&#39;</span>     <span class="o">=&gt;</span> <span class="s1">&#39;store&#39;</span><span class="p">,</span>
        <span class="s1">&#39;controller&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;offer&#39;</span><span class="p">,</span>
        <span class="s1">&#39;action&#39;</span>     <span class="o">=&gt;</span> <span class="s1">&#39;amazing&#39;</span><span class="p">,</span>
        <span class="s1">&#39;visible&#39;</span>    <span class="o">=&gt;</span> <span class="k">false</span> <span class="c1">// not visible</span>
    <span class="p">),</span>
    <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;label&#39;</span>      <span class="o">=&gt;</span> <span class="s1">&#39;Products&#39;</span><span class="p">,</span>
        <span class="s1">&#39;module&#39;</span>     <span class="o">=&gt;</span> <span class="s1">&#39;products&#39;</span><span class="p">,</span>
        <span class="s1">&#39;controller&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;index&#39;</span><span class="p">,</span>
        <span class="s1">&#39;action&#39;</span>     <span class="o">=&gt;</span> <span class="s1">&#39;index&#39;</span><span class="p">,</span>
        <span class="s1">&#39;pages&#39;</span>      <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
            <span class="k">array</span><span class="p">(</span>
                <span class="s1">&#39;label&#39;</span>      <span class="o">=&gt;</span> <span class="s1">&#39;Foo Server&#39;</span><span class="p">,</span>
                <span class="s1">&#39;module&#39;</span>     <span class="o">=&gt;</span> <span class="s1">&#39;products&#39;</span><span class="p">,</span>
                <span class="s1">&#39;controller&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;server&#39;</span><span class="p">,</span>
                <span class="s1">&#39;action&#39;</span>     <span class="o">=&gt;</span> <span class="s1">&#39;index&#39;</span><span class="p">,</span>
                <span class="s1">&#39;pages&#39;</span>      <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
                    <span class="k">array</span><span class="p">(</span>
                        <span class="s1">&#39;label&#39;</span>      <span class="o">=&gt;</span> <span class="s1">&#39;FAQ&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;module&#39;</span>     <span class="o">=&gt;</span> <span class="s1">&#39;products&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;controller&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;server&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;action&#39;</span>     <span class="o">=&gt;</span> <span class="s1">&#39;faq&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;rel&#39;</span>        <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
                            <span class="s1">&#39;canonical&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;http://www.example.com/?page=faq&#39;</span><span class="p">,</span>
                            <span class="s1">&#39;alternate&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
                                <span class="s1">&#39;module&#39;</span>     <span class="o">=&gt;</span> <span class="s1">&#39;products&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;controller&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;server&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;action&#39;</span>     <span class="o">=&gt;</span> <span class="s1">&#39;faq&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;params&#39;</span>     <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;format&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;xml&#39;</span><span class="p">)</span>
                            <span class="p">)</span>
                        <span class="p">)</span>
                    <span class="p">),</span>
                    <span class="k">array</span><span class="p">(</span>
                        <span class="s1">&#39;label&#39;</span>      <span class="o">=&gt;</span> <span class="s1">&#39;Editions&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;module&#39;</span>     <span class="o">=&gt;</span> <span class="s1">&#39;products&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;controller&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;server&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;action&#39;</span>     <span class="o">=&gt;</span> <span class="s1">&#39;editions&#39;</span>
                    <span class="p">),</span>
                    <span class="k">array</span><span class="p">(</span>
                        <span class="s1">&#39;label&#39;</span>      <span class="o">=&gt;</span> <span class="s1">&#39;System Requirements&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;module&#39;</span>     <span class="o">=&gt;</span> <span class="s1">&#39;products&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;controller&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;server&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;action&#39;</span>     <span class="o">=&gt;</span> <span class="s1">&#39;requirements&#39;</span>
                    <span class="p">)</span>
                <span class="p">)</span>
            <span class="p">),</span>
            <span class="k">array</span><span class="p">(</span>
                <span class="s1">&#39;label&#39;</span>      <span class="o">=&gt;</span> <span class="s1">&#39;Foo Studio&#39;</span><span class="p">,</span>
                <span class="s1">&#39;module&#39;</span>     <span class="o">=&gt;</span> <span class="s1">&#39;products&#39;</span><span class="p">,</span>
                <span class="s1">&#39;controller&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;studio&#39;</span><span class="p">,</span>
                <span class="s1">&#39;action&#39;</span>     <span class="o">=&gt;</span> <span class="s1">&#39;index&#39;</span><span class="p">,</span>
                <span class="s1">&#39;pages&#39;</span>      <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
                    <span class="k">array</span><span class="p">(</span>
                        <span class="s1">&#39;label&#39;</span>      <span class="o">=&gt;</span> <span class="s1">&#39;Customer Stories&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;module&#39;</span>     <span class="o">=&gt;</span> <span class="s1">&#39;products&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;controller&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;studio&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;action&#39;</span>     <span class="o">=&gt;</span> <span class="s1">&#39;customers&#39;</span>
                    <span class="p">),</span>
                    <span class="k">array</span><span class="p">(</span>
                        <span class="s1">&#39;label&#39;</span>      <span class="o">=&gt;</span> <span class="s1">&#39;Support&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;module&#39;</span>     <span class="o">=&gt;</span> <span class="s1">&#39;prodcts&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;controller&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;studio&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;action&#39;</span>     <span class="o">=&gt;</span> <span class="s1">&#39;support&#39;</span>
                    <span class="p">)</span>
                <span class="p">)</span>
            <span class="p">)</span>
        <span class="p">)</span>
    <span class="p">),</span>
    <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;label&#39;</span>      <span class="o">=&gt;</span> <span class="s1">&#39;Company&#39;</span><span class="p">,</span>
        <span class="s1">&#39;title&#39;</span>      <span class="o">=&gt;</span> <span class="s1">&#39;About us&#39;</span><span class="p">,</span>
        <span class="s1">&#39;module&#39;</span>     <span class="o">=&gt;</span> <span class="s1">&#39;company&#39;</span><span class="p">,</span>
        <span class="s1">&#39;controller&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;about&#39;</span><span class="p">,</span>
        <span class="s1">&#39;action&#39;</span>     <span class="o">=&gt;</span> <span class="s1">&#39;index&#39;</span><span class="p">,</span>
        <span class="s1">&#39;pages&#39;</span>      <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
            <span class="k">array</span><span class="p">(</span>
                <span class="s1">&#39;label&#39;</span>      <span class="o">=&gt;</span> <span class="s1">&#39;Investor Relations&#39;</span><span class="p">,</span>
                <span class="s1">&#39;module&#39;</span>     <span class="o">=&gt;</span> <span class="s1">&#39;company&#39;</span><span class="p">,</span>
                <span class="s1">&#39;controller&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;about&#39;</span><span class="p">,</span>
                <span class="s1">&#39;action&#39;</span>     <span class="o">=&gt;</span> <span class="s1">&#39;investors&#39;</span>
            <span class="p">),</span>
            <span class="k">array</span><span class="p">(</span>
                <span class="s1">&#39;label&#39;</span>      <span class="o">=&gt;</span> <span class="s1">&#39;News&#39;</span><span class="p">,</span>
                <span class="s1">&#39;class&#39;</span>      <span class="o">=&gt;</span> <span class="s1">&#39;rss&#39;</span><span class="p">,</span> <span class="c1">// class</span>
                <span class="s1">&#39;module&#39;</span>     <span class="o">=&gt;</span> <span class="s1">&#39;company&#39;</span><span class="p">,</span>
                <span class="s1">&#39;controller&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;news&#39;</span><span class="p">,</span>
                <span class="s1">&#39;action&#39;</span>     <span class="o">=&gt;</span> <span class="s1">&#39;index&#39;</span><span class="p">,</span>
                <span class="s1">&#39;pages&#39;</span>      <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
                    <span class="k">array</span><span class="p">(</span>
                        <span class="s1">&#39;label&#39;</span>      <span class="o">=&gt;</span> <span class="s1">&#39;Press Releases&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;module&#39;</span>     <span class="o">=&gt;</span> <span class="s1">&#39;company&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;controller&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;news&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;action&#39;</span>     <span class="o">=&gt;</span> <span class="s1">&#39;press&#39;</span>
                    <span class="p">),</span>
                    <span class="k">array</span><span class="p">(</span>
                        <span class="s1">&#39;label&#39;</span>      <span class="o">=&gt;</span> <span class="s1">&#39;Archive&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;route&#39;</span>      <span class="o">=&gt;</span> <span class="s1">&#39;archive&#39;</span><span class="p">,</span> <span class="c1">// route</span>
                        <span class="s1">&#39;module&#39;</span>     <span class="o">=&gt;</span> <span class="s1">&#39;company&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;controller&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;news&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;action&#39;</span>     <span class="o">=&gt;</span> <span class="s1">&#39;archive&#39;</span>
                    <span class="p">)</span>
                <span class="p">)</span>
            <span class="p">)</span>
        <span class="p">)</span>
    <span class="p">),</span>
    <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;label&#39;</span>      <span class="o">=&gt;</span> <span class="s1">&#39;Community&#39;</span><span class="p">,</span>
        <span class="s1">&#39;module&#39;</span>     <span class="o">=&gt;</span> <span class="s1">&#39;community&#39;</span><span class="p">,</span>
        <span class="s1">&#39;controller&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;index&#39;</span><span class="p">,</span>
        <span class="s1">&#39;action&#39;</span>     <span class="o">=&gt;</span> <span class="s1">&#39;index&#39;</span><span class="p">,</span>
        <span class="s1">&#39;pages&#39;</span>      <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
            <span class="k">array</span><span class="p">(</span>
                <span class="s1">&#39;label&#39;</span>      <span class="o">=&gt;</span> <span class="s1">&#39;My Account&#39;</span><span class="p">,</span>
                <span class="s1">&#39;module&#39;</span>     <span class="o">=&gt;</span> <span class="s1">&#39;community&#39;</span><span class="p">,</span>
                <span class="s1">&#39;controller&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;account&#39;</span><span class="p">,</span>
                <span class="s1">&#39;action&#39;</span>     <span class="o">=&gt;</span> <span class="s1">&#39;index&#39;</span><span class="p">,</span>
                <span class="s1">&#39;resource&#39;</span>   <span class="o">=&gt;</span> <span class="s1">&#39;mvc:community.account&#39;</span> <span class="c1">// resource</span>
            <span class="p">),</span>
            <span class="k">array</span><span class="p">(</span>
                <span class="s1">&#39;label&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Forums&#39;</span><span class="p">,</span>
                <span class="s1">&#39;uri&#39;</span>   <span class="o">=&gt;</span> <span class="s1">&#39;http://forums.example.com/&#39;</span><span class="p">,</span>
                <span class="s1">&#39;class&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;external&#39;</span> <span class="c1">// class</span>
            <span class="p">)</span>
        <span class="p">)</span>
    <span class="p">),</span>
    <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;label&#39;</span>      <span class="o">=&gt;</span> <span class="s1">&#39;Administration&#39;</span><span class="p">,</span>
        <span class="s1">&#39;module&#39;</span>     <span class="o">=&gt;</span> <span class="s1">&#39;admin&#39;</span><span class="p">,</span>
        <span class="s1">&#39;controller&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;index&#39;</span><span class="p">,</span>
        <span class="s1">&#39;action&#39;</span>     <span class="o">=&gt;</span> <span class="s1">&#39;index&#39;</span><span class="p">,</span>
        <span class="s1">&#39;resource&#39;</span>   <span class="o">=&gt;</span> <span class="s1">&#39;mvc:admin&#39;</span><span class="p">,</span> <span class="c1">// resource</span>
        <span class="s1">&#39;pages&#39;</span>      <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
            <span class="k">array</span><span class="p">(</span>
                <span class="s1">&#39;label&#39;</span>      <span class="o">=&gt;</span> <span class="s1">&#39;Write new article&#39;</span><span class="p">,</span>
                <span class="s1">&#39;module&#39;</span>     <span class="o">=&gt;</span> <span class="s1">&#39;admin&#39;</span><span class="p">,</span>
                <span class="s1">&#39;controller&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;post&#39;</span><span class="p">,</span>
                <span class="s1">&#39;aciton&#39;</span>     <span class="o">=&gt;</span> <span class="s1">&#39;write&#39;</span>
            <span class="p">)</span>
        <span class="p">)</span>
    <span class="p">)</span>
<span class="p">);</span>

<span class="c1">// Create container from array</span>
<span class="nv">$container</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend_Navigation</span><span class="p">(</span><span class="nv">$pages</span><span class="p">);</span>

<span class="c1">// Store the container in the proxy helper:</span>
<span class="nv">$view</span><span class="o">-&gt;</span><span class="na">getHelper</span><span class="p">(</span><span class="s1">&#39;navigation&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">setContainer</span><span class="p">(</span><span class="nv">$container</span><span class="p">);</span>

<span class="c1">// ...or simply:</span>
<span class="nv">$view</span><span class="o">-&gt;</span><span class="na">navigation</span><span class="p">(</span><span class="nv">$container</span><span class="p">);</span>

<span class="c1">// ...or store it in the reigstry:</span>
<span class="nx">Zend_Registry</span><span class="o">::</span><span class="na">set</span><span class="p">(</span><span class="s1">&#39;Zend_Navigation&#39;</span><span class="p">,</span> <span class="nv">$container</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>In addition to the container above, the following setup is assumed:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1">// Setup router (default routes and &#39;archive&#39; route):</span>
<span class="nv">$front</span> <span class="o">=</span> <span class="nx">Zend_Controller_Front</span><span class="o">::</span><span class="na">getInstance</span><span class="p">();</span>
<span class="nv">$router</span> <span class="o">=</span> <span class="nv">$front</span><span class="o">-&gt;</span><span class="na">getRouter</span><span class="p">();</span>
<span class="nv">$router</span><span class="o">-&gt;</span><span class="na">addDefaultRoutes</span><span class="p">();</span>
<span class="nv">$router</span><span class="o">-&gt;</span><span class="na">addRoute</span><span class="p">(</span>
    <span class="s1">&#39;archive&#39;</span><span class="p">,</span>
    <span class="k">new</span> <span class="nx">Zend_Controller_Router_Route</span><span class="p">(</span>
        <span class="s1">&#39;/archive/:year&#39;</span><span class="p">,</span>
        <span class="k">array</span><span class="p">(</span>
            <span class="s1">&#39;module&#39;</span>     <span class="o">=&gt;</span> <span class="s1">&#39;company&#39;</span><span class="p">,</span>
            <span class="s1">&#39;controller&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;news&#39;</span><span class="p">,</span>
            <span class="s1">&#39;action&#39;</span>     <span class="o">=&gt;</span> <span class="s1">&#39;archive&#39;</span><span class="p">,</span>
            <span class="s1">&#39;year&#39;</span>       <span class="o">=&gt;</span> <span class="p">(</span><span class="nx">int</span><span class="p">)</span> <span class="nb">date</span><span class="p">(</span><span class="s1">&#39;Y&#39;</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="p">),</span>
        <span class="k">array</span><span class="p">(</span><span class="s1">&#39;year&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;\d+&#39;</span><span class="p">)</span>
    <span class="p">)</span>
<span class="p">);</span>

<span class="c1">// Setup ACL:</span>
<span class="nv">$acl</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Permissions\Acl\Acl</span><span class="p">();</span>
<span class="nv">$acl</span><span class="o">-&gt;</span><span class="na">addRole</span><span class="p">(</span><span class="k">new</span> <span class="nx">Zend\Permissions\Acl\Role\GenericRole</span><span class="p">(</span><span class="s1">&#39;member&#39;</span><span class="p">));</span>
<span class="nv">$acl</span><span class="o">-&gt;</span><span class="na">addRole</span><span class="p">(</span><span class="k">new</span> <span class="nx">Zend\Permissions\Acl\Role\GenericRole</span><span class="p">(</span><span class="s1">&#39;admin&#39;</span><span class="p">));</span>
<span class="nv">$acl</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="k">new</span> <span class="nx">Zend\Permissions\Acl\Resource\GenericResource</span><span class="p">(</span><span class="s1">&#39;mvc:admin&#39;</span><span class="p">));</span>
<span class="nv">$acl</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="k">new</span> <span class="nx">Zend\Permissions\Acl\Resource\GenericResource</span><span class="p">(</span><span class="s1">&#39;mvc:community.account&#39;</span><span class="p">));</span>
<span class="nv">$acl</span><span class="o">-&gt;</span><span class="na">allow</span><span class="p">(</span><span class="s1">&#39;member&#39;</span><span class="p">,</span> <span class="s1">&#39;mvc:community.account&#39;</span><span class="p">);</span>
<span class="nv">$acl</span><span class="o">-&gt;</span><span class="na">allow</span><span class="p">(</span><span class="s1">&#39;admin&#39;</span><span class="p">,</span> <span class="k">null</span><span class="p">);</span>

<span class="c1">// Store ACL and role in the proxy helper:</span>
<span class="nv">$view</span><span class="o">-&gt;</span><span class="na">navigation</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setAcl</span><span class="p">(</span><span class="nv">$acl</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">setRole</span><span class="p">(</span><span class="s1">&#39;member&#39;</span><span class="p">);</span>

<span class="c1">// ...or set default ACL and role statically:</span>
<span class="nx">Zend_View_Helper_Navigation_HelperAbstract</span><span class="o">::</span><span class="na">setDefaultAcl</span><span class="p">(</span><span class="nv">$acl</span><span class="p">);</span>
<span class="nx">Zend_View_Helper_Navigation_HelperAbstract</span><span class="o">::</span><span class="na">setDefaultRole</span><span class="p">(</span><span class="s1">&#39;member&#39;</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="breadcrumbs-helper">
<span id="zend-view-helpers-initial-navigation-breadcrumbs"></span><h2>Breadcrumbs Helper<a class="headerlink" href="#breadcrumbs-helper" title="Permalink to this headline">¶</a></h2>
<p>Breadcrumbs are used for indicating where in a sitemap a user is currently browsing, and are typically rendered
like this: &#8220;You are here: Home &gt; Products &gt; FantasticProduct 1.0&#8221;. The breadcrumbs helper follows the guidelines
from <a class="reference external" href="http://developer.yahoo.com/ypatterns/pattern.php?pattern=breadcrumbs">Breadcrumbs Pattern - Yahoo! Design Pattern Library</a>, and allows simple customization (minimum/maximum
depth, indentation, separator, and whether the last element should be linked), or rendering using a partial view
script.</p>
<p>The Breadcrumbs helper works like this; it finds the deepest active page in a navigation container, and renders an
upwards path to the root. For <em>MVC</em> pages, the &#8220;activeness&#8221; of a page is determined by inspecting the request
object, as stated in the section on <a class="reference internal" href="zend.navigation.pages.mvc.html#zend-navigation-pages-mvc"><em>Zend_Navigation_Page_Mvc</em></a>.</p>
<p>The helper sets the <em>minDepth</em> property to 1 by default, meaning breadcrumbs will not be rendered if the deepest
active page is a root page. If <em>maxDepth</em> is specified, the helper will stop rendering when at the specified depth
(e.g. stop at level 2 even if the deepest active page is on level 3).</p>
<p>Methods in the breadcrumbs helper:</p>
<ul class="simple">
<li><em>{get|set}Separator()</em> gets/sets separator string that is used between breadcrumbs. Defualt is <em>&#8216; &amp;gt; &#8216;</em>.</li>
<li><em>{get|set}LinkLast()</em> gets/sets whether the last breadcrumb should be rendered as an anchor or not. Default is
<tt class="docutils literal"><span class="pre">FALSE</span></tt>.</li>
<li><em>{get|set}Partial()</em> gets/sets a partial view script that should be used for rendering breadcrumbs. If a partial
view script is set, the helper&#8217;s <tt class="docutils literal"><span class="pre">render()</span></tt> method will use the <tt class="docutils literal"><span class="pre">renderPartial()</span></tt> method. If no partial is
set, the <tt class="docutils literal"><span class="pre">renderStraight()</span></tt> method is used. The helper expects the partial to be a <tt class="docutils literal"><span class="pre">String</span></tt> or an <tt class="docutils literal"><span class="pre">Array</span></tt>
with two elements. If the partial is a <tt class="docutils literal"><span class="pre">String</span></tt>, it denotes the name of the partial script to use. If it is an
<tt class="docutils literal"><span class="pre">Array</span></tt>, the first element will be used as the name of the partial view script, and the second element is the
module where the script is found.</li>
<li><tt class="docutils literal"><span class="pre">renderStraight()</span></tt> is the default render method.</li>
<li><tt class="docutils literal"><span class="pre">renderPartial()</span></tt> is used for rendering using a partial view script.</li>
</ul>
<p class="rubric" id="zend-view-helpers-initial-navigation-breadcrumbs-example1">Rendering breadcrumbs</p>
<p>This example shows how to render breadcrumbs with default settings.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span class="nx">In</span> <span class="nx">a</span> <span class="nx">view</span> <span class="nx">script</span> <span class="k">or</span> <span class="nx">layout</span><span class="o">:</span>
<span class="o">&lt;?</span><span class="nx">php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">navigation</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">breadcrumbs</span><span class="p">();</span> <span class="cp">?&gt;</span><span class="x"></span>

<span class="x">The two calls above take advantage of the magic __toString() method,</span>
<span class="x">and are equivalent to:</span>
<span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">navigation</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">breadcrumbs</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">render</span><span class="p">();</span> <span class="cp">?&gt;</span><span class="x"></span>

<span class="x">Output:</span>
<span class="x">&lt;a href=&quot;/products&quot;&gt;Products&lt;/a&gt; &gt; &lt;a href=&quot;/products/server&quot;&gt;Foo Server&lt;/a&gt; &gt; FAQ</span>
</pre></div>
</td></tr></table></div>
<p class="rubric" id="zend-view-helpers-initial-navigation-breadcrumbs-example2">Specifying indentation</p>
<p>This example shows how to render breadcrumbs with initial indentation.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span class="nx">Rendering</span> <span class="nx">with</span> <span class="mi">8</span> <span class="nx">spaces</span> <span class="nx">indentation</span><span class="o">:</span>
<span class="o">&lt;?</span><span class="nx">php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">navigation</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">breadcrumbs</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setIndent</span><span class="p">(</span><span class="mi">8</span><span class="p">);</span><span class="cp">?&gt;</span><span class="x"></span>

<span class="x">Output:</span>
<span class="x">        &lt;a href=&quot;/products&quot;&gt;Products&lt;/a&gt; &gt; &lt;a href=&quot;/products/server&quot;&gt;Foo Server&lt;/a&gt; &gt; FAQ</span>
</pre></div>
</td></tr></table></div>
<p class="rubric" id="zend-view-helpers-initial-navigation-breadcrumbs-example3">Customize breadcrumbs output</p>
<p>This example shows how to customze breadcrumbs output by specifying various options.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25</pre></div></td><td class="code"><div class="highlight"><pre><span class="nx">In</span> <span class="nx">a</span> <span class="nx">view</span> <span class="nx">script</span> <span class="k">or</span> <span class="nx">layout</span><span class="o">:</span>

<span class="o">&lt;?</span><span class="nx">php</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">navigation</span><span class="p">()</span>
          <span class="o">-&gt;</span><span class="na">breadcrumbs</span><span class="p">()</span>
          <span class="o">-&gt;</span><span class="na">setLinkLast</span><span class="p">(</span><span class="k">true</span><span class="p">)</span>                   <span class="c1">// link last page</span>
          <span class="o">-&gt;</span><span class="na">setMaxDepth</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>                      <span class="c1">// stop at level 1</span>
          <span class="o">-&gt;</span><span class="na">setSeparator</span><span class="p">(</span><span class="s1">&#39; ▶&#39;</span> <span class="o">.</span> <span class="nx">PHP_EOL</span><span class="p">);</span> <span class="c1">// cool separator with newline</span>
<span class="cp">?&gt;</span><span class="x"></span>

<span class="x">Output:</span>
<span class="x">&lt;a href=&quot;/products&quot;&gt;Products&lt;/a&gt; ▶</span>
<span class="x">&lt;a href=&quot;/products/server&quot;&gt;Foo Server&lt;/a&gt;</span>

<span class="x">/////////////////////////////////////////////////////</span>

<span class="x">Setting minimum depth required to render breadcrumbs:</span>

<span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">navigation</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">breadcrumbs</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setMinDepth</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">navigation</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">breadcrumbs</span><span class="p">();</span>
<span class="cp">?&gt;</span><span class="x"></span>

<span class="x">Output:</span>
<span class="x">Nothing, because the deepest active page is not at level 10 or deeper.</span>
</pre></div>
</td></tr></table></div>
<p class="rubric" id="zend-view-helpers-initial-navigation-breadcrumbs-example4">Rendering breadcrumbs using a partial view script</p>
<p>This example shows how to render customized breadcrumbs using a partial vew script. By calling <tt class="docutils literal"><span class="pre">setPartial()</span></tt>,
you can specify a partial view script that will be used when calling <tt class="docutils literal"><span class="pre">render()</span></tt>. When a partial is specified, the
<tt class="docutils literal"><span class="pre">renderPartial()</span></tt> method will be called. This method will find the deepest active page and pass an array of pages
that leads to the active page to the partial view script.</p>
<p>In a layout:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$partial</span> <span class="o">=</span> <span class="p">;</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">navigation</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">breadcrumbs</span><span class="p">()</span>
                        <span class="o">-&gt;</span><span class="na">setPartial</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;breadcrumbs.phtml&#39;</span><span class="p">,</span> <span class="s1">&#39;default&#39;</span><span class="p">));</span>
</pre></div>
</td></tr></table></div>
<p>Contents of <em>application/modules/default/views/breadcrumbs.phtml</em>:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">echo</span> <span class="nb">implode</span><span class="p">(</span><span class="s1">&#39;, &#39;</span><span class="p">,</span> <span class="nb">array_map</span><span class="p">(</span>
        <span class="nb">create_function</span><span class="p">(</span><span class="s1">&#39;$a&#39;</span><span class="p">,</span> <span class="s1">&#39;return $a-&gt;getLabel();&#39;</span><span class="p">),</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">pages</span><span class="p">));</span>
</pre></div>
</td></tr></table></div>
<p>Output:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span class="nx">Products</span><span class="p">,</span> <span class="nx">Foo</span> <span class="nx">Server</span><span class="p">,</span> <span class="nx">FAQ</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="links-helper">
<span id="zend-view-helpers-initial-navigation-links"></span><h2>Links Helper<a class="headerlink" href="#links-helper" title="Permalink to this headline">¶</a></h2>
<p>The links helper is used for rendering <em>HTML</em> <tt class="docutils literal"><span class="pre">LINK</span></tt> elements. Links are used for describing document
relationships of the currently active page. Read more about links and link types at <a class="reference external" href="http://www.w3.org/TR/html4/struct/links.html#h-12.3">Document relationships: the
LINK element (HTML4 W3C Rec.)</a> and <a class="reference external" href="http://www.w3.org/TR/html4/types.html#h-6.12">Link types (HTML4 W3C Rec.)</a> in the <em>HTML</em>4 W3C Recommendation.</p>
<p>There are two types of relations; forward and reverse, indicated by the keyords <em>&#8216;rel&#8217;</em> and <em>&#8216;rev&#8217;</em>. Most methods
in the helper will take a <tt class="docutils literal"><span class="pre">$rel</span></tt> param, which must be either <em>&#8216;rel&#8217;</em> or <em>&#8216;rev&#8217;</em>. Most methods also take a
<tt class="docutils literal"><span class="pre">$type</span></tt> param, which is used for specifying the link type (e.g. alternate, start, next, prev, chapter, etc).</p>
<p>Relationships can be added to page objects manually, or found by traversing the container registered in the helper.
The method <tt class="docutils literal"><span class="pre">findRelation($page,</span> <span class="pre">$rel,</span> <span class="pre">$type)</span></tt> will first try to find the given <tt class="docutils literal"><span class="pre">$rel</span></tt> of <tt class="docutils literal"><span class="pre">$type</span></tt> from the
<tt class="docutils literal"><span class="pre">$page</span></tt> by calling <em>$page-&gt;findRel($type)</em> or <em>$page-&gt;findRel($type)</em>. If the <tt class="docutils literal"><span class="pre">$page</span></tt> has a relation that can
be converted to a page instance, that relation will be used. If the <tt class="docutils literal"><span class="pre">$page</span></tt> instance doesn&#8217;t have the specified
<tt class="docutils literal"><span class="pre">$type</span></tt>, the helper will look for a method in the helper named <em>search$rel$type</em> (e.g. <tt class="docutils literal"><span class="pre">searchRelNext()</span></tt> or
<tt class="docutils literal"><span class="pre">searchRevAlternate()</span></tt>). If such a method exists, it will be used for determining the <tt class="docutils literal"><span class="pre">$page</span></tt>&#8216;s relation by
traversing the container.</p>
<p>Not all relations can be determined by traversing the container. These are the relations that will be found by
searching:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">searchRelStart()</span></tt>, forward &#8216;start&#8217; relation: the first page in the container.</li>
<li><tt class="docutils literal"><span class="pre">searchRelNext()</span></tt>, forward &#8216;next&#8217; relation; finds the next page in the container, i.e. the page after the
active page.</li>
<li><tt class="docutils literal"><span class="pre">searchRelPrev()</span></tt>, forward &#8216;prev&#8217; relation; finds the previous page, i.e. the page before the active page.</li>
<li><tt class="docutils literal"><span class="pre">searchRelChapter()</span></tt>, forward &#8216;chapter&#8217; relations; finds all pages on level 0 except the &#8216;start&#8217; relation or
the active page if it&#8217;s on level 0.</li>
<li><tt class="docutils literal"><span class="pre">searchRelSection()</span></tt>, forward &#8216;section&#8217; relations; finds all child pages of the active page if the active page
is on level 0 (a &#8216;chapter&#8217;).</li>
<li><tt class="docutils literal"><span class="pre">searchRelSubsection()</span></tt>, forward &#8216;subsection&#8217; relations; finds all child pages of the active page if the active
pages is on level 1 (a &#8216;section&#8217;).</li>
<li><tt class="docutils literal"><span class="pre">searchRevSection()</span></tt>, reverse &#8216;section&#8217; relation; finds the parent of the active page if the active page is on
level 1 (a &#8216;section&#8217;).</li>
<li><tt class="docutils literal"><span class="pre">searchRevSubsection()</span></tt>, reverse &#8216;subsection&#8217; relation; finds the parent of the active page if the active page
is on level 2 (a &#8216;subsection&#8217;).</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">When looking for relations in the page instance (<em>$page-&gt;getRel($type)</em> or <em>$page-&gt;getRev($type)</em>), the helper
accepts the values of type <tt class="docutils literal"><span class="pre">String</span></tt>, <tt class="docutils literal"><span class="pre">Array</span></tt>, <tt class="docutils literal"><span class="pre">Zend_Config</span></tt>, or <tt class="docutils literal"><span class="pre">Zend_Navigation_Page</span></tt>. If a string is
found, it will be converted to a <tt class="docutils literal"><span class="pre">Zend_Navigation_Page_Uri</span></tt>. If an array or a config is found, it will be
converted to one or several page instances. If the first key of the array/config is numeric, it will be
considered to contain several pages, and each element will be passed to the <a class="reference internal" href="zend.navigation.pages.factory.html#zend-navigation-pages-factory"><em>page factory</em></a>. If the first key is not numeric, the array/config will be passed to the page
factory directly, and a single page will be returned.</p>
</div>
<p>The helper also supports magic methods for finding relations. E.g. to find forward alternate relations, call
<em>$helper-&gt;findRelAlternate($page)</em>, and to find reverse section relations, call <em>$helper-&gt;findRevSection($page)</em>.
Those calls correspond to <em>$helper-&gt;findRelation($page, &#8216;rel&#8217;, &#8216;alternate&#8217;);</em> and <em>$helper-&gt;findRelation($page,
&#8216;rev&#8217;, &#8216;section&#8217;);</em> respectively.</p>
<p>To customize which relations should be rendered, the helper uses a render flag. The render flag is an integer
value, and will be used in a <a class="reference external" href="http://php.net/manual/en/language.operators.bitwise.php">bitwse and (&amp;) operation</a> against the helper&#8217;s render constants to determine if the
relation that belongs to the render constant should be rendered.</p>
<p>See the <a class="reference internal" href="zend.view.helpers.navigation.html#zend-view-helpers-initial-navigation-links-example3"><em>example below</em></a> for more information.</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">Zend_View_Helper_Navigation_Link::RENDER_ALTERNATE</span></tt></li>
<li><tt class="docutils literal"><span class="pre">Zend_View_Helper_Navigation_Link::RENDER_STYLESHEET</span></tt></li>
<li><tt class="docutils literal"><span class="pre">Zend_View_Helper_Navigation_Link::RENDER_START</span></tt></li>
<li><tt class="docutils literal"><span class="pre">Zend_View_Helper_Navigation_Link::RENDER_NEXT</span></tt></li>
<li><tt class="docutils literal"><span class="pre">Zend_View_Helper_Navigation_Link::RENDER_PREV</span></tt></li>
<li><tt class="docutils literal"><span class="pre">Zend_View_Helper_Navigation_Link::RENDER_CONTENTS</span></tt></li>
<li><tt class="docutils literal"><span class="pre">Zend_View_Helper_Navigation_Link::RENDER_INDEX</span></tt></li>
<li><tt class="docutils literal"><span class="pre">Zend_View_Helper_Navigation_Link::RENDER_GLOSSARY</span></tt></li>
<li><tt class="docutils literal"><span class="pre">Zend_View_Helper_Navigation_Link::RENDER_COPYRIGHT</span></tt></li>
<li><tt class="docutils literal"><span class="pre">Zend_View_Helper_Navigation_Link::RENDER_CHAPTER</span></tt></li>
<li><tt class="docutils literal"><span class="pre">Zend_View_Helper_Navigation_Link::RENDER_SECTION</span></tt></li>
<li><tt class="docutils literal"><span class="pre">Zend_View_Helper_Navigation_Link::RENDER_SUBSECTION</span></tt></li>
<li><tt class="docutils literal"><span class="pre">Zend_View_Helper_Navigation_Link::RENDER_APPENDIX</span></tt></li>
<li><tt class="docutils literal"><span class="pre">Zend_View_Helper_Navigation_Link::RENDER_HELP</span></tt></li>
<li><tt class="docutils literal"><span class="pre">Zend_View_Helper_Navigation_Link::RENDER_BOOKMARK</span></tt></li>
<li><tt class="docutils literal"><span class="pre">Zend_View_Helper_Navigation_Link::RENDER_CUSTOM</span></tt></li>
<li><tt class="docutils literal"><span class="pre">Zend_View_Helper_Navigation_Link::RENDER_ALL</span></tt></li>
</ul>
<p>The constants from <tt class="docutils literal"><span class="pre">RENDER_ALTERNATE</span></tt> to <tt class="docutils literal"><span class="pre">RENDER_BOOKMARK</span></tt> denote standard <em>HTML</em> link types. <tt class="docutils literal"><span class="pre">RENDER_CUSTOM</span></tt>
denotes non-standard relations that specified in pages. <tt class="docutils literal"><span class="pre">RENDER_ALL</span></tt> denotes standard and non-standard relations.</p>
<p>Methods in the links helper:</p>
<ul class="simple">
<li><em>{get|set}RenderFlag()</em> gets/sets the render flag. Default is <tt class="docutils literal"><span class="pre">RENDER_ALL</span></tt>. See examples below on how to set
the render flag.</li>
<li><tt class="docutils literal"><span class="pre">findAllRelations()</span></tt> finds all relations of all types for a given page.</li>
<li><tt class="docutils literal"><span class="pre">findRelation()</span></tt> finds all relations of a given type from a given page.</li>
<li><em>searchRel{Start|Next|Prev|Chapter|Section|Subsection}()</em> traverses a container to find forward relations to the
start page, the next page, the previous page, chapters, sections, and subsections.</li>
<li><em>searchRev{Section|Subsection}()</em> traverses a container to find reverse relations to sections or subsections.</li>
<li><tt class="docutils literal"><span class="pre">renderLink()</span></tt> renders a single <em>link</em> element.</li>
</ul>
<p class="rubric" id="zend-view-helpers-initial-navigation-links-example1">Specify relations in pages</p>
<p>This example shows how to specify relations in pages.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$container</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend_Navigation</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
    <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;label&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Relations using strings&#39;</span><span class="p">,</span>
        <span class="s1">&#39;rel&#39;</span>   <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
            <span class="s1">&#39;alternate&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;http://www.example.org/&#39;</span>
        <span class="p">),</span>
        <span class="s1">&#39;rev&#39;</span>   <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
            <span class="s1">&#39;alternate&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;http://www.example.net/&#39;</span>
        <span class="p">)</span>
    <span class="p">),</span>
    <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;label&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Relations using arrays&#39;</span><span class="p">,</span>
        <span class="s1">&#39;rel&#39;</span>   <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
            <span class="s1">&#39;alternate&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
                <span class="s1">&#39;label&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Example.org&#39;</span><span class="p">,</span>
                <span class="s1">&#39;uri&#39;</span>   <span class="o">=&gt;</span> <span class="s1">&#39;http://www.example.org/&#39;</span>
            <span class="p">)</span>
        <span class="p">)</span>
    <span class="p">),</span>
    <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;label&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Relations using configs&#39;</span><span class="p">,</span>
        <span class="s1">&#39;rel&#39;</span>   <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
            <span class="s1">&#39;alternate&#39;</span> <span class="o">=&gt;</span> <span class="k">new</span> <span class="nx">Zend_Config</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
                <span class="s1">&#39;label&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Example.org&#39;</span><span class="p">,</span>
                <span class="s1">&#39;uri&#39;</span>   <span class="o">=&gt;</span> <span class="s1">&#39;http://www.example.org/&#39;</span>
            <span class="p">))</span>
        <span class="p">)</span>
    <span class="p">),</span>
    <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;label&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Relations using pages instance&#39;</span><span class="p">,</span>
        <span class="s1">&#39;rel&#39;</span>   <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
            <span class="s1">&#39;alternate&#39;</span> <span class="o">=&gt;</span> <span class="nx">Zend_Navigation_Page</span><span class="o">::</span><span class="na">factory</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
                <span class="s1">&#39;label&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Example.org&#39;</span><span class="p">,</span>
                <span class="s1">&#39;uri&#39;</span>   <span class="o">=&gt;</span> <span class="s1">&#39;http://www.example.org/&#39;</span>
            <span class="p">))</span>
        <span class="p">)</span>
    <span class="p">)</span>
<span class="p">));</span>
</pre></div>
</td></tr></table></div>
<p class="rubric" id="zend-view-helpers-initial-navigation-links-example2">Default rendering of links</p>
<p>This example shows how to render a menu from a container registered/found in the view helper.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span class="nx">In</span> <span class="nx">a</span> <span class="nx">view</span> <span class="nx">script</span> <span class="k">or</span> <span class="nx">layout</span><span class="o">:</span>
<span class="o">&lt;?</span><span class="nx">php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">view</span><span class="o">-&gt;</span><span class="na">navigation</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">links</span><span class="p">();</span> <span class="cp">?&gt;</span><span class="x"></span>

<span class="x">Output:</span>
<span class="x">&lt;link rel=&quot;alternate&quot; href=&quot;/products/server/faq/format/xml&quot;&gt;</span>
<span class="x">&lt;link rel=&quot;start&quot; href=&quot;/&quot; title=&quot;Home&quot;&gt;</span>
<span class="x">&lt;link rel=&quot;next&quot; href=&quot;/products/server/editions&quot; title=&quot;Editions&quot;&gt;</span>
<span class="x">&lt;link rel=&quot;prev&quot; href=&quot;/products/server&quot; title=&quot;Foo Server&quot;&gt;</span>
<span class="x">&lt;link rel=&quot;chapter&quot; href=&quot;/products&quot; title=&quot;Products&quot;&gt;</span>
<span class="x">&lt;link rel=&quot;chapter&quot; href=&quot;/company/about&quot; title=&quot;Company&quot;&gt;</span>
<span class="x">&lt;link rel=&quot;chapter&quot; href=&quot;/community&quot; title=&quot;Community&quot;&gt;</span>
<span class="x">&lt;link rel=&quot;canonical&quot; href=&quot;http://www.example.com/?page=server-faq&quot;&gt;</span>
<span class="x">&lt;link rev=&quot;subsection&quot; href=&quot;/products/server&quot; title=&quot;Foo Server&quot;&gt;</span>
</pre></div>
</td></tr></table></div>
<p class="rubric" id="zend-view-helpers-initial-navigation-links-example3">Specify which relations to render</p>
<p>This example shows how to specify which relations to find and render.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span class="nx">Render</span> <span class="nx">only</span> <span class="nx">start</span><span class="p">,</span> <span class="nb">next</span><span class="p">,</span> <span class="k">and</span> <span class="nb">prev</span><span class="o">:</span>
<span class="nv">$helper</span><span class="o">-&gt;</span><span class="na">setRenderFlag</span><span class="p">(</span><span class="nx">Zend_View_Helper_Navigation_Links</span><span class="o">::</span><span class="na">RENDER_START</span> <span class="o">|</span>
                       <span class="nx">Zend_View_Helper_Navigation_Links</span><span class="o">::</span><span class="na">RENDER_NEXT</span> <span class="o">|</span>
                       <span class="nx">Zend_View_Helper_Navigation_Links</span><span class="o">::</span><span class="na">RENDER_PREV</span><span class="p">);</span>

<span class="nx">Output</span><span class="o">:</span>
<span class="o">&lt;</span><span class="nb">link</span> <span class="nx">rel</span><span class="o">=</span><span class="s2">&quot;start&quot;</span> <span class="nx">href</span><span class="o">=</span><span class="s2">&quot;/&quot;</span> <span class="nx">title</span><span class="o">=</span><span class="s2">&quot;Home&quot;</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="nb">link</span> <span class="nx">rel</span><span class="o">=</span><span class="s2">&quot;next&quot;</span> <span class="nx">href</span><span class="o">=</span><span class="s2">&quot;/products/server/editions&quot;</span> <span class="nx">title</span><span class="o">=</span><span class="s2">&quot;Editions&quot;</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="nb">link</span> <span class="nx">rel</span><span class="o">=</span><span class="s2">&quot;prev&quot;</span> <span class="nx">href</span><span class="o">=</span><span class="s2">&quot;/products/server&quot;</span> <span class="nx">title</span><span class="o">=</span><span class="s2">&quot;Foo Server&quot;</span><span class="o">&gt;</span>
</pre></div>
</td></tr></table></div>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span class="nx">Render</span> <span class="nx">only</span> <span class="nx">native</span> <span class="nb">link</span> <span class="nx">types</span><span class="o">:</span>
<span class="nv">$helper</span><span class="o">-&gt;</span><span class="na">setRenderFlag</span><span class="p">(</span><span class="nx">Zend_View_Helper_Navigation_Links</span><span class="o">::</span><span class="na">RENDER_ALL</span> <span class="o">^</span>
                       <span class="nx">Zend_View_Helper_Navigation_Links</span><span class="o">::</span><span class="na">RENDER_CUSTOM</span><span class="p">);</span>

<span class="nx">Output</span><span class="o">:</span>
<span class="o">&lt;</span><span class="nb">link</span> <span class="nx">rel</span><span class="o">=</span><span class="s2">&quot;alternate&quot;</span> <span class="nx">href</span><span class="o">=</span><span class="s2">&quot;/products/server/faq/format/xml&quot;</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="nb">link</span> <span class="nx">rel</span><span class="o">=</span><span class="s2">&quot;start&quot;</span> <span class="nx">href</span><span class="o">=</span><span class="s2">&quot;/&quot;</span> <span class="nx">title</span><span class="o">=</span><span class="s2">&quot;Home&quot;</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="nb">link</span> <span class="nx">rel</span><span class="o">=</span><span class="s2">&quot;next&quot;</span> <span class="nx">href</span><span class="o">=</span><span class="s2">&quot;/products/server/editions&quot;</span> <span class="nx">title</span><span class="o">=</span><span class="s2">&quot;Editions&quot;</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="nb">link</span> <span class="nx">rel</span><span class="o">=</span><span class="s2">&quot;prev&quot;</span> <span class="nx">href</span><span class="o">=</span><span class="s2">&quot;/products/server&quot;</span> <span class="nx">title</span><span class="o">=</span><span class="s2">&quot;Foo Server&quot;</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="nb">link</span> <span class="nx">rel</span><span class="o">=</span><span class="s2">&quot;chapter&quot;</span> <span class="nx">href</span><span class="o">=</span><span class="s2">&quot;/products&quot;</span> <span class="nx">title</span><span class="o">=</span><span class="s2">&quot;Products&quot;</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="nb">link</span> <span class="nx">rel</span><span class="o">=</span><span class="s2">&quot;chapter&quot;</span> <span class="nx">href</span><span class="o">=</span><span class="s2">&quot;/company/about&quot;</span> <span class="nx">title</span><span class="o">=</span><span class="s2">&quot;Company&quot;</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="nb">link</span> <span class="nx">rel</span><span class="o">=</span><span class="s2">&quot;chapter&quot;</span> <span class="nx">href</span><span class="o">=</span><span class="s2">&quot;/community&quot;</span> <span class="nx">title</span><span class="o">=</span><span class="s2">&quot;Community&quot;</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="nb">link</span> <span class="nx">rev</span><span class="o">=</span><span class="s2">&quot;subsection&quot;</span> <span class="nx">href</span><span class="o">=</span><span class="s2">&quot;/products/server&quot;</span> <span class="nx">title</span><span class="o">=</span><span class="s2">&quot;Foo Server&quot;</span><span class="o">&gt;</span>
</pre></div>
</td></tr></table></div>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span class="nx">Render</span> <span class="nx">all</span> <span class="nx">but</span> <span class="nx">chapter</span><span class="o">:</span>
<span class="nv">$helper</span><span class="o">-&gt;</span><span class="na">setRenderFlag</span><span class="p">(</span><span class="nx">Zend_View_Helper_Navigation_Links</span><span class="o">::</span><span class="na">RENDER_ALL</span> <span class="o">^</span>
                       <span class="nx">Zend_View_Helper_Navigation_Links</span><span class="o">::</span><span class="na">RENDER_CHAPTER</span><span class="p">);</span>

<span class="nx">Output</span><span class="o">:</span>
<span class="o">&lt;</span><span class="nb">link</span> <span class="nx">rel</span><span class="o">=</span><span class="s2">&quot;alternate&quot;</span> <span class="nx">href</span><span class="o">=</span><span class="s2">&quot;/products/server/faq/format/xml&quot;</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="nb">link</span> <span class="nx">rel</span><span class="o">=</span><span class="s2">&quot;start&quot;</span> <span class="nx">href</span><span class="o">=</span><span class="s2">&quot;/&quot;</span> <span class="nx">title</span><span class="o">=</span><span class="s2">&quot;Home&quot;</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="nb">link</span> <span class="nx">rel</span><span class="o">=</span><span class="s2">&quot;next&quot;</span> <span class="nx">href</span><span class="o">=</span><span class="s2">&quot;/products/server/editions&quot;</span> <span class="nx">title</span><span class="o">=</span><span class="s2">&quot;Editions&quot;</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="nb">link</span> <span class="nx">rel</span><span class="o">=</span><span class="s2">&quot;prev&quot;</span> <span class="nx">href</span><span class="o">=</span><span class="s2">&quot;/products/server&quot;</span> <span class="nx">title</span><span class="o">=</span><span class="s2">&quot;Foo Server&quot;</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="nb">link</span> <span class="nx">rel</span><span class="o">=</span><span class="s2">&quot;canonical&quot;</span> <span class="nx">href</span><span class="o">=</span><span class="s2">&quot;http://www.example.com/?page=server-faq&quot;</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="nb">link</span> <span class="nx">rev</span><span class="o">=</span><span class="s2">&quot;subsection&quot;</span> <span class="nx">href</span><span class="o">=</span><span class="s2">&quot;/products/server&quot;</span> <span class="nx">title</span><span class="o">=</span><span class="s2">&quot;Foo Server&quot;</span><span class="o">&gt;</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="menu-helper">
<span id="zend-view-helpers-initial-navigation-menu"></span><h2>Menu Helper<a class="headerlink" href="#menu-helper" title="Permalink to this headline">¶</a></h2>
<p>The Menu helper is used for rendering menus from navigation containers. By default, the menu will be rendered using
<em>HTML</em> <em>UL</em> and <em>LI</em> tags, but the helper also allows using a partial view script.</p>
<p>Methods in the Menu helper:</p>
<ul>
<li><p class="first"><em>{get|set}UlClass()</em> gets/sets the <em>CSS</em> class used in <tt class="docutils literal"><span class="pre">renderMenu()</span></tt>.</p>
</li>
<li><p class="first"><em>{get|set}OnlyActiveBranch()</em> gets/sets a flag specifying whether only the active branch of a container should be
rendered.</p>
</li>
<li><p class="first"><em>{get|set}RenderParents()</em> gets/sets a flag specifying whether parents should be rendered when only rendering
active branch of a container. If set to <tt class="docutils literal"><span class="pre">FALSE</span></tt>, only the deepest active menu will be rendered.</p>
</li>
<li><p class="first"><em>{get|set}Partial()</em> gets/sets a partial view script that should be used for rendering menu. If a partial view
script is set, the helper&#8217;s <tt class="docutils literal"><span class="pre">render()</span></tt> method will use the <tt class="docutils literal"><span class="pre">renderPartial()</span></tt> method. If no partial is set,
the <tt class="docutils literal"><span class="pre">renderMenu()</span></tt> method is used. The helper expects the partial to be a <tt class="docutils literal"><span class="pre">String</span></tt> or an <tt class="docutils literal"><span class="pre">Array</span></tt> with two
elements. If the partial is a <tt class="docutils literal"><span class="pre">String</span></tt>, it denotes the name of the partial script to use. If it is an
<tt class="docutils literal"><span class="pre">Array</span></tt>, the first element will be used as the name of the partial view script, and the second element is the
module where the script is found.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">htmlify()</span></tt> overrides the method from the abstract class to return <em>span</em> elements if the page has no <em>href</em>.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">renderMenu($container</span> <span class="pre">=</span> <span class="pre">null,</span> <span class="pre">$options</span> <span class="pre">=</span> <span class="pre">array())</span></tt> is the default render method, and will render a container
as a <em>HTML</em> <em>UL</em> list.</p>
<p>If <tt class="docutils literal"><span class="pre">$container</span></tt> is not given, the container registered in the helper will be rendered.</p>
<p><tt class="docutils literal"><span class="pre">$options</span></tt> is used for overriding options specified temporarily without rsetting the values in the helper
instance. It is an associative array where each key corresponds to an option in the helper.</p>
<p>Recognized options:</p>
<ul class="simple">
<li><em>indent</em>; indentation. Expects a <tt class="docutils literal"><span class="pre">String</span></tt> or an <em>int</em> value.</li>
<li><em>minDepth</em>; minimum depth. Expcects an <em>int</em> or <tt class="docutils literal"><span class="pre">NULL</span></tt> (no minimum depth).</li>
<li><em>maxDepth</em>; maximum depth. Expcects an <em>int</em> or <tt class="docutils literal"><span class="pre">NULL</span></tt> (no maximum depth).</li>
<li><em>ulClass</em>; <em>CSS</em> class for <em>ul</em> element. Expects a <tt class="docutils literal"><span class="pre">String</span></tt>.</li>
<li><em>onlyActiveBranch</em>; whether only active branch should be rendered. Expects a <tt class="docutils literal"><span class="pre">Boolean</span></tt> value.</li>
<li><em>renderParents</em>; whether parents should be rendered if only rendering active branch. Expects a <tt class="docutils literal"><span class="pre">Boolean</span></tt>
value.</li>
</ul>
<p>If an option is not given, the value set in the helper will be used.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">renderPartial()</span></tt> is used for rendering the menu using a partial view script.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">renderSubMenu()</span></tt> renders the deepest menu level of a container&#8217;s active branch.</p>
</li>
</ul>
<p class="rubric" id="zend-view-helpers-initial-navigation-menu-example1">Rendering a menu</p>
<p>This example shows how to render a menu from a container registered/found in the view helper. Notice how pages are
filtered out based on visibility and <em>ACL</em>.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72</pre></div></td><td class="code"><div class="highlight"><pre><span class="nx">In</span> <span class="nx">a</span> <span class="nx">view</span> <span class="nx">script</span> <span class="k">or</span> <span class="nx">layout</span><span class="o">:</span>
<span class="o">&lt;?</span><span class="nx">php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">navigation</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">menu</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">render</span><span class="p">()</span> <span class="cp">?&gt;</span><span class="x"></span>

<span class="x">Or simply:</span>
<span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">navigation</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">menu</span><span class="p">()</span> <span class="cp">?&gt;</span><span class="x"></span>

<span class="x">Output:</span>
<span class="x">&lt;ul class=&quot;navigation&quot;&gt;</span>
<span class="x">    &lt;li&gt;</span>
<span class="x">        &lt;a title=&quot;Go Home&quot; href=&quot;/&quot;&gt;Home&lt;/a&gt;</span>
<span class="x">    &lt;/li&gt;</span>
<span class="x">    &lt;li class=&quot;active&quot;&gt;</span>
<span class="x">        &lt;a href=&quot;/products&quot;&gt;Products&lt;/a&gt;</span>
<span class="x">        &lt;ul&gt;</span>
<span class="x">            &lt;li class=&quot;active&quot;&gt;</span>
<span class="x">                &lt;a href=&quot;/products/server&quot;&gt;Foo Server&lt;/a&gt;</span>
<span class="x">                &lt;ul&gt;</span>
<span class="x">                    &lt;li class=&quot;active&quot;&gt;</span>
<span class="x">                        &lt;a href=&quot;/products/server/faq&quot;&gt;FAQ&lt;/a&gt;</span>
<span class="x">                    &lt;/li&gt;</span>
<span class="x">                    &lt;li&gt;</span>
<span class="x">                        &lt;a href=&quot;/products/server/editions&quot;&gt;Editions&lt;/a&gt;</span>
<span class="x">                    &lt;/li&gt;</span>
<span class="x">                    &lt;li&gt;</span>
<span class="x">                        &lt;a href=&quot;/products/server/requirements&quot;&gt;System Requirements&lt;/a&gt;</span>
<span class="x">                    &lt;/li&gt;</span>
<span class="x">                &lt;/ul&gt;</span>
<span class="x">            &lt;/li&gt;</span>
<span class="x">            &lt;li&gt;</span>
<span class="x">                &lt;a href=&quot;/products/studio&quot;&gt;Foo Studio&lt;/a&gt;</span>
<span class="x">                &lt;ul&gt;</span>
<span class="x">                    &lt;li&gt;</span>
<span class="x">                        &lt;a href=&quot;/products/studio/customers&quot;&gt;Customer Stories&lt;/a&gt;</span>
<span class="x">                    &lt;/li&gt;</span>
<span class="x">                    &lt;li&gt;</span>
<span class="x">                        &lt;a href=&quot;/prodcts/studio/support&quot;&gt;Support&lt;/a&gt;</span>
<span class="x">                    &lt;/li&gt;</span>
<span class="x">                &lt;/ul&gt;</span>
<span class="x">            &lt;/li&gt;</span>
<span class="x">        &lt;/ul&gt;</span>
<span class="x">    &lt;/li&gt;</span>
<span class="x">    &lt;li&gt;</span>
<span class="x">        &lt;a title=&quot;About us&quot; href=&quot;/company/about&quot;&gt;Company&lt;/a&gt;</span>
<span class="x">        &lt;ul&gt;</span>
<span class="x">            &lt;li&gt;</span>
<span class="x">                &lt;a href=&quot;/company/about/investors&quot;&gt;Investor Relations&lt;/a&gt;</span>
<span class="x">            &lt;/li&gt;</span>
<span class="x">            &lt;li&gt;</span>
<span class="x">                &lt;a class=&quot;rss&quot; href=&quot;/company/news&quot;&gt;News&lt;/a&gt;</span>
<span class="x">                &lt;ul&gt;</span>
<span class="x">                    &lt;li&gt;</span>
<span class="x">                        &lt;a href=&quot;/company/news/press&quot;&gt;Press Releases&lt;/a&gt;</span>
<span class="x">                    &lt;/li&gt;</span>
<span class="x">                    &lt;li&gt;</span>
<span class="x">                        &lt;a href=&quot;/archive&quot;&gt;Archive&lt;/a&gt;</span>
<span class="x">                    &lt;/li&gt;</span>
<span class="x">                &lt;/ul&gt;</span>
<span class="x">            &lt;/li&gt;</span>
<span class="x">        &lt;/ul&gt;</span>
<span class="x">    &lt;/li&gt;</span>
<span class="x">    &lt;li&gt;</span>
<span class="x">        &lt;a href=&quot;/community&quot;&gt;Community&lt;/a&gt;</span>
<span class="x">        &lt;ul&gt;</span>
<span class="x">            &lt;li&gt;</span>
<span class="x">                &lt;a href=&quot;/community/account&quot;&gt;My Account&lt;/a&gt;</span>
<span class="x">            &lt;/li&gt;</span>
<span class="x">            &lt;li&gt;</span>
<span class="x">                &lt;a class=&quot;external&quot; href=&quot;http://forums.example.com/&quot;&gt;Forums&lt;/a&gt;</span>
<span class="x">            &lt;/li&gt;</span>
<span class="x">        &lt;/ul&gt;</span>
<span class="x">    &lt;/li&gt;</span>
<span class="x">&lt;/ul&gt;</span>
</pre></div>
</td></tr></table></div>
<p class="rubric" id="zend-view-helpers-initial-navigation-menu-example2">Calling renderMenu() directly</p>
<p>This example shows how to render a menu that is not registered in the view helper by calling the <tt class="docutils literal"><span class="pre">renderMenu()</span></tt>
directly and specifying a few options.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20</pre></div></td><td class="code"><div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span>
<span class="c1">// render only the &#39;Community&#39; menu</span>
<span class="nv">$community</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">navigation</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">findOneByLabel</span><span class="p">(</span><span class="s1">&#39;Community&#39;</span><span class="p">);</span>
<span class="nv">$options</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;indent&#39;</span>  <span class="o">=&gt;</span> <span class="mi">16</span><span class="p">,</span>
    <span class="s1">&#39;ulClass&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;community&#39;</span>
<span class="p">);</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">navigation</span><span class="p">()</span>
          <span class="o">-&gt;</span><span class="na">menu</span><span class="p">()</span>
          <span class="o">-&gt;</span><span class="na">renderMenu</span><span class="p">(</span><span class="nv">$community</span><span class="p">,</span> <span class="nv">$options</span><span class="p">);</span>
<span class="cp">?&gt;</span><span class="x"></span>
<span class="x">Output:</span>
<span class="x">                &lt;ul class=&quot;community&quot;&gt;</span>
<span class="x">                    &lt;li&gt;</span>
<span class="x">                        &lt;a href=&quot;/community/account&quot;&gt;My Account&lt;/a&gt;</span>
<span class="x">                    &lt;/li&gt;</span>
<span class="x">                    &lt;li&gt;</span>
<span class="x">                        &lt;a class=&quot;external&quot; href=&quot;http://forums.example.com/&quot;&gt;Forums&lt;/a&gt;</span>
<span class="x">                    &lt;/li&gt;</span>
<span class="x">                &lt;/ul&gt;</span>
</pre></div>
</td></tr></table></div>
<p class="rubric" id="zend-view-helpers-initial-navigation-menu-example3">Rendering the deepest active menu</p>
<p>This example shows how the <tt class="docutils literal"><span class="pre">renderSubMenu()</span></tt> will render the deepest sub menu of the active branch.</p>
<p>Calling <tt class="docutils literal"><span class="pre">renderSubMenu($container,</span> <span class="pre">$ulClass,</span> <span class="pre">$indent)</span></tt> is equivalent to calling <tt class="docutils literal"><span class="pre">renderMenu($container,</span>
<span class="pre">$options)</span></tt> with the following options:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;ulClass&#39;</span>          <span class="o">=&gt;</span> <span class="nv">$ulClass</span><span class="p">,</span>
    <span class="s1">&#39;indent&#39;</span>           <span class="o">=&gt;</span> <span class="nv">$indent</span><span class="p">,</span>
    <span class="s1">&#39;minDepth&#39;</span>         <span class="o">=&gt;</span> <span class="k">null</span><span class="p">,</span>
    <span class="s1">&#39;maxDepth&#39;</span>         <span class="o">=&gt;</span> <span class="k">null</span><span class="p">,</span>
    <span class="s1">&#39;onlyActiveBranch&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">,</span>
    <span class="s1">&#39;renderParents&#39;</span>    <span class="o">=&gt;</span> <span class="k">false</span>
<span class="p">);</span>
</pre></div>
</td></tr></table></div>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18</pre></div></td><td class="code"><div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">navigation</span><span class="p">()</span>
          <span class="o">-&gt;</span><span class="na">menu</span><span class="p">()</span>
          <span class="o">-&gt;</span><span class="na">renderSubMenu</span><span class="p">(</span><span class="k">null</span><span class="p">,</span> <span class="s1">&#39;sidebar&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">);</span>
<span class="cp">?&gt;</span><span class="x"></span>

<span class="x">The output will be the same if &#39;FAQ&#39; or &#39;Foo Server&#39; is active:</span>
<span class="x">    &lt;ul class=&quot;sidebar&quot;&gt;</span>
<span class="x">        &lt;li class=&quot;active&quot;&gt;</span>
<span class="x">            &lt;a href=&quot;/products/server/faq&quot;&gt;FAQ&lt;/a&gt;</span>
<span class="x">        &lt;/li&gt;</span>
<span class="x">        &lt;li&gt;</span>
<span class="x">            &lt;a href=&quot;/products/server/editions&quot;&gt;Editions&lt;/a&gt;</span>
<span class="x">        &lt;/li&gt;</span>
<span class="x">        &lt;li&gt;</span>
<span class="x">            &lt;a href=&quot;/products/server/requirements&quot;&gt;System Requirements&lt;/a&gt;</span>
<span class="x">        &lt;/li&gt;</span>
<span class="x">    &lt;/ul&gt;</span>
</pre></div>
</td></tr></table></div>
<p class="rubric" id="zend-view-helpers-initial-navigation-menu-example4">Rendering a menu with maximum depth</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45</pre></div></td><td class="code"><div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">navigation</span><span class="p">()</span>
          <span class="o">-&gt;</span><span class="na">menu</span><span class="p">()</span>
          <span class="o">-&gt;</span><span class="na">setMaxDepth</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="cp">?&gt;</span><span class="x"></span>

<span class="x">Output:</span>
<span class="x">&lt;ul class=&quot;navigation&quot;&gt;</span>
<span class="x">    &lt;li&gt;</span>
<span class="x">        &lt;a title=&quot;Go Home&quot; href=&quot;/&quot;&gt;Home&lt;/a&gt;</span>
<span class="x">    &lt;/li&gt;</span>
<span class="x">    &lt;li class=&quot;active&quot;&gt;</span>
<span class="x">        &lt;a href=&quot;/products&quot;&gt;Products&lt;/a&gt;</span>
<span class="x">        &lt;ul&gt;</span>
<span class="x">            &lt;li class=&quot;active&quot;&gt;</span>
<span class="x">                &lt;a href=&quot;/products/server&quot;&gt;Foo Server&lt;/a&gt;</span>
<span class="x">            &lt;/li&gt;</span>
<span class="x">            &lt;li&gt;</span>
<span class="x">                &lt;a href=&quot;/products/studio&quot;&gt;Foo Studio&lt;/a&gt;</span>
<span class="x">            &lt;/li&gt;</span>
<span class="x">        &lt;/ul&gt;</span>
<span class="x">    &lt;/li&gt;</span>
<span class="x">    &lt;li&gt;</span>
<span class="x">        &lt;a title=&quot;About us&quot; href=&quot;/company/about&quot;&gt;Company&lt;/a&gt;</span>
<span class="x">        &lt;ul&gt;</span>
<span class="x">            &lt;li&gt;</span>
<span class="x">                &lt;a href=&quot;/company/about/investors&quot;&gt;Investor Relations&lt;/a&gt;</span>
<span class="x">            &lt;/li&gt;</span>
<span class="x">            &lt;li&gt;</span>
<span class="x">                &lt;a class=&quot;rss&quot; href=&quot;/company/news&quot;&gt;News&lt;/a&gt;</span>
<span class="x">            &lt;/li&gt;</span>
<span class="x">        &lt;/ul&gt;</span>
<span class="x">    &lt;/li&gt;</span>
<span class="x">    &lt;li&gt;</span>
<span class="x">        &lt;a href=&quot;/community&quot;&gt;Community&lt;/a&gt;</span>
<span class="x">        &lt;ul&gt;</span>
<span class="x">            &lt;li&gt;</span>
<span class="x">                &lt;a href=&quot;/community/account&quot;&gt;My Account&lt;/a&gt;</span>
<span class="x">            &lt;/li&gt;</span>
<span class="x">            &lt;li&gt;</span>
<span class="x">                &lt;a class=&quot;external&quot; href=&quot;http://forums.example.com/&quot;&gt;Forums&lt;/a&gt;</span>
<span class="x">            &lt;/li&gt;</span>
<span class="x">        &lt;/ul&gt;</span>
<span class="x">    &lt;/li&gt;</span>
<span class="x">&lt;/ul&gt;</span>
</pre></div>
</td></tr></table></div>
<p class="rubric" id="zend-view-helpers-initial-navigation-menu-example5">Rendering a menu with minimum depth</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54</pre></div></td><td class="code"><div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">navigation</span><span class="p">()</span>
          <span class="o">-&gt;</span><span class="na">menu</span><span class="p">()</span>
          <span class="o">-&gt;</span><span class="na">setMinDepth</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="cp">?&gt;</span><span class="x"></span>

<span class="x">Output:</span>
<span class="x">&lt;ul class=&quot;navigation&quot;&gt;</span>
<span class="x">    &lt;li class=&quot;active&quot;&gt;</span>
<span class="x">        &lt;a href=&quot;/products/server&quot;&gt;Foo Server&lt;/a&gt;</span>
<span class="x">        &lt;ul&gt;</span>
<span class="x">            &lt;li class=&quot;active&quot;&gt;</span>
<span class="x">                &lt;a href=&quot;/products/server/faq&quot;&gt;FAQ&lt;/a&gt;</span>
<span class="x">            &lt;/li&gt;</span>
<span class="x">            &lt;li&gt;</span>
<span class="x">                &lt;a href=&quot;/products/server/editions&quot;&gt;Editions&lt;/a&gt;</span>
<span class="x">            &lt;/li&gt;</span>
<span class="x">            &lt;li&gt;</span>
<span class="x">                &lt;a href=&quot;/products/server/requirements&quot;&gt;System Requirements&lt;/a&gt;</span>
<span class="x">            &lt;/li&gt;</span>
<span class="x">        &lt;/ul&gt;</span>
<span class="x">    &lt;/li&gt;</span>
<span class="x">    &lt;li&gt;</span>
<span class="x">        &lt;a href=&quot;/products/studio&quot;&gt;Foo Studio&lt;/a&gt;</span>
<span class="x">        &lt;ul&gt;</span>
<span class="x">            &lt;li&gt;</span>
<span class="x">                &lt;a href=&quot;/products/studio/customers&quot;&gt;Customer Stories&lt;/a&gt;</span>
<span class="x">            &lt;/li&gt;</span>
<span class="x">            &lt;li&gt;</span>
<span class="x">                &lt;a href=&quot;/prodcts/studio/support&quot;&gt;Support&lt;/a&gt;</span>
<span class="x">            &lt;/li&gt;</span>
<span class="x">        &lt;/ul&gt;</span>
<span class="x">    &lt;/li&gt;</span>
<span class="x">    &lt;li&gt;</span>
<span class="x">        &lt;a href=&quot;/company/about/investors&quot;&gt;Investor Relations&lt;/a&gt;</span>
<span class="x">    &lt;/li&gt;</span>
<span class="x">    &lt;li&gt;</span>
<span class="x">        &lt;a class=&quot;rss&quot; href=&quot;/company/news&quot;&gt;News&lt;/a&gt;</span>
<span class="x">        &lt;ul&gt;</span>
<span class="x">            &lt;li&gt;</span>
<span class="x">                &lt;a href=&quot;/company/news/press&quot;&gt;Press Releases&lt;/a&gt;</span>
<span class="x">            &lt;/li&gt;</span>
<span class="x">            &lt;li&gt;</span>
<span class="x">                &lt;a href=&quot;/archive&quot;&gt;Archive&lt;/a&gt;</span>
<span class="x">            &lt;/li&gt;</span>
<span class="x">        &lt;/ul&gt;</span>
<span class="x">    &lt;/li&gt;</span>
<span class="x">    &lt;li&gt;</span>
<span class="x">        &lt;a href=&quot;/community/account&quot;&gt;My Account&lt;/a&gt;</span>
<span class="x">    &lt;/li&gt;</span>
<span class="x">    &lt;li&gt;</span>
<span class="x">        &lt;a class=&quot;external&quot; href=&quot;http://forums.example.com/&quot;&gt;Forums&lt;/a&gt;</span>
<span class="x">    &lt;/li&gt;</span>
<span class="x">&lt;/ul&gt;</span>
</pre></div>
</td></tr></table></div>
<p class="rubric" id="zend-view-helpers-initial-navigation-menu-example6">Rendering only the active branch of a menu</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28</pre></div></td><td class="code"><div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">navigation</span><span class="p">()</span>
          <span class="o">-&gt;</span><span class="na">menu</span><span class="p">()</span>
          <span class="o">-&gt;</span><span class="na">setOnlyActiveBranch</span><span class="p">(</span><span class="k">true</span><span class="p">);</span>
<span class="cp">?&gt;</span><span class="x"></span>

<span class="x">Output:</span>
<span class="x">&lt;ul class=&quot;navigation&quot;&gt;</span>
<span class="x">    &lt;li class=&quot;active&quot;&gt;</span>
<span class="x">        &lt;a href=&quot;/products&quot;&gt;Products&lt;/a&gt;</span>
<span class="x">        &lt;ul&gt;</span>
<span class="x">            &lt;li class=&quot;active&quot;&gt;</span>
<span class="x">                &lt;a href=&quot;/products/server&quot;&gt;Foo Server&lt;/a&gt;</span>
<span class="x">                &lt;ul&gt;</span>
<span class="x">                    &lt;li class=&quot;active&quot;&gt;</span>
<span class="x">                        &lt;a href=&quot;/products/server/faq&quot;&gt;FAQ&lt;/a&gt;</span>
<span class="x">                    &lt;/li&gt;</span>
<span class="x">                    &lt;li&gt;</span>
<span class="x">                        &lt;a href=&quot;/products/server/editions&quot;&gt;Editions&lt;/a&gt;</span>
<span class="x">                    &lt;/li&gt;</span>
<span class="x">                    &lt;li&gt;</span>
<span class="x">                        &lt;a href=&quot;/products/server/requirements&quot;&gt;System Requirements&lt;/a&gt;</span>
<span class="x">                    &lt;/li&gt;</span>
<span class="x">                &lt;/ul&gt;</span>
<span class="x">            &lt;/li&gt;</span>
<span class="x">        &lt;/ul&gt;</span>
<span class="x">    &lt;/li&gt;</span>
<span class="x">&lt;/ul&gt;</span>
</pre></div>
</td></tr></table></div>
<p class="rubric" id="zend-view-helpers-initial-navigation-menu-example7">Rendering only the active branch of a menu with minimum depth</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24</pre></div></td><td class="code"><div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">navigation</span><span class="p">()</span>
          <span class="o">-&gt;</span><span class="na">menu</span><span class="p">()</span>
          <span class="o">-&gt;</span><span class="na">setOnlyActiveBranch</span><span class="p">(</span><span class="k">true</span><span class="p">)</span>
          <span class="o">-&gt;</span><span class="na">setMinDepth</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="cp">?&gt;</span><span class="x"></span>

<span class="x">Output:</span>
<span class="x">&lt;ul class=&quot;navigation&quot;&gt;</span>
<span class="x">    &lt;li class=&quot;active&quot;&gt;</span>
<span class="x">        &lt;a href=&quot;/products/server&quot;&gt;Foo Server&lt;/a&gt;</span>
<span class="x">        &lt;ul&gt;</span>
<span class="x">            &lt;li class=&quot;active&quot;&gt;</span>
<span class="x">                &lt;a href=&quot;/products/server/faq&quot;&gt;FAQ&lt;/a&gt;</span>
<span class="x">            &lt;/li&gt;</span>
<span class="x">            &lt;li&gt;</span>
<span class="x">                &lt;a href=&quot;/products/server/editions&quot;&gt;Editions&lt;/a&gt;</span>
<span class="x">            &lt;/li&gt;</span>
<span class="x">            &lt;li&gt;</span>
<span class="x">                &lt;a href=&quot;/products/server/requirements&quot;&gt;System Requirements&lt;/a&gt;</span>
<span class="x">            &lt;/li&gt;</span>
<span class="x">        &lt;/ul&gt;</span>
<span class="x">    &lt;/li&gt;</span>
<span class="x">&lt;/ul&gt;</span>
</pre></div>
</td></tr></table></div>
<p class="rubric" id="zend-view-helpers-initial-navigation-menu-example8">Rendering only the active branch of a menu with maximum depth</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21</pre></div></td><td class="code"><div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">navigation</span><span class="p">()</span>
          <span class="o">-&gt;</span><span class="na">menu</span><span class="p">()</span>
          <span class="o">-&gt;</span><span class="na">setOnlyActiveBranch</span><span class="p">(</span><span class="k">true</span><span class="p">)</span>
          <span class="o">-&gt;</span><span class="na">setMaxDepth</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="cp">?&gt;</span><span class="x"></span>

<span class="x">Output:</span>
<span class="x">&lt;ul class=&quot;navigation&quot;&gt;</span>
<span class="x">    &lt;li class=&quot;active&quot;&gt;</span>
<span class="x">        &lt;a href=&quot;/products&quot;&gt;Products&lt;/a&gt;</span>
<span class="x">        &lt;ul&gt;</span>
<span class="x">            &lt;li class=&quot;active&quot;&gt;</span>
<span class="x">                &lt;a href=&quot;/products/server&quot;&gt;Foo Server&lt;/a&gt;</span>
<span class="x">            &lt;/li&gt;</span>
<span class="x">            &lt;li&gt;</span>
<span class="x">                &lt;a href=&quot;/products/studio&quot;&gt;Foo Studio&lt;/a&gt;</span>
<span class="x">            &lt;/li&gt;</span>
<span class="x">        &lt;/ul&gt;</span>
<span class="x">    &lt;/li&gt;</span>
<span class="x">&lt;/ul&gt;</span>
</pre></div>
</td></tr></table></div>
<p class="rubric" id="zend-view-helpers-initial-navigation-menu-example9">Rendering only the active branch of a menu with maximum depth and no parents</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">navigation</span><span class="p">()</span>
          <span class="o">-&gt;</span><span class="na">menu</span><span class="p">()</span>
          <span class="o">-&gt;</span><span class="na">setOnlyActiveBranch</span><span class="p">(</span><span class="k">true</span><span class="p">)</span>
          <span class="o">-&gt;</span><span class="na">setRenderParents</span><span class="p">(</span><span class="k">false</span><span class="p">)</span>
          <span class="o">-&gt;</span><span class="na">setMaxDepth</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="cp">?&gt;</span><span class="x"></span>

<span class="x">Output:</span>
<span class="x">&lt;ul class=&quot;navigation&quot;&gt;</span>
<span class="x">    &lt;li class=&quot;active&quot;&gt;</span>
<span class="x">        &lt;a href=&quot;/products/server&quot;&gt;Foo Server&lt;/a&gt;</span>
<span class="x">    &lt;/li&gt;</span>
<span class="x">    &lt;li&gt;</span>
<span class="x">        &lt;a href=&quot;/products/studio&quot;&gt;Foo Studio&lt;/a&gt;</span>
<span class="x">    &lt;/li&gt;</span>
<span class="x">&lt;/ul&gt;</span>
</pre></div>
</td></tr></table></div>
<p class="rubric" id="zend-view-helpers-initial-navigation-menu-example10">Rendering a custom menu using a partial view script</p>
<p>This example shows how to render a custom menu using a partial vew script. By calling <tt class="docutils literal"><span class="pre">setPartial()</span></tt>, you can
specify a partial view script that will be used when calling <tt class="docutils literal"><span class="pre">render()</span></tt>. When a partial is specified, the
<tt class="docutils literal"><span class="pre">renderPartial()</span></tt> method will be called. This method will assign the container to the view with the key
<em>container</em>.</p>
<p>In a layout:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$partial</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;menu.phtml&#39;</span><span class="p">,</span> <span class="s1">&#39;default&#39;</span><span class="p">);</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">navigation</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">menu</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setPartial</span><span class="p">(</span><span class="nv">$partial</span><span class="p">);</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">navigation</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">menu</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">render</span><span class="p">();</span>
</pre></div>
</td></tr></table></div>
<p>In application/modules/default/views/menu.phtml:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">foreach</span> <span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">container</span> <span class="k">as</span> <span class="nv">$page</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">navigation</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">menu</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">htmlify</span><span class="p">(</span><span class="nv">$page</span><span class="p">),</span> <span class="nx">PHP_EOL</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>Output:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span class="o">&lt;</span><span class="nx">a</span> <span class="nx">title</span><span class="o">=</span><span class="s2">&quot;Go Home&quot;</span> <span class="nx">href</span><span class="o">=</span><span class="s2">&quot;/&quot;</span><span class="o">&gt;</span><span class="nx">Home</span><span class="o">&lt;/</span><span class="nx">a</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="nx">a</span> <span class="nx">href</span><span class="o">=</span><span class="s2">&quot;/products&quot;</span><span class="o">&gt;</span><span class="nx">Products</span><span class="o">&lt;/</span><span class="nx">a</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="nx">a</span> <span class="nx">title</span><span class="o">=</span><span class="s2">&quot;About us&quot;</span> <span class="nx">href</span><span class="o">=</span><span class="s2">&quot;/company/about&quot;</span><span class="o">&gt;</span><span class="nx">Company</span><span class="o">&lt;/</span><span class="nx">a</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="nx">a</span> <span class="nx">href</span><span class="o">=</span><span class="s2">&quot;/community&quot;</span><span class="o">&gt;</span><span class="nx">Community</span><span class="o">&lt;/</span><span class="nx">a</span><span class="o">&gt;</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="sitemap-helper">
<span id="zend-view-helpers-initial-navigation-sitemap"></span><h2>Sitemap Helper<a class="headerlink" href="#sitemap-helper" title="Permalink to this headline">¶</a></h2>
<p>The Sitemap helper is used for generating <em>XML</em> sitemaps, as defined by the <a class="reference external" href="http://www.sitemaps.org/protocol.php">Sitemaps XML format</a>. Read more about
<a class="reference external" href="http://en.wikipedia.org/wiki/Sitemaps">Sitemaps on Wikpedia</a>.</p>
<p>By default, the sitemap helper uses <a class="reference internal" href="zend.validator.sitemap.html#zend-validator-sitemap"><em>sitemap validators</em></a> to validate each element
that is rendered. This can be disabled by calling <em>$helper-&gt;setUseSitemapValidators(false)</em>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you disable sitemap validators, the custom properties (see table) are not validated at all.</p>
</div>
<p>The sitemap helper also supports <a class="reference external" href="http://www.sitemaps.org/schemas/sitemap/0.9/sitemap.xsd">Sitemap XSD Schema</a> validation of the generated sitemap. This is disabled by
default, since it will require a request to the Schema file. It can be enabled with
<em>$helper-&gt;setUseSchemaValidation(true)</em>.</p>
<table border="1" class="docutils" id="zend-view-helpers-initial-navigation-sitemap-elements">
<caption>Sitemap XML elements</caption>
<colgroup>
<col width="3%" />
<col width="98%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Element</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>loc</td>
<td>Absolute URL to page. An absolute URL will be generated by the helper.</td>
</tr>
<tr class="row-odd"><td>lastmod</td>
<td>The date of last modification of the file, in W3C Datetime format. This time portion can be omitted if desired, and only use YYYY-MM-DD. The helper will try to retrieve the lastmod value from the page&#8217;s custom property lastmod if it is set in the page. If the value is not a valid date, it is ignored.</td>
</tr>
<tr class="row-even"><td>changefreq</td>
<td>How frequently the page is likely to change. This value provides general information to search engines and may not correlate exactly to how often they crawl the page. Valid values are: alwayshourlydailyweeklymonthlyyearlynever The helper will try to retrieve the changefreq value from the page&#8217;s custom property changefreq if it is set in the page. If the value is not valid, it is ignored.</td>
</tr>
<tr class="row-odd"><td>priority</td>
<td>The priority of this URL relative to other URLs on your site. Valid values range from 0.0 to 1.0. The helper will try to retrieve the priority value from the page&#8217;s custom property priority if it is set in the page. If the value is not valid, it is ignored.</td>
</tr>
</tbody>
</table>
<p>Methods in the sitemap helper:</p>
<ul class="simple">
<li><em>{get|set}FormatOutput()</em> gets/sets a flag indicating whether <em>XML</em> output should be formatted. This corresponds
to the <em>formatOutput</em> property of the native <tt class="docutils literal"><span class="pre">DOMDocument</span></tt> class. Read more at <a class="reference external" href="http://php.net/domdocument">PHP: DOMDocument - Manual</a>.
Default is <tt class="docutils literal"><span class="pre">FALSE</span></tt>.</li>
<li><em>{get|set}UseXmlDeclaration()</em> gets/sets a flag indicating whether the <em>XML</em> declaration should be included when
rendering. Default is <tt class="docutils literal"><span class="pre">TRUE</span></tt>.</li>
<li><em>{get|set}UseSitemapValidators()</em> gets/sets a flag indicating whether sitemap validators should be used when
generating the DOM sitemap. Default is <tt class="docutils literal"><span class="pre">TRUE</span></tt>.</li>
<li><em>{get|set}UseSchemaValidation()</em> gets/sets a flag indicating whether the helper should use <em>XML</em> Schema
validation when generating the DOM sitemap. Default is <tt class="docutils literal"><span class="pre">FALSE</span></tt>. If <tt class="docutils literal"><span class="pre">TRUE</span></tt>.</li>
<li><em>{get|set}ServerUrl()</em> gets/sets server <em>URL</em> that will be prepended to non-absolute <em>URL</em>s in the <tt class="docutils literal"><span class="pre">url()</span></tt>
method. If no server <em>URL</em> is specified, it will be determined by the helper.</li>
<li><tt class="docutils literal"><span class="pre">url()</span></tt> is used to generate absolute <em>URL</em>s to pages.</li>
<li><tt class="docutils literal"><span class="pre">getDomSitemap()</span></tt> generates a DOMDocument from a given container.</li>
</ul>
<p class="rubric" id="zend-view-helpers-initial-navigation-sitemap-example">Rendering an XML sitemap</p>
<p>This example shows how to render an <em>XML</em> sitemap based on the setup we did further up.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1">// In a view script or layout:</span>

<span class="c1">// format output</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">navigation</span><span class="p">()</span>
      <span class="o">-&gt;</span><span class="na">sitemap</span><span class="p">()</span>
      <span class="o">-&gt;</span><span class="na">setFormatOutput</span><span class="p">(</span><span class="k">true</span><span class="p">);</span> <span class="c1">// default is false</span>

<span class="c1">// other possible methods:</span>
<span class="c1">// -&gt;setUseXmlDeclaration(false); // default is true</span>
<span class="c1">// -&gt;setServerUrl(&#39;http://my.otherhost.com&#39;);</span>
<span class="c1">// default is to detect automatically</span>

<span class="c1">// print sitemap</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">navigation</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">sitemap</span><span class="p">();</span>
</pre></div>
</td></tr></table></div>
<p>Notice how pages that are invisible or pages with <em>ACL</em> roles incompatible with the view helper are filtered out:</p>
<div class="highlight-xml"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54</pre></div></td><td class="code"><div class="highlight"><pre><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="nt">&lt;urlset</span> <span class="na">xmlns=</span><span class="s">&quot;http://www.sitemaps.org/schemas/sitemap/0.9&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;url&gt;</span>
    <span class="nt">&lt;loc&gt;</span>http://www.example.com/<span class="nt">&lt;/loc&gt;</span>
  <span class="nt">&lt;/url&gt;</span>
  <span class="nt">&lt;url&gt;</span>
    <span class="nt">&lt;loc&gt;</span>http://www.example.com/products<span class="nt">&lt;/loc&gt;</span>
  <span class="nt">&lt;/url&gt;</span>
  <span class="nt">&lt;url&gt;</span>
    <span class="nt">&lt;loc&gt;</span>http://www.example.com/products/server<span class="nt">&lt;/loc&gt;</span>
  <span class="nt">&lt;/url&gt;</span>
  <span class="nt">&lt;url&gt;</span>
    <span class="nt">&lt;loc&gt;</span>http://www.example.com/products/server/faq<span class="nt">&lt;/loc&gt;</span>
  <span class="nt">&lt;/url&gt;</span>
  <span class="nt">&lt;url&gt;</span>
    <span class="nt">&lt;loc&gt;</span>http://www.example.com/products/server/editions<span class="nt">&lt;/loc&gt;</span>
  <span class="nt">&lt;/url&gt;</span>
  <span class="nt">&lt;url&gt;</span>
    <span class="nt">&lt;loc&gt;</span>http://www.example.com/products/server/requirements<span class="nt">&lt;/loc&gt;</span>
  <span class="nt">&lt;/url&gt;</span>
  <span class="nt">&lt;url&gt;</span>
    <span class="nt">&lt;loc&gt;</span>http://www.example.com/products/studio<span class="nt">&lt;/loc&gt;</span>
  <span class="nt">&lt;/url&gt;</span>
  <span class="nt">&lt;url&gt;</span>
    <span class="nt">&lt;loc&gt;</span>http://www.example.com/products/studio/customers<span class="nt">&lt;/loc&gt;</span>
  <span class="nt">&lt;/url&gt;</span>
  <span class="nt">&lt;url&gt;</span>
    <span class="nt">&lt;loc&gt;</span>http://www.example.com/prodcts/studio/support<span class="nt">&lt;/loc&gt;</span>
  <span class="nt">&lt;/url&gt;</span>
  <span class="nt">&lt;url&gt;</span>
    <span class="nt">&lt;loc&gt;</span>http://www.example.com/company/about<span class="nt">&lt;/loc&gt;</span>
  <span class="nt">&lt;/url&gt;</span>
  <span class="nt">&lt;url&gt;</span>
    <span class="nt">&lt;loc&gt;</span>http://www.example.com/company/about/investors<span class="nt">&lt;/loc&gt;</span>
  <span class="nt">&lt;/url&gt;</span>
  <span class="nt">&lt;url&gt;</span>
    <span class="nt">&lt;loc&gt;</span>http://www.example.com/company/news<span class="nt">&lt;/loc&gt;</span>
  <span class="nt">&lt;/url&gt;</span>
  <span class="nt">&lt;url&gt;</span>
    <span class="nt">&lt;loc&gt;</span>http://www.example.com/company/news/press<span class="nt">&lt;/loc&gt;</span>
  <span class="nt">&lt;/url&gt;</span>
  <span class="nt">&lt;url&gt;</span>
    <span class="nt">&lt;loc&gt;</span>http://www.example.com/archive<span class="nt">&lt;/loc&gt;</span>
  <span class="nt">&lt;/url&gt;</span>
  <span class="nt">&lt;url&gt;</span>
    <span class="nt">&lt;loc&gt;</span>http://www.example.com/community<span class="nt">&lt;/loc&gt;</span>
  <span class="nt">&lt;/url&gt;</span>
  <span class="nt">&lt;url&gt;</span>
    <span class="nt">&lt;loc&gt;</span>http://www.example.com/community/account<span class="nt">&lt;/loc&gt;</span>
  <span class="nt">&lt;/url&gt;</span>
  <span class="nt">&lt;url&gt;</span>
    <span class="nt">&lt;loc&gt;</span>http://forums.example.com/<span class="nt">&lt;/loc&gt;</span>
  <span class="nt">&lt;/url&gt;</span>
<span class="nt">&lt;/urlset&gt;</span>
</pre></div>
</td></tr></table></div>
<p>Render the sitemap using no <em>ACL</em> role (should filter out /community/account):</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">navigation</span><span class="p">()</span>
          <span class="o">-&gt;</span><span class="na">sitemap</span><span class="p">()</span>
          <span class="o">-&gt;</span><span class="na">setFormatOutput</span><span class="p">(</span><span class="k">true</span><span class="p">)</span>
          <span class="o">-&gt;</span><span class="na">setRole</span><span class="p">();</span>
</pre></div>
</td></tr></table></div>
<div class="highlight-xml"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51</pre></div></td><td class="code"><div class="highlight"><pre><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="nt">&lt;urlset</span> <span class="na">xmlns=</span><span class="s">&quot;http://www.sitemaps.org/schemas/sitemap/0.9&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;url&gt;</span>
    <span class="nt">&lt;loc&gt;</span>http://www.example.com/<span class="nt">&lt;/loc&gt;</span>
  <span class="nt">&lt;/url&gt;</span>
  <span class="nt">&lt;url&gt;</span>
    <span class="nt">&lt;loc&gt;</span>http://www.example.com/products<span class="nt">&lt;/loc&gt;</span>
  <span class="nt">&lt;/url&gt;</span>
  <span class="nt">&lt;url&gt;</span>
    <span class="nt">&lt;loc&gt;</span>http://www.example.com/products/server<span class="nt">&lt;/loc&gt;</span>
  <span class="nt">&lt;/url&gt;</span>
  <span class="nt">&lt;url&gt;</span>
    <span class="nt">&lt;loc&gt;</span>http://www.example.com/products/server/faq<span class="nt">&lt;/loc&gt;</span>
  <span class="nt">&lt;/url&gt;</span>
  <span class="nt">&lt;url&gt;</span>
    <span class="nt">&lt;loc&gt;</span>http://www.example.com/products/server/editions<span class="nt">&lt;/loc&gt;</span>
  <span class="nt">&lt;/url&gt;</span>
  <span class="nt">&lt;url&gt;</span>
    <span class="nt">&lt;loc&gt;</span>http://www.example.com/products/server/requirements<span class="nt">&lt;/loc&gt;</span>
  <span class="nt">&lt;/url&gt;</span>
  <span class="nt">&lt;url&gt;</span>
    <span class="nt">&lt;loc&gt;</span>http://www.example.com/products/studio<span class="nt">&lt;/loc&gt;</span>
  <span class="nt">&lt;/url&gt;</span>
  <span class="nt">&lt;url&gt;</span>
    <span class="nt">&lt;loc&gt;</span>http://www.example.com/products/studio/customers<span class="nt">&lt;/loc&gt;</span>
  <span class="nt">&lt;/url&gt;</span>
  <span class="nt">&lt;url&gt;</span>
    <span class="nt">&lt;loc&gt;</span>http://www.example.com/prodcts/studio/support<span class="nt">&lt;/loc&gt;</span>
  <span class="nt">&lt;/url&gt;</span>
  <span class="nt">&lt;url&gt;</span>
    <span class="nt">&lt;loc&gt;</span>http://www.example.com/company/about<span class="nt">&lt;/loc&gt;</span>
  <span class="nt">&lt;/url&gt;</span>
  <span class="nt">&lt;url&gt;</span>
    <span class="nt">&lt;loc&gt;</span>http://www.example.com/company/about/investors<span class="nt">&lt;/loc&gt;</span>
  <span class="nt">&lt;/url&gt;</span>
  <span class="nt">&lt;url&gt;</span>
    <span class="nt">&lt;loc&gt;</span>http://www.example.com/company/news<span class="nt">&lt;/loc&gt;</span>
  <span class="nt">&lt;/url&gt;</span>
  <span class="nt">&lt;url&gt;</span>
    <span class="nt">&lt;loc&gt;</span>http://www.example.com/company/news/press<span class="nt">&lt;/loc&gt;</span>
  <span class="nt">&lt;/url&gt;</span>
  <span class="nt">&lt;url&gt;</span>
    <span class="nt">&lt;loc&gt;</span>http://www.example.com/archive<span class="nt">&lt;/loc&gt;</span>
  <span class="nt">&lt;/url&gt;</span>
  <span class="nt">&lt;url&gt;</span>
    <span class="nt">&lt;loc&gt;</span>http://www.example.com/community<span class="nt">&lt;/loc&gt;</span>
  <span class="nt">&lt;/url&gt;</span>
  <span class="nt">&lt;url&gt;</span>
    <span class="nt">&lt;loc&gt;</span>http://forums.example.com/<span class="nt">&lt;/loc&gt;</span>
  <span class="nt">&lt;/url&gt;</span>
<span class="nt">&lt;/urlset&gt;</span>
</pre></div>
</td></tr></table></div>
<p>Render the sitemap using a maximum depth of 1.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">navigation</span><span class="p">()</span>
          <span class="o">-&gt;</span><span class="na">sitemap</span><span class="p">()</span>
          <span class="o">-&gt;</span><span class="na">setFormatOutput</span><span class="p">(</span><span class="k">true</span><span class="p">)</span>
          <span class="o">-&gt;</span><span class="na">setMaxDepth</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<div class="highlight-xml"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33</pre></div></td><td class="code"><div class="highlight"><pre><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="nt">&lt;urlset</span> <span class="na">xmlns=</span><span class="s">&quot;http://www.sitemaps.org/schemas/sitemap/0.9&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;url&gt;</span>
    <span class="nt">&lt;loc&gt;</span>http://www.example.com/<span class="nt">&lt;/loc&gt;</span>
  <span class="nt">&lt;/url&gt;</span>
  <span class="nt">&lt;url&gt;</span>
    <span class="nt">&lt;loc&gt;</span>http://www.example.com/products<span class="nt">&lt;/loc&gt;</span>
  <span class="nt">&lt;/url&gt;</span>
  <span class="nt">&lt;url&gt;</span>
    <span class="nt">&lt;loc&gt;</span>http://www.example.com/products/server<span class="nt">&lt;/loc&gt;</span>
  <span class="nt">&lt;/url&gt;</span>
  <span class="nt">&lt;url&gt;</span>
    <span class="nt">&lt;loc&gt;</span>http://www.example.com/products/studio<span class="nt">&lt;/loc&gt;</span>
  <span class="nt">&lt;/url&gt;</span>
  <span class="nt">&lt;url&gt;</span>
    <span class="nt">&lt;loc&gt;</span>http://www.example.com/company/about<span class="nt">&lt;/loc&gt;</span>
  <span class="nt">&lt;/url&gt;</span>
  <span class="nt">&lt;url&gt;</span>
    <span class="nt">&lt;loc&gt;</span>http://www.example.com/company/about/investors<span class="nt">&lt;/loc&gt;</span>
  <span class="nt">&lt;/url&gt;</span>
  <span class="nt">&lt;url&gt;</span>
    <span class="nt">&lt;loc&gt;</span>http://www.example.com/company/news<span class="nt">&lt;/loc&gt;</span>
  <span class="nt">&lt;/url&gt;</span>
  <span class="nt">&lt;url&gt;</span>
    <span class="nt">&lt;loc&gt;</span>http://www.example.com/community<span class="nt">&lt;/loc&gt;</span>
  <span class="nt">&lt;/url&gt;</span>
  <span class="nt">&lt;url&gt;</span>
    <span class="nt">&lt;loc&gt;</span>http://www.example.com/community/account<span class="nt">&lt;/loc&gt;</span>
  <span class="nt">&lt;/url&gt;</span>
  <span class="nt">&lt;url&gt;</span>
    <span class="nt">&lt;loc&gt;</span>http://forums.example.com/<span class="nt">&lt;/loc&gt;</span>
  <span class="nt">&lt;/url&gt;</span>
<span class="nt">&lt;/urlset&gt;</span>
</pre></div>
</td></tr></table></div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>UTF-8 encoding used by default</strong></p>
<p>By default, Zend Framework uses <em>UTF-8</em> as its default encoding, and, specific to this case, <tt class="docutils literal"><span class="pre">Zend_View</span></tt> does
as well. Character encoding can be set differently on the view object itself using the <tt class="docutils literal"><span class="pre">setEncoding()</span></tt> method
(or the the <tt class="docutils literal"><span class="pre">encoding</span></tt> instantiation parameter). However, since <tt class="docutils literal"><span class="pre">Zend_View_Interface</span></tt> does not define
accessors for encoding, it&#8217;s possible that if you are using a custom view implementation with the Dojo view
helper, you will not have a <tt class="docutils literal"><span class="pre">getEncoding()</span></tt> method, which is what the view helper uses internally for
determining the character set in which to encode.</p>
<p class="last">If you do not want to utilize <em>UTF-8</em> in such a situation, you will need to implement a <tt class="docutils literal"><span class="pre">getEncoding()</span></tt> method
in your custom view implementation.</p>
</div>
</div>
<div class="section" id="navigation-helper">
<span id="zend-view-helpers-initial-navigation-navigation"></span><h2>Navigation Helper<a class="headerlink" href="#navigation-helper" title="Permalink to this headline">¶</a></h2>
<p>The Navigation helper is a proxy helper that relays calls to other navigational helpers. It can be considered an
entry point to all navigation-related view tasks. The aforementioned navigational helpers are in the namespace
<tt class="docutils literal"><span class="pre">Zend_View_Helper_Navigation</span></tt>, and would thus require the path <em>Zend/View/Helper/Navigation</em> to be added as a
helper path to the view. With the proxy helper residing in the <tt class="docutils literal"><span class="pre">Zend_View_Helper</span></tt> namespace, it will always be
available, without the need to add any helper paths to the view.</p>
<p>The Navigation helper finds other helpers that implement the <tt class="docutils literal"><span class="pre">Zend_View_Helper_Navigation_Helper</span></tt> interface,
which means custom view helpers can also be proxied. This would, however, require that the custom helper path is
added to the view.</p>
<p>When proxying to other helpers, the Navigation helper can inject its container, <em>ACL</em>/role, and translator. This
means that you won&#8217;t have to explicitly set all three in all navigational helpers, nor resort to injecting by means
of <tt class="docutils literal"><span class="pre">Zend_Registry</span></tt> or static methods.</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">findHelper()</span></tt> finds the given helper, verifies that it is a navigational helper, and injects container,
<em>ACL</em>/role and translator.</li>
<li><em>{get|set}InjectContainer()</em> gets/sets a flag indicating whether the container should be injected to proxied
helpers. Default is <tt class="docutils literal"><span class="pre">TRUE</span></tt>.</li>
<li><em>{get|set}InjectAcl()</em> gets/sets a flag indicating whether the <em>ACL</em>/role should be injected to proxied helpers.
Default is <tt class="docutils literal"><span class="pre">TRUE</span></tt>.</li>
<li><em>{get|set}InjectTranslator()</em> gets/sets a flag indicating whether the translator should be injected to proxied
helpers. Default is <tt class="docutils literal"><span class="pre">TRUE</span></tt>.</li>
<li><em>{get|set}DefaultProxy()</em> gets/sets the default proxy. Default is <em>&#8216;menu&#8217;</em>.</li>
<li><tt class="docutils literal"><span class="pre">render()</span></tt> proxies to the render method of the default proxy.</li>
</ul>
</div>
<div class="section" id="registering-helpers">
<span id="zend-view-helpers-register"></span><h2>Registering Helpers<a class="headerlink" href="#registering-helpers" title="Permalink to this headline">¶</a></h2>
<p><tt class="docutils literal"><span class="pre">Zend\View\Renderer\PhpRenderer</span></tt> composes a <em class="xref std std-ref">plugin broker</em> for managing
helpers, specifically an instance of <tt class="docutils literal"><span class="pre">Zend\View\HelperBroker</span></tt>, which extends the base plugin broker in order to
ensure we have valid helpers available. The <tt class="docutils literal"><span class="pre">HelperBroker</span></tt> by default uses <tt class="docutils literal"><span class="pre">Zend\View\HelperLoader</span></tt> as its
helper locator. The <tt class="docutils literal"><span class="pre">HelperLoader</span></tt> is a map-based loader, which means that you will simply map the helper/plugin
name by which you wish to refer to it to the actual class name of the helper/plugin.</p>
<p>Programmatically, this is done as follows:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1">// $view is an instance of PhpRenderer</span>
<span class="nv">$broker</span> <span class="o">=</span> <span class="nv">$view</span><span class="o">-&gt;</span><span class="na">getBroker</span><span class="p">();</span>
<span class="nv">$loader</span> <span class="o">=</span> <span class="nv">$broker</span><span class="o">-&gt;</span><span class="na">getClassLoader</span><span class="p">();</span>

<span class="c1">// Register singly:</span>
<span class="nv">$loader</span><span class="o">-&gt;</span><span class="na">registerPlugin</span><span class="p">(</span><span class="s1">&#39;lowercase&#39;</span><span class="p">,</span> <span class="s1">&#39;My\Helper\LowerCase&#39;</span><span class="p">);</span>

<span class="c1">// Register several:</span>
<span class="nv">$loader</span><span class="o">-&gt;</span><span class="na">registerPlugins</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;lowercase&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;My\Helper\LowerCase&#39;</span><span class="p">,</span>
    <span class="s1">&#39;uppercase&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;My\Helper\UpperCase&#39;</span><span class="p">,</span>
<span class="p">));</span>
</pre></div>
</td></tr></table></div>
<p>Within an MVC application, you will typically simply pass a map of plugins to the class via your configuration.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1">// From within a configuration file</span>
<span class="k">return</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;di&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;instance&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;Zend\View\HelperLoader&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;parameters&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
            <span class="s1">&#39;map&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
                <span class="s1">&#39;lowercase&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;My\Helper\LowerCase&#39;</span><span class="p">,</span>
                <span class="s1">&#39;uppercase&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;My\Helper\UpperCase&#39;</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">)),</span>
    <span class="p">)),</span>
<span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>The above can be done in each module that needs to register helpers with the <tt class="docutils literal"><span class="pre">PhpRenderer</span></tt>; however, be aware
that another module can register helpers with the same name, so order of modules can impact which helper class will
actually be registered!</p>
</div>
<div class="section" id="writing-custom-helpers">
<span id="zend-view-helpers-custom"></span><h2>Writing Custom Helpers<a class="headerlink" href="#writing-custom-helpers" title="Permalink to this headline">¶</a></h2>
<p>Writing custom helpers is easy. We recommend extending <tt class="docutils literal"><span class="pre">Zend\View\Helper\AbstractHelper</span></tt>, but at the minimum, you
need only implement the <tt class="docutils literal"><span class="pre">Zend\View\Helper</span></tt> interface:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">namespace</span> <span class="nx">Zend\View</span><span class="p">;</span>

<span class="k">interface</span> <span class="nx">Helper</span>
<span class="p">{</span>
    <span class="sd">/**</span>
<span class="sd">     * Set the View object</span>
<span class="sd">     *</span>
<span class="sd">     * @param  Renderer $view</span>
<span class="sd">     * @return Helper</span>
<span class="sd">     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">setView</span><span class="p">(</span><span class="nx">Renderer</span> <span class="nv">$view</span><span class="p">);</span>

    <span class="sd">/**</span>
<span class="sd">     * Get the View object</span>
<span class="sd">     *</span>
<span class="sd">     * @return Renderer</span>
<span class="sd">     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">getView</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>If you want your helper to be capable of being invoked as if it were a method call of the <tt class="docutils literal"><span class="pre">PhpRenderer</span></tt>, you
should also implement an <tt class="docutils literal"><span class="pre">__invoke()</span></tt> method within your helper.</p>
<p>As previously noted, we recommend extending <tt class="docutils literal"><span class="pre">Zend\View\Helper\AbstractHelper</span></tt>, as it implements the methods
defined in <tt class="docutils literal"><span class="pre">Helper</span></tt>, giving you a headstart in your development.</p>
<p>Once you have defined your helper class, make sure you can autoload it, and then <a class="reference internal" href="#zend-view-helpers-register"><em>register it with the plugin
broker</em></a>.</p>
<p>Here is an example helper, which we&#8217;re titling &#8220;SpecialPurpose&#8221;</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">namespace</span> <span class="nx">My\View\Helper</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">Zend\View\Helper\AbstractHelper</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">SpecialPurpose</span> <span class="k">extends</span> <span class="nx">AbstractHelper</span>
<span class="p">{</span>
    <span class="k">protected</span> <span class="nv">$count</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">__invoke</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">count</span><span class="o">++</span><span class="p">;</span>
        <span class="nv">$output</span> <span class="o">=</span> <span class="nb">sprintf</span><span class="p">(</span><span class="s2">&quot;I have seen &#39;The Jerk&#39; %d time(s).&quot;</span><span class="p">,</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">count</span><span class="p">);</span>
        <span class="k">return</span> <span class="nb">htmlspecialchars</span><span class="p">(</span><span class="nv">$output</span><span class="p">,</span> <span class="nx">ENT_QUOTES</span><span class="p">,</span> <span class="s1">&#39;UTF-8&#39;</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>Then assume that when we <a class="reference internal" href="#zend-view-helpers-register"><em>register it with the plugin broker</em></a>, we map it to the
string &#8220;specialpurpose&#8221;.</p>
<p>Within a view script, you can call the <tt class="docutils literal"><span class="pre">SpecialPurpose</span></tt> helper as many times as you like; it will be instantiated
once, and then it persists for the life of that <tt class="docutils literal"><span class="pre">PhpRenderer</span></tt> instance.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1">// remember, in a view script, $this refers to the Zend_View instance.</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">specialPurpose</span><span class="p">();</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">specialPurpose</span><span class="p">();</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">specialPurpose</span><span class="p">();</span>
</pre></div>
</td></tr></table></div>
<p>The output would look something like this:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span class="nx">I</span> <span class="nx">have</span> <span class="nx">seen</span> <span class="s1">&#39;The Jerk&#39;</span> <span class="mi">1</span> <span class="nb">time</span><span class="p">(</span><span class="nx">s</span><span class="p">)</span><span class="o">.</span>
<span class="nx">I</span> <span class="nx">have</span> <span class="nx">seen</span> <span class="s1">&#39;The Jerk&#39;</span> <span class="mi">2</span> <span class="nb">time</span><span class="p">(</span><span class="nx">s</span><span class="p">)</span><span class="o">.</span>
<span class="nx">I</span> <span class="nx">have</span> <span class="nx">seen</span> <span class="s1">&#39;The Jerk&#39;</span> <span class="mi">3</span> <span class="nb">time</span><span class="p">(</span><span class="nx">s</span><span class="p">)</span><span class="o">.</span>
</pre></div>
</td></tr></table></div>
<p>Sometimes you will need access to the calling <tt class="docutils literal"><span class="pre">PhpRenderer</span></tt> object &#8211; for instance, if you need to use the
registered encoding, or want to render another view script as part of your helper. This is why we define the
<tt class="docutils literal"><span class="pre">setView()</span></tt> and <tt class="docutils literal"><span class="pre">getView()</span></tt> methods. As an example, we could rewrite the <tt class="docutils literal"><span class="pre">SpecialPurpose</span></tt> helper as follows
to take advantage of the <tt class="docutils literal"><span class="pre">EscapeHtml</span></tt> helper:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">namespace</span> <span class="nx">My\View\Helper</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">Zend\View\Helper\AbstractHelper</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">SpecialPurpose</span> <span class="k">extends</span> <span class="nx">AbstractHelper</span>
<span class="p">{</span>
    <span class="k">protected</span> <span class="nv">$count</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">__invoke</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">count</span><span class="o">++</span><span class="p">;</span>
        <span class="nv">$output</span>  <span class="o">=</span> <span class="nb">sprintf</span><span class="p">(</span><span class="s2">&quot;I have seen &#39;The Jerk&#39; %d time(s).&quot;</span><span class="p">,</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">count</span><span class="p">);</span>
        <span class="nv">$escaper</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getView</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">plugin</span><span class="p">(</span><span class="s1">&#39;escapehtml&#39;</span><span class="p">);</span>
        <span class="k">return</span> <span class="nv">$escaper</span><span class="p">(</span><span class="nv">$output</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="registering-concrete-helpers">
<span id="zend-view-helpers-registering-concrete"></span><h2>Registering Concrete Helpers<a class="headerlink" href="#registering-concrete-helpers" title="Permalink to this headline">¶</a></h2>
<p>Sometimes it is convenient to instantiate a view helper, and then register it with the renderer. This can be done
by injecting it directly into the plugin broker.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1">// $view is a PhpRenderer instance</span>

<span class="nv">$helper</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">My_Helper_Foo</span><span class="p">();</span>
<span class="c1">// ...do some configuration or dependency injection...</span>

<span class="nv">$view</span><span class="o">-&gt;</span><span class="na">getBroker</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">register</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="nv">$helper</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>When registered, the plugin broker will inject the <tt class="docutils literal"><span class="pre">PhpRenderer</span></tt> instance into the helper.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/zf2_logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">View Helpers</a><ul>
<li><a class="reference internal" href="#included-helpers">Included Helpers</a></li>
</ul>
</li>
<li><a class="reference internal" href="#action-view-helper">Action View Helper</a></li>
<li><a class="reference internal" href="#baseurl-helper">BaseUrl Helper</a></li>
<li><a class="reference internal" href="#cycle-helper">Cycle Helper</a></li>
<li><a class="reference internal" href="#partial-helper">Partial Helper</a></li>
<li><a class="reference internal" href="#placeholder-helper">Placeholder Helper</a><ul>
<li><a class="reference internal" href="#concrete-placeholder-implementations">Concrete Placeholder Implementations</a></li>
</ul>
</li>
<li><a class="reference internal" href="#doctype-helper">Doctype Helper</a></li>
<li><a class="reference internal" href="#headlink-helper">HeadLink Helper</a></li>
<li><a class="reference internal" href="#headmeta-helper">HeadMeta Helper</a></li>
<li><a class="reference internal" href="#headscript-helper">HeadScript Helper</a></li>
<li><a class="reference internal" href="#headstyle-helper">HeadStyle Helper</a></li>
<li><a class="reference internal" href="#headtitle-helper">HeadTitle Helper</a></li>
<li><a class="reference internal" href="#html-object-helpers">HTML Object Helpers</a></li>
<li><a class="reference internal" href="#inlinescript-helper">InlineScript Helper</a></li>
<li><a class="reference internal" href="#json-helper">JSON Helper</a></li>
<li><a class="reference internal" href="#navigation-helpers">Navigation Helpers</a><ul>
<li><a class="reference internal" href="#translation-of-labels-and-titles">Translation of labels and titles</a></li>
<li><a class="reference internal" href="#integration-with-acl">Integration with ACL</a></li>
<li><a class="reference internal" href="#navigation-setup-used-in-examples">Navigation setup used in examples</a></li>
<li><a class="reference internal" href="#breadcrumbs-helper">Breadcrumbs Helper</a></li>
<li><a class="reference internal" href="#links-helper">Links Helper</a></li>
<li><a class="reference internal" href="#menu-helper">Menu Helper</a></li>
<li><a class="reference internal" href="#sitemap-helper">Sitemap Helper</a></li>
<li><a class="reference internal" href="#navigation-helper">Navigation Helper</a></li>
<li><a class="reference internal" href="#registering-helpers">Registering Helpers</a></li>
<li><a class="reference internal" href="#writing-custom-helpers">Writing Custom Helpers</a></li>
<li><a class="reference internal" href="#registering-concrete-helpers">Registering Concrete Helpers</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="zend.view.php-renderer.scripts.html"
                        title="previous chapter">PhpRenderer View Scripts</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="zend.xmlrpc.intro.html"
                        title="next chapter">Introduction</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/modules/zend.view.helpers.txt"
           rel="nofollow">Show Source</a></li>
    <li><a href="https://github.com/zendframework/zf2-documentation/edit/master/docs/languages/en/modules/zend.view.helpers.rst"
           rel="nofollow">Edit Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="zend.xmlrpc.intro.html" title="Introduction"
             >next</a> |</li>
        <li class="right" >
          <a href="zend.view.php-renderer.scripts.html" title="PhpRenderer View Scripts"
             >previous</a> |</li>
        <li><a href="../index.html">Zend Framework 2 2.0.0rc3 documentation</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer">
        &copy; Copyright 2012, Zend Technologies Ltd..
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
<div id="edit-button">
    <img src="../_static/edit.gif" alt="Edit this document" title="Edit this document" onclick="javascript:$('#editor-trap').toggle();">
</div>
     
<div id="editor-trap">
    <h3>Edit this document</h3>

    <p>
        The source code of this file is hosted on GitHub. Everyone can
        update and fix errors in this document with few clicks -
        no downloads needed.
    <p>

    <ol>

        <li>
            Go to
            <a href="https://github.com/zendframework/zf2-documentation/edit/master/docs/languages/en/modules/zend.view.helpers.rst">
                View Helpers
            </a> on GitHub.
        </li>

        <li>
            Edit file contents using GitHub's text editor in your web browser
        </li>

        <li>
            Fill in the <b>Commit message</b> text box at the end of the page telling <i>why</i>
            you did the changes. Press <b>Propose file change</b> button next to it when done.
        </li>


        <li>
            On <i>Send a pull request</i> page you don't need to fill in text anymore. Just
            press <b>Send pull request</b> button.
        </li>

        <li>
            Your changes are now queued for review under project's <a href="https://github.com/zendframework/zf2-documentation/pulls">Pull requests</a> tab on GitHub.
        </li>
    </ol>

</div>


  </body>
</html>
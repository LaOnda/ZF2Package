

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Validators for ZendFileTransfer &mdash; Zend Framework 2 2.0.6 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.0.6',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Zend Framework 2 2.0.6 documentation" href="../index.html" />
<style type="text/css">
    /* Styles for floating Edit on GitHub box */
    #editor-trap {
        padding: 1em;
        border: 1px solid white;
        width: 250px;

        display: none;
        color: white;
        background: #3f454b;
        position: fixed;
        bottom: 5px;
        left: 175px;
        font-size: 85%;
        text-align: left;
        z-index: 2;

        box-shadow: 0 4px 6px #333;
        -moz-box-shadow: 0 4px 6px #333;
        -webkit-box-shadow: 0 4px 6px #333;
        
        cursor: pointer;
    }

    #editor-trap h3 {
        margin: 0 0 0.5em 0;
        padding: 0;
    }

    #editor-trap h3 > span {
        padding: 0 6px;
        border: solid white;
        border-width: 0 1px 4px 1px;
        font-size: 10px;
    }

    #editor-trap a {
        color: #98DBCC;
    }

    #editor-trap ol {
        margin: 0;
        padding: 0 0 0 2em;
    }

    /* Hide trick */
    #editor-trap.toggled > * {
        display: none;
    }


    #editor-trap.toggled > h3 {
        display: block;
    }

    #editor-trap.toggled > h3 > span {
        border-width: 6px 1px 0 1px;
    }
    
    #edit-button {
        position: fixed;
        bottom: 5px;
        left: 5px;
        z-index: 2;
        width: 162px;
        height: 42px;
    }
</style>

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li><a href="../index.html">Zend Framework 2 2.0.6 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="validators-for-zendfiletransfer">
<span id="zend-file-transfer-validators"></span><h1>Validators for ZendFileTransfer<a class="headerlink" href="#validators-for-zendfiletransfer" title="Permalink to this headline">¶</a></h1>
<p><tt class="docutils literal"><span class="pre">Zend\File\Transfer</span></tt> is delivered with several file-related validators which can be used to increase security and
prevent possible attacks. Note that these validators are only as effective as how effectively you apply them. All
validators provided with <tt class="docutils literal"><span class="pre">Zend\File\Transfer</span></tt> can be found in the <tt class="docutils literal"><span class="pre">Zend\Validator</span></tt> component and are named
<tt class="docutils literal"><span class="pre">Zend\Validate\File\*</span></tt>. The following validators are available:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">Count</span></tt>: This validator checks for the number of files. A minimum and maximum range can be specified. An error
will be thrown if either limit is crossed.</li>
<li><tt class="docutils literal"><span class="pre">Crc32</span></tt>: This validator checks for the crc32 hash value of the content from a file. It is based on the <tt class="docutils literal"><span class="pre">Hash</span></tt>
validator and provides a convenient and simple validator that only supports Crc32.</li>
<li><tt class="docutils literal"><span class="pre">ExcludeExtension</span></tt>: This validator checks the extension of files. It will throw an error when an given file has
a defined extension. With this validator, you can exclude defined extensions from being validated.</li>
<li><tt class="docutils literal"><span class="pre">ExcludeMimeType</span></tt>: This validator validates the <em>MIME</em> type of files. It can also validate <em>MIME</em> types and
will throw an error if the <em>MIME</em> type of specified file matches.</li>
<li><tt class="docutils literal"><span class="pre">Exists</span></tt>: This validator checks for the existence of files. It will throw an error when a specified file does
not exist.</li>
<li><tt class="docutils literal"><span class="pre">Extension</span></tt>: This validator checks the extension of files. It will throw an error when a specified file has an
undefined extension.</li>
<li><tt class="docutils literal"><span class="pre">FilesSize</span></tt>: This validator checks the size of validated files. It remembers internally the size of all checked
files and throws an error when the sum of all specified files exceed the defined size. It also provides minimum
and maximum values.</li>
<li><tt class="docutils literal"><span class="pre">ImageSize</span></tt>: This validator checks the size of image. It validates the width and height and enforces minimum
and maximum dimensions.</li>
<li><tt class="docutils literal"><span class="pre">IsCompressed</span></tt>: This validator checks whether the file is compressed. It is based on the <tt class="docutils literal"><span class="pre">MimeType</span></tt> validator
and validates for compression archives like zip or arc. You can also limit it to other archives.</li>
<li><tt class="docutils literal"><span class="pre">IsImage</span></tt>: This validator checks whether the file is an image. It is based on the <tt class="docutils literal"><span class="pre">MimeType</span></tt> validator and
validates for image files like jpg or gif. You can also limit it to other image types.</li>
<li><tt class="docutils literal"><span class="pre">Hash</span></tt>: This validator checks the hash value of the content from a file. It supports multiple algorithms.</li>
<li><tt class="docutils literal"><span class="pre">Md5</span></tt>: This validator checks for the md5 hash value of the content from a file. It is based on the <tt class="docutils literal"><span class="pre">Hash</span></tt>
validator and provides a convenient and simple validator that only supports Md5.</li>
<li><tt class="docutils literal"><span class="pre">MimeType</span></tt>: This validator validates the <em>MIME</em> type of files. It can also validate <em>MIME</em> types and will throw
an error if the <em>MIME</em> type of a specified file does not match.</li>
<li><tt class="docutils literal"><span class="pre">NotExists</span></tt>: This validator checks for the existence of files. It will throw an error when an given file does
exist.</li>
<li><tt class="docutils literal"><span class="pre">Sha1</span></tt>: This validator checks for the sha1 hash value of the content from a file. It is based on the <tt class="docutils literal"><span class="pre">Hash</span></tt>
validator and provides a convenient and simple validator that only supports sha1.</li>
<li><tt class="docutils literal"><span class="pre">Size</span></tt>: This validator is able to check files for its file size. It provides a minimum and maximum size range
and will throw an error when either of these thesholds are crossed.</li>
<li><tt class="docutils literal"><span class="pre">Upload</span></tt>: This validator is internal. It checks if an upload has resulted in an error. You must not set it, as
it&#8217;s automatically set by <tt class="docutils literal"><span class="pre">Zend\File\Transfer</span></tt> itself. So you do not use this validator directly. You should
only know that it exists.</li>
<li><tt class="docutils literal"><span class="pre">WordCount</span></tt>: This validator is able to check the number of words within files. It provides a minimum and
maximum count and will throw an error when either of these thresholds are crossed.</li>
</ul>
<div class="section" id="using-validators-with-zendfiletransfer">
<span id="zend-file-transfer-validators-usage"></span><h2>Using Validators with ZendFileTransfer<a class="headerlink" href="#using-validators-with-zendfiletransfer" title="Permalink to this headline">¶</a></h2>
<p>Putting validators to work is quite simple. There are several methods for adding and manipulating validators:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">isValid($files</span> <span class="pre">=</span> <span class="pre">null)</span></tt>: Checks the specified files using all validators. <tt class="docutils literal"><span class="pre">$files</span></tt> may be either a real
filename, the element&#8217;s name or the name of the temporary file.</li>
<li><tt class="docutils literal"><span class="pre">addValidator($validator,</span> <span class="pre">$breakChainOnFailure,</span> <span class="pre">$options</span> <span class="pre">=</span> <span class="pre">null,</span> <span class="pre">$files</span> <span class="pre">=</span> <span class="pre">null)</span></tt>: Adds the specified validator
to the validator stack (optionally only to the file(s) specified). <tt class="docutils literal"><span class="pre">$validator</span></tt> may be either an actual
validator instance or a short name specifying the validator type (e.g., &#8216;Count&#8217;).</li>
<li><tt class="docutils literal"><span class="pre">addValidators(array</span> <span class="pre">$validators,</span> <span class="pre">$files</span> <span class="pre">=</span> <span class="pre">null)</span></tt>: Adds the specified validators to the stack of validators.
Each entry may be either a validator type/options pair or an array with the key &#8216;validator&#8217; specifying the
validator. All other options will be considered validator options for instantiation.</li>
<li><tt class="docutils literal"><span class="pre">setValidators(array</span> <span class="pre">$validators,</span> <span class="pre">$files</span> <span class="pre">=</span> <span class="pre">null)</span></tt>: Overwrites any existing validators with the validators
specified. The validators should follow the syntax for <tt class="docutils literal"><span class="pre">addValidators()</span></tt>.</li>
<li><tt class="docutils literal"><span class="pre">hasValidator($name)</span></tt>: Indicates whether a validator has been registered.</li>
<li><tt class="docutils literal"><span class="pre">getValidator($name)</span></tt>: Returns a previously registered validator.</li>
<li><tt class="docutils literal"><span class="pre">getValidators($files</span> <span class="pre">=</span> <span class="pre">null)</span></tt>: Returns registered validators. If <tt class="docutils literal"><span class="pre">$files</span></tt> is specified, returns validators
for that particular file or set of files.</li>
<li><tt class="docutils literal"><span class="pre">removeValidator($name)</span></tt>: Removes a previously registered validator.</li>
<li><tt class="docutils literal"><span class="pre">clearValidators()</span></tt>: Clears all registered validators.</li>
</ul>
<p class="rubric" id="zend-file-transfer-validators-usage-example">Add Validators to a File Transfer Object</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$upload</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\File\Transfer</span><span class="p">();</span>

<span class="c1">// Set a file size with 20000 bytes</span>
<span class="nv">$upload</span><span class="o">-&gt;</span><span class="na">addValidator</span><span class="p">(</span><span class="s1">&#39;Size&#39;</span><span class="p">,</span> <span class="k">false</span><span class="p">,</span> <span class="mi">20000</span><span class="p">);</span>

<span class="c1">// Set a file size with 20 bytes minimum and 20000 bytes maximum</span>
<span class="nv">$upload</span><span class="o">-&gt;</span><span class="na">addValidator</span><span class="p">(</span><span class="s1">&#39;Size&#39;</span><span class="p">,</span> <span class="k">false</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;min&#39;</span> <span class="o">=&gt;</span> <span class="mi">20</span><span class="p">,</span> <span class="s1">&#39;max&#39;</span> <span class="o">=&gt;</span> <span class="mi">20000</span><span class="p">));</span>

<span class="c1">// Set a file size with 20 bytes minimum and 20000 bytes maximum and</span>
<span class="c1">// a file count in one step</span>
<span class="nv">$upload</span><span class="o">-&gt;</span><span class="na">setValidators</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;Size&#39;</span>  <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;min&#39;</span> <span class="o">=&gt;</span> <span class="mi">20</span><span class="p">,</span> <span class="s1">&#39;max&#39;</span> <span class="o">=&gt;</span> <span class="mi">20000</span><span class="p">),</span>
    <span class="s1">&#39;Count&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;min&#39;</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;max&#39;</span> <span class="o">=&gt;</span> <span class="mi">3</span><span class="p">),</span>
<span class="p">));</span>
</pre></div>
</td></tr></table></div>
<p class="rubric" id="zend-file-transfer-validators-usage-exampletwo">Limit Validators to Single Files</p>
<p><tt class="docutils literal"><span class="pre">addValidator()</span></tt>, <tt class="docutils literal"><span class="pre">addValidators()</span></tt>, and <tt class="docutils literal"><span class="pre">setValidators()</span></tt> each accept a final <tt class="docutils literal"><span class="pre">$files</span></tt> argument. This
argument can be used to specify a particular file or array of files on which to set the given validator.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$upload</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\File\Transfer</span><span class="p">();</span>

<span class="c1">// Set a file size with 20000 bytes and limits it only to &#39;file2&#39;</span>
<span class="nv">$upload</span><span class="o">-&gt;</span><span class="na">addValidator</span><span class="p">(</span><span class="s1">&#39;Size&#39;</span><span class="p">,</span> <span class="k">false</span><span class="p">,</span> <span class="mi">20000</span><span class="p">,</span> <span class="s1">&#39;file2&#39;</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>Normally, you should use the <tt class="docutils literal"><span class="pre">addValidators()</span></tt> method, which can be called multiple times.</p>
<p class="rubric" id="zend-file-transfer-validators-usage-examplemultiple">Add Multiple Validators</p>
<p>Often it&#8217;s simpler just to call <tt class="docutils literal"><span class="pre">addValidator()</span></tt> multiple times with one call for each validator. This also
increases readability and makes your code more maintainable. All methods provide a fluent interface, so you can
couple the calls as shown below:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$upload</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\File\Transfer</span><span class="p">();</span>

<span class="c1">// Set a file size with 20000 bytes</span>
<span class="nv">$upload</span><span class="o">-&gt;</span><span class="na">addValidator</span><span class="p">(</span><span class="s1">&#39;Size&#39;</span><span class="p">,</span> <span class="k">false</span><span class="p">,</span> <span class="mi">20000</span><span class="p">)</span>
       <span class="o">-&gt;</span><span class="na">addValidator</span><span class="p">(</span><span class="s1">&#39;Count&#39;</span><span class="p">,</span> <span class="k">false</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
       <span class="o">-&gt;</span><span class="na">addValidator</span><span class="p">(</span><span class="s1">&#39;Filessize&#39;</span><span class="p">,</span> <span class="k">false</span><span class="p">,</span> <span class="mi">25000</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Note that setting the same validator multiple times is allowed, but doing so can lead to issues when using
different options for the same validator.</p>
</div>
<p>Last but not least, you can simply check the files using <tt class="docutils literal"><span class="pre">isValid()</span></tt>.</p>
<p class="rubric" id="zend-file-transfer-validators-usage-exampleisvalid">Validate the Files</p>
<p><tt class="docutils literal"><span class="pre">isValid()</span></tt> accepts the file name of the uploaded or downloaded file, the temporary file name and or the name of
the form element. If no parameter or null is given all files will be validated</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$upload</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\File\Transfer</span><span class="p">();</span>

<span class="c1">// Set a file size with 20000 bytes</span>
<span class="nv">$upload</span><span class="o">-&gt;</span><span class="na">addValidator</span><span class="p">(</span><span class="s1">&#39;Size&#39;</span><span class="p">,</span> <span class="k">false</span><span class="p">,</span> <span class="mi">20000</span><span class="p">)</span>
       <span class="o">-&gt;</span><span class="na">addValidator</span><span class="p">(</span><span class="s1">&#39;Count&#39;</span><span class="p">,</span> <span class="k">false</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
       <span class="o">-&gt;</span><span class="na">addValidator</span><span class="p">(</span><span class="s1">&#39;Filessize&#39;</span><span class="p">,</span> <span class="k">false</span><span class="p">,</span> <span class="mi">25000</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nv">$upload</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">())</span> <span class="p">{</span>
    <span class="k">print</span> <span class="s2">&quot;Validation failure&quot;</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Note that <tt class="docutils literal"><span class="pre">isValid()</span></tt> will be called automatically when you receive the files and have not called it
previously.</p>
</div>
<p>When validation has failed it is a good idea to get information about the problems found. To get this information,
you can use the methods <tt class="docutils literal"><span class="pre">getMessages()</span></tt> which returns all validation messages as array, <tt class="docutils literal"><span class="pre">getErrors()</span></tt> which
returns all error codes, and <tt class="docutils literal"><span class="pre">hasErrors()</span></tt> which returns <tt class="docutils literal"><span class="pre">TRUE</span></tt> as soon as a validation error has been found.</p>
</div>
<div class="section" id="count-validator">
<span id="zend-file-transfer-validators-count"></span><h2>Count Validator<a class="headerlink" href="#count-validator" title="Permalink to this headline">¶</a></h2>
<p>The <tt class="docutils literal"><span class="pre">Count</span></tt> validator checks for the number of files which are provided. It supports the following option keys:</p>
<ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">min</span></tt>: Sets the minimum number of files to transfer.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">When using this option you must give the minimum number of files when calling this validator the first time;
otherwise you will get an error in return.</p>
</div>
<p>With this option you can define the minimum number of files you expect to receive.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">max</span></tt>: Sets the maximum number of files to transfer.</p>
<p>With this option you can limit the number of files which are accepted but also detect a possible attack when more
files are given than defined in your form.</p>
</li>
</ul>
<p>If you initiate this validator with a string or integer, the value will be used as <tt class="docutils literal"><span class="pre">max</span></tt>. Or you can also use the
methods <tt class="docutils literal"><span class="pre">setMin()</span></tt> and <tt class="docutils literal"><span class="pre">setMax()</span></tt> to set both options afterwards and <tt class="docutils literal"><span class="pre">getMin()</span></tt> and <tt class="docutils literal"><span class="pre">getMax()</span></tt> to retrieve
the actual set values.</p>
<p class="rubric" id="zend-file-transfer-validators-count-example">Using the Count Validator</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$upload</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\File\Transfer</span><span class="p">();</span>

<span class="c1">// Limit the amount of files to maximum 2</span>
<span class="nv">$upload</span><span class="o">-&gt;</span><span class="na">addValidator</span><span class="p">(</span><span class="s1">&#39;Count&#39;</span><span class="p">,</span> <span class="k">false</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>

<span class="c1">// Limit the amount of files to maximum 5 and minimum 1 file</span>
<span class="nv">$upload</span><span class="o">-&gt;</span><span class="na">addValidator</span><span class="p">(</span><span class="s1">&#39;Count&#39;</span><span class="p">,</span> <span class="k">false</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;min&#39;</span> <span class="o">=&gt;</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;max&#39;</span> <span class="o">=&gt;</span> <span class="mi">5</span><span class="p">));</span>
</pre></div>
</td></tr></table></div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Note that this validator stores the number of checked files internally. The file which exceeds the maximum will
be returned as error.</p>
</div>
</div>
<div class="section" id="crc32-validator">
<span id="zend-file-transfer-validators-crc32"></span><h2>Crc32 Validator<a class="headerlink" href="#crc32-validator" title="Permalink to this headline">¶</a></h2>
<p>The <tt class="docutils literal"><span class="pre">Crc32</span></tt> validator checks the content of a transferred file by hashing it. This validator uses the hash
extension from <em>PHP</em> with the crc32 algorithm. It supports the following options:</p>
<ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">*</span></tt>: Sets any key or use a numeric array. The values will be used as hash to validate against.</p>
<p>You can set multiple hashes by using different keys. Each will be checked and the validation will fail only if
all values fail.</p>
</li>
</ul>
<p class="rubric" id="zend-file-transfer-validators-crc32-example">Using the Crc32 Validator</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$upload</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\File\Transfer</span><span class="p">();</span>

<span class="c1">// Checks whether the content of the uploaded file has the given hash</span>
<span class="nv">$upload</span><span class="o">-&gt;</span><span class="na">addValidator</span><span class="p">(</span><span class="s1">&#39;Crc32&#39;</span><span class="p">,</span> <span class="k">false</span><span class="p">,</span> <span class="s1">&#39;3b3652f&#39;</span><span class="p">);</span>

<span class="c1">// Limits this validator to two different hashes</span>
<span class="nv">$upload</span><span class="o">-&gt;</span><span class="na">addValidator</span><span class="p">(</span><span class="s1">&#39;Crc32&#39;</span><span class="p">,</span> <span class="k">false</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;3b3652f&#39;</span><span class="p">,</span> <span class="s1">&#39;e612b69&#39;</span><span class="p">));</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="excludeextension-validator">
<span id="zend-file-transfer-validators-excludeextension"></span><h2>ExcludeExtension Validator<a class="headerlink" href="#excludeextension-validator" title="Permalink to this headline">¶</a></h2>
<p>The <tt class="docutils literal"><span class="pre">ExcludeExtension</span></tt> validator checks the file extension of the specified files. It supports the following
options:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">*</span></tt>: Sets any key or use a numeric array. The values will be used to check whether the given file does not use
this file extension.</li>
<li><tt class="docutils literal"><span class="pre">case</span></tt>: Sets a boolean indicating whether validation should be case-sensitive. The default is not case
sensitive. Note that this key can be applied to for all available extensions.</li>
</ul>
<p>This validator accepts multiple extensions, either as a comma-delimited string, or as an array. You may also use
the methods <tt class="docutils literal"><span class="pre">setExtension()</span></tt>, <tt class="docutils literal"><span class="pre">addExtension()</span></tt>, and <tt class="docutils literal"><span class="pre">getExtension()</span></tt> to set and retrieve extensions.</p>
<p>In some cases it is useful to match in a case-sensitive fashion. So the constructor allows a second parameter
called <tt class="docutils literal"><span class="pre">$case</span></tt> which, if set to <tt class="docutils literal"><span class="pre">TRUE</span></tt>, validates the extension by comparing it with the specified values in a
case-sensitive fashion.</p>
<p class="rubric" id="zend-file-transfer-validators-excludeextension-example">Using the ExcludeExtension Validator</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$upload</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\File\Transfer</span><span class="p">();</span>

<span class="c1">// Do not allow files with extension php or exe</span>
<span class="nv">$upload</span><span class="o">-&gt;</span><span class="na">addValidator</span><span class="p">(</span><span class="s1">&#39;ExcludeExtension&#39;</span><span class="p">,</span> <span class="k">false</span><span class="p">,</span> <span class="s1">&#39;php,exe&#39;</span><span class="p">);</span>

<span class="c1">// Do not allow files with extension php or exe, but use array notation</span>
<span class="nv">$upload</span><span class="o">-&gt;</span><span class="na">addValidator</span><span class="p">(</span><span class="s1">&#39;ExcludeExtension&#39;</span><span class="p">,</span> <span class="k">false</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;php&#39;</span><span class="p">,</span> <span class="s1">&#39;exe&#39;</span><span class="p">));</span>

<span class="c1">// Check in a case-sensitive fashion</span>
<span class="nv">$upload</span><span class="o">-&gt;</span><span class="na">addValidator</span><span class="p">(</span><span class="s1">&#39;ExcludeExtension&#39;</span><span class="p">,</span>
                      <span class="k">false</span><span class="p">,</span>
                      <span class="k">array</span><span class="p">(</span><span class="s1">&#39;php&#39;</span><span class="p">,</span> <span class="s1">&#39;exe&#39;</span><span class="p">,</span> <span class="s1">&#39;case&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">));</span>
<span class="nv">$upload</span><span class="o">-&gt;</span><span class="na">addValidator</span><span class="p">(</span><span class="s1">&#39;ExcludeExtension&#39;</span><span class="p">,</span>
                      <span class="k">false</span><span class="p">,</span>
                      <span class="k">array</span><span class="p">(</span><span class="s1">&#39;php&#39;</span><span class="p">,</span> <span class="s1">&#39;exe&#39;</span><span class="p">,</span> <span class="s1">&#39;case&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">));</span>
</pre></div>
</td></tr></table></div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Note that this validator only checks the file extension. It does not check the file&#8217;s <em>MIME</em> type.</p>
</div>
</div>
<div class="section" id="excludemimetype-validator">
<span id="zend-file-transfer-validators-excludemimetype"></span><h2>ExcludeMimeType Validator<a class="headerlink" href="#excludemimetype-validator" title="Permalink to this headline">¶</a></h2>
<p>The <tt class="docutils literal"><span class="pre">ExcludeMimeType</span></tt> validator checks the <em>MIME</em> type of transferred files. It supports the following options:</p>
<ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">*</span></tt>: Sets any key individually or use a numeric array. Sets the <em>MIME</em> type to validate against.</p>
<p>With this option you can define the <em>MIME</em> type of files that are not to be accepted.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">headerCheck</span></tt>: If set to <tt class="docutils literal"><span class="pre">TRUE</span></tt> this option will check the <em>HTTP</em> Information for the file type when the
<strong>fileInfo</strong> or <strong>mimeMagic</strong> extensions can not be found. The default value for this option is <tt class="docutils literal"><span class="pre">FALSE</span></tt>.</p>
</li>
</ul>
<p>This validator accepts multiple <em>MIME</em> types, either as a comma-delimited string, or as an array. You may also use
the methods <tt class="docutils literal"><span class="pre">setMimeType()</span></tt>, <tt class="docutils literal"><span class="pre">addMimeType()</span></tt>, and <tt class="docutils literal"><span class="pre">getMimeType()</span></tt> to set and retrieve the <em>MIME</em> types.</p>
<p class="rubric" id="zend-file-transfer-validators-excludemimetype-example">Using the ExcludeMimeType Validator</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$upload</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\File\Transfer</span><span class="p">();</span>

<span class="c1">// Does not allow MIME type of gif images for all files</span>
<span class="nv">$upload</span><span class="o">-&gt;</span><span class="na">addValidator</span><span class="p">(</span><span class="s1">&#39;ExcludeMimeType&#39;</span><span class="p">,</span> <span class="k">false</span><span class="p">,</span> <span class="s1">&#39;image/gif&#39;</span><span class="p">);</span>

<span class="c1">// Does not allow MIME type of gif and jpg images for all given files</span>
<span class="nv">$upload</span><span class="o">-&gt;</span><span class="na">addValidator</span><span class="p">(</span><span class="s1">&#39;ExcludeMimeType&#39;</span><span class="p">,</span> <span class="k">false</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;image/gif&#39;</span><span class="p">,</span>
                                                      <span class="s1">&#39;image/jpeg&#39;</span><span class="p">);</span>

<span class="c1">// Does not allow MIME type of the group images for all given files</span>
<span class="nv">$upload</span><span class="o">-&gt;</span><span class="na">addValidator</span><span class="p">(</span><span class="s1">&#39;ExcludeMimeType&#39;</span><span class="p">,</span> <span class="k">false</span><span class="p">,</span> <span class="s1">&#39;image&#39;</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>The above example shows that it is also possible to disallow groups of <em>MIME</em> types. For example, to disallow all
images, just use &#8216;image&#8217; as the <em>MIME</em> type. This can be used for all groups of <em>MIME</em> types like &#8216;image&#8217;, &#8216;audio&#8217;,
&#8216;video&#8217;, &#8216;text&#8217;, etc.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Note that disallowing groups of <em>MIME</em> types will disallow all members of this group even if this is not
intentional. When you disallow &#8216;image&#8217; you will disallow all types of images like &#8216;image/jpeg&#8217; or &#8216;image/vasa&#8217;.
When you are not sure if you want to disallow all types, you should disallow only specific <em>MIME</em> types instead
of complete groups.</p>
</div>
</div>
<div class="section" id="exists-validator">
<span id="zend-file-transfer-validators-exists"></span><h2>Exists Validator<a class="headerlink" href="#exists-validator" title="Permalink to this headline">¶</a></h2>
<p>The <tt class="docutils literal"><span class="pre">Exists</span></tt> validator checks for the existence of specified files. It supports the following options:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">*</span></tt>: Sets any key or use a numeric array to check if the specific file exists in the given directory.</li>
</ul>
<p>This validator accepts multiple directories, either as a comma-delimited string, or as an array. You may also use
the methods <tt class="docutils literal"><span class="pre">setDirectory()</span></tt>, <tt class="docutils literal"><span class="pre">addDirectory()</span></tt>, and <tt class="docutils literal"><span class="pre">getDirectory()</span></tt> to set and retrieve directories.</p>
<p class="rubric" id="zend-file-transfer-validators-exists-example">Using the Exists Validator</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$upload</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\File\Transfer</span><span class="p">();</span>

<span class="c1">// Add the temp directory to check for</span>
<span class="nv">$upload</span><span class="o">-&gt;</span><span class="na">addValidator</span><span class="p">(</span><span class="s1">&#39;Exists&#39;</span><span class="p">,</span> <span class="k">false</span><span class="p">,</span> <span class="s1">&#39;\temp&#39;</span><span class="p">);</span>

<span class="c1">// Add two directories using the array notation</span>
<span class="nv">$upload</span><span class="o">-&gt;</span><span class="na">addValidator</span><span class="p">(</span><span class="s1">&#39;Exists&#39;</span><span class="p">,</span>
                      <span class="k">false</span><span class="p">,</span>
                      <span class="k">array</span><span class="p">(</span><span class="s1">&#39;\home\images&#39;</span><span class="p">,</span> <span class="s1">&#39;\home\uploads&#39;</span><span class="p">));</span>
</pre></div>
</td></tr></table></div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Note that this validator checks whether the specified file exists in all of the given directories. The
validation will fail if the file does not exist in any of the given directories.</p>
</div>
</div>
<div class="section" id="extension-validator">
<span id="zend-file-transfer-validators-extension"></span><h2>Extension Validator<a class="headerlink" href="#extension-validator" title="Permalink to this headline">¶</a></h2>
<p>The <tt class="docutils literal"><span class="pre">Extension</span></tt> validator checks the file extension of the specified files. It supports the following options:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">*</span></tt>: Sets any key or use a numeric array to check whether the specified file has this file extension.</li>
<li><tt class="docutils literal"><span class="pre">case</span></tt>: Sets whether validation should be done in a case-sensitive fashion. The default is no case sensitivity.
Note the this key is used for all given extensions.</li>
</ul>
<p>This validator accepts multiple extensions, either as a comma-delimited string, or as an array. You may also use
the methods <tt class="docutils literal"><span class="pre">setExtension()</span></tt>, <tt class="docutils literal"><span class="pre">addExtension()</span></tt>, and <tt class="docutils literal"><span class="pre">getExtension()</span></tt> to set and retrieve extension values.</p>
<p>In some cases it is useful to test in a case-sensitive fashion. Therefore the constructor takes a second parameter
<tt class="docutils literal"><span class="pre">$case</span></tt>, which, if set to <tt class="docutils literal"><span class="pre">TRUE</span></tt>, will validate the extension in a case-sensitive fashion.</p>
<p class="rubric" id="zend-file-transfer-validators-extension-example">Using the Extension Validator</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$upload</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\File\Transfer</span><span class="p">();</span>

<span class="c1">// Limit the extensions to jpg and png files</span>
<span class="nv">$upload</span><span class="o">-&gt;</span><span class="na">addValidator</span><span class="p">(</span><span class="s1">&#39;Extension&#39;</span><span class="p">,</span> <span class="k">false</span><span class="p">,</span> <span class="s1">&#39;jpg,png&#39;</span><span class="p">);</span>

<span class="c1">// Limit the extensions to jpg and png files but use array notation</span>
<span class="nv">$upload</span><span class="o">-&gt;</span><span class="na">addValidator</span><span class="p">(</span><span class="s1">&#39;Extension&#39;</span><span class="p">,</span> <span class="k">false</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;jpg&#39;</span><span class="p">,</span> <span class="s1">&#39;png&#39;</span><span class="p">));</span>

<span class="c1">// Check case sensitive</span>
<span class="nv">$upload</span><span class="o">-&gt;</span><span class="na">addValidator</span><span class="p">(</span><span class="s1">&#39;Extension&#39;</span><span class="p">,</span> <span class="k">false</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;mo&#39;</span><span class="p">,</span> <span class="s1">&#39;png&#39;</span><span class="p">,</span> <span class="s1">&#39;case&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">));</span>
<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nv">$upload</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="s1">&#39;C:\temp\myfile.MO&#39;</span><span class="p">))</span> <span class="p">{</span>
    <span class="k">print</span> <span class="err">&#39;</span><span class="k">Not</span> <span class="nx">valid</span> <span class="nx">because</span> <span class="nx">MO</span> <span class="k">and</span> <span class="nx">mo</span> <span class="k">do</span> <span class="k">not</span> <span class="nx">match</span> <span class="nx">with</span> <span class="k">case</span> <span class="nx">sensitivity</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Note that this validator only checks the file extension. It does not check the file&#8217;s <em>MIME</em> type.</p>
</div>
</div>
<div class="section" id="filessize-validator">
<span id="zend-file-transfer-validators-filessize"></span><h2>FilesSize Validator<a class="headerlink" href="#filessize-validator" title="Permalink to this headline">¶</a></h2>
<p>The <tt class="docutils literal"><span class="pre">FilesSize</span></tt> validator checks for the aggregate size of all transferred files. It supports the following
options:</p>
<ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">min</span></tt>: Sets the minimum aggregate file size. This option defines the minimum aggregate file size to be
transferred.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">max</span></tt>: Sets the maximum aggregate file size.</p>
<p>This option limits the aggregate file size of all transferred files, but not the file size of individual files.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">bytestring</span></tt>: Defines whether a failure is to return a user-friendly number or the plain file size.</p>
<p>This option defines whether the user sees &#8216;10864&#8217; or &#8216;10MB&#8217;. The default value is <tt class="docutils literal"><span class="pre">TRUE</span></tt>, so &#8216;10MB&#8217; is returned
if you did not specify otherwise.</p>
</li>
</ul>
<p>You can initialize this validator with a string, which will then be used to set the <tt class="docutils literal"><span class="pre">max</span></tt> option. You can also
use the methods <tt class="docutils literal"><span class="pre">setMin()</span></tt> and <tt class="docutils literal"><span class="pre">setMax()</span></tt> to set both options after construction, along with <tt class="docutils literal"><span class="pre">getMin()</span></tt> and
<tt class="docutils literal"><span class="pre">getMax()</span></tt> to retrieve the values that have been set previously.</p>
<p>The size itself is also accepted in SI notation as handled by most operating systems. That is, instead of
specifying <strong>20000 bytes</strong>, <strong>20kB</strong> may be given. All file sizes are converted using 1024 as the base value. The
following Units are accepted: <strong>kB</strong>, <strong>MB</strong>, <strong>GB</strong>, <strong>TB</strong>, <strong>PB</strong> and <strong>EB</strong>. Note that 1kB is equal to 1024
bytes, 1MB is equal to 1024kB, and so on.</p>
<p class="rubric" id="zend-file-transfer-validators-filessize-example">Using the FilesSize Validator</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$upload</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\File\Transfer</span><span class="p">();</span>

<span class="c1">// Limit the size of all files to be uploaded to 40000 bytes</span>
<span class="nv">$upload</span><span class="o">-&gt;</span><span class="na">addValidator</span><span class="p">(</span><span class="s1">&#39;FilesSize&#39;</span><span class="p">,</span> <span class="k">false</span><span class="p">,</span> <span class="mi">40000</span><span class="p">);</span>

<span class="c1">// Limit the size of all files to be uploaded to maximum 4MB and mimimum 10kB</span>
<span class="nv">$upload</span><span class="o">-&gt;</span><span class="na">addValidator</span><span class="p">(</span><span class="s1">&#39;FilesSize&#39;</span><span class="p">,</span>
                      <span class="k">false</span><span class="p">,</span>
                      <span class="k">array</span><span class="p">(</span><span class="s1">&#39;min&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;10kB&#39;</span><span class="p">,</span> <span class="s1">&#39;max&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;4MB&#39;</span><span class="p">));</span>

<span class="c1">// As before, but returns the plain file size instead of a user-friendly string</span>
<span class="nv">$upload</span><span class="o">-&gt;</span><span class="na">addValidator</span><span class="p">(</span><span class="s1">&#39;FilesSize&#39;</span><span class="p">,</span>
                      <span class="k">false</span><span class="p">,</span>
                      <span class="k">array</span><span class="p">(</span><span class="s1">&#39;min&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;10kB&#39;</span><span class="p">,</span>
                            <span class="s1">&#39;max&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;4MB&#39;</span><span class="p">,</span>
                            <span class="s1">&#39;bytestring&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">));</span>
</pre></div>
</td></tr></table></div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Note that this validator internally stores the file size of checked files. The file which exceeds the size will
be returned as an error.</p>
</div>
</div>
<div class="section" id="imagesize-validator">
<span id="zend-file-transfer-validators-imagesize"></span><h2>ImageSize Validator<a class="headerlink" href="#imagesize-validator" title="Permalink to this headline">¶</a></h2>
<p>The <tt class="docutils literal"><span class="pre">ImageSize</span></tt> validator checks the size of image files. It supports the following options:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">minheight</span></tt>: Sets the minimum image height.</li>
<li><tt class="docutils literal"><span class="pre">maxheight</span></tt>: Sets the maximum image height.</li>
<li><tt class="docutils literal"><span class="pre">minwidth</span></tt>: Sets the minimum image width.</li>
<li><tt class="docutils literal"><span class="pre">maxwidth</span></tt>: Sets the maximum image width.</li>
</ul>
<p>The methods <tt class="docutils literal"><span class="pre">setImageMin()</span></tt> and <tt class="docutils literal"><span class="pre">setImageMax()</span></tt> also set both minimum and maximum values, while the methods
<tt class="docutils literal"><span class="pre">getMin()</span></tt> and <tt class="docutils literal"><span class="pre">getMax()</span></tt> return the currently set values.</p>
<p>For your convenience there are also the <tt class="docutils literal"><span class="pre">setImageWidth()</span></tt> and <tt class="docutils literal"><span class="pre">setImageHeight()</span></tt> methods, which set the minimum
and maximum height and width of the image file. They, too, have corresponding <tt class="docutils literal"><span class="pre">getImageWidth()</span></tt> and
<tt class="docutils literal"><span class="pre">getImageHeight()</span></tt> methods to retrieve the currently set values.</p>
<p>To bypass validation of a particular dimension, the relevant option simply should not be set.</p>
<p class="rubric" id="zend-file-transfer-validators-imagesize-example">Using the ImageSize Validator</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$upload</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\File\Transfer</span><span class="p">();</span>

<span class="c1">// Limit the size of a image to a height of 100-200 and a width of</span>
<span class="c1">// 40-80 pixel</span>
<span class="nv">$upload</span><span class="o">-&gt;</span><span class="na">addValidator</span><span class="p">(</span><span class="s1">&#39;ImageSize&#39;</span><span class="p">,</span> <span class="k">false</span><span class="p">,</span>
                      <span class="k">array</span><span class="p">(</span><span class="s1">&#39;minwidth&#39;</span> <span class="o">=&gt;</span> <span class="mi">40</span><span class="p">,</span>
                            <span class="s1">&#39;maxwidth&#39;</span> <span class="o">=&gt;</span> <span class="mi">80</span><span class="p">,</span>
                            <span class="s1">&#39;minheight&#39;</span> <span class="o">=&gt;</span> <span class="mi">100</span><span class="p">,</span>
                            <span class="s1">&#39;maxheight&#39;</span> <span class="o">=&gt;</span> <span class="mi">200</span><span class="p">)</span>
                      <span class="p">);</span>

<span class="c1">// Reset the width for validation</span>
<span class="nv">$upload</span><span class="o">-&gt;</span><span class="na">setImageWidth</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;minwidth&#39;</span> <span class="o">=&gt;</span> <span class="mi">20</span><span class="p">,</span> <span class="s1">&#39;maxwidth&#39;</span> <span class="o">=&gt;</span> <span class="mi">200</span><span class="p">));</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="iscompressed-validator">
<span id="zend-file-transfer-validators-iscompressed"></span><h2>IsCompressed Validator<a class="headerlink" href="#iscompressed-validator" title="Permalink to this headline">¶</a></h2>
<p>The <tt class="docutils literal"><span class="pre">IsCompressed</span></tt> validator checks if a transferred file is a compressed archive, such as zip or arc. This
validator is based on the <tt class="docutils literal"><span class="pre">MimeType</span></tt> validator and supports the same methods and options. You may also limit this
validator to particular compression types with the methods described there.</p>
<p class="rubric" id="zend-file-transfer-validators-iscompressed-example">Using the IsCompressed Validator</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$upload</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\File\Transfer</span><span class="p">();</span>

<span class="c1">// Checks is the uploaded file is a compressed archive</span>
<span class="nv">$upload</span><span class="o">-&gt;</span><span class="na">addValidator</span><span class="p">(</span><span class="s1">&#39;IsCompressed&#39;</span><span class="p">,</span> <span class="k">false</span><span class="p">);</span>

<span class="c1">// Limits this validator to zip files only</span>
<span class="nv">$upload</span><span class="o">-&gt;</span><span class="na">addValidator</span><span class="p">(</span><span class="s1">&#39;IsCompressed&#39;</span><span class="p">,</span> <span class="k">false</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;application/zip&#39;</span><span class="p">));</span>

<span class="c1">// Limits this validator to zip files only using simpler notation</span>
<span class="nv">$upload</span><span class="o">-&gt;</span><span class="na">addValidator</span><span class="p">(</span><span class="s1">&#39;IsCompressed&#39;</span><span class="p">,</span> <span class="k">false</span><span class="p">,</span> <span class="s1">&#39;zip&#39;</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Note that there is no check if you set a <em>MIME</em> type that is not a archive. For example, it would be possible to
define gif files to be accepted by this validator. Using the &#8216;MimeType&#8217; validator for files which are not
archived will result in more readable code.</p>
</div>
</div>
<div class="section" id="isimage-validator">
<span id="zend-file-transfer-validators-isimage"></span><h2>IsImage Validator<a class="headerlink" href="#isimage-validator" title="Permalink to this headline">¶</a></h2>
<p>The <tt class="docutils literal"><span class="pre">IsImage</span></tt> validator checks if a transferred file is a image file, such as gif or jpeg. This validator is
based on the <tt class="docutils literal"><span class="pre">MimeType</span></tt> validator and supports the same methods and options. You can limit this validator to
particular image types with the methods described there.</p>
<p class="rubric" id="zend-file-transfer-validators-isimage-example">Using the IsImage Validator</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$upload</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\File\Transfer</span><span class="p">();</span>

<span class="c1">// Checks whether the uploaded file is a image file</span>
<span class="nv">$upload</span><span class="o">-&gt;</span><span class="na">addValidator</span><span class="p">(</span><span class="s1">&#39;IsImage&#39;</span><span class="p">,</span> <span class="k">false</span><span class="p">);</span>

<span class="c1">// Limits this validator to gif files only</span>
<span class="nv">$upload</span><span class="o">-&gt;</span><span class="na">addValidator</span><span class="p">(</span><span class="s1">&#39;IsImage&#39;</span><span class="p">,</span> <span class="k">false</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;application/gif&#39;</span><span class="p">));</span>

<span class="c1">// Limits this validator to jpeg files only using a simpler notation</span>
<span class="nv">$upload</span><span class="o">-&gt;</span><span class="na">addValidator</span><span class="p">(</span><span class="s1">&#39;IsImage&#39;</span><span class="p">,</span> <span class="k">false</span><span class="p">,</span> <span class="s1">&#39;jpeg&#39;</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Note that there is no check if you set a <em>MIME</em> type that is not an image. For example, it would be possible to
define zip files to be accepted by this validator. Using the &#8216;MimeType&#8217; validator for files which are not images
will result in more readable code.</p>
</div>
</div>
<div class="section" id="hash-validator">
<span id="zend-file-transfer-validators-hash"></span><h2>Hash Validator<a class="headerlink" href="#hash-validator" title="Permalink to this headline">¶</a></h2>
<p>The <tt class="docutils literal"><span class="pre">Hash</span></tt> validator checks the content of a transferred file by hashing it. This validator uses the hash
extension from <em>PHP</em>. It supports the following options:</p>
<ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">*</span></tt>: Takes any key or use a numeric array. Sets the hash to validate against.</p>
<p>You can set multiple hashes by passing them as an array. Each file is checked, and the validation will fail only
if all files fail validation.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">algorithm</span></tt>: Sets the algorithm to use for hashing the content.</p>
<p>You can set multiple algorithm by calling the <tt class="docutils literal"><span class="pre">addHash()</span></tt> method multiple times.</p>
</li>
</ul>
<p class="rubric" id="zend-file-transfer-validators-hash-example">Using the Hash Validator</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$upload</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\File\Transfer</span><span class="p">();</span>

<span class="c1">// Checks if the content of the uploaded file contains the given hash</span>
<span class="nv">$upload</span><span class="o">-&gt;</span><span class="na">addValidator</span><span class="p">(</span><span class="s1">&#39;Hash&#39;</span><span class="p">,</span> <span class="k">false</span><span class="p">,</span> <span class="s1">&#39;3b3652f&#39;</span><span class="p">);</span>

<span class="c1">// Limits this validator to two different hashes</span>
<span class="nv">$upload</span><span class="o">-&gt;</span><span class="na">addValidator</span><span class="p">(</span><span class="s1">&#39;Hash&#39;</span><span class="p">,</span> <span class="k">false</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;3b3652f&#39;</span><span class="p">,</span> <span class="s1">&#39;e612b69&#39;</span><span class="p">));</span>

<span class="c1">// Sets a different algorithm to check against</span>
<span class="nv">$upload</span><span class="o">-&gt;</span><span class="na">addValidator</span><span class="p">(</span><span class="s1">&#39;Hash&#39;</span><span class="p">,</span>
                      <span class="k">false</span><span class="p">,</span>
                      <span class="k">array</span><span class="p">(</span><span class="s1">&#39;315b3cd8273d44912a7&#39;</span><span class="p">,</span>
                            <span class="s1">&#39;algorithm&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;md5&#39;</span><span class="p">));</span>
</pre></div>
</td></tr></table></div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This validator supports about 34 different hash algorithms. The most common include &#8216;crc32&#8217;, &#8216;md5&#8217; and &#8216;sha1&#8217;. A
comprehesive list of supports hash algorithms can be found at the <a class="reference external" href="http://php.net/hash_algos">hash_algos method</a> on the <a class="reference external" href="http://php.net">php.net site</a>.</p>
</div>
</div>
<div class="section" id="md5-validator">
<span id="zend-file-transfer-validators-md5"></span><h2>Md5 Validator<a class="headerlink" href="#md5-validator" title="Permalink to this headline">¶</a></h2>
<p>The <tt class="docutils literal"><span class="pre">Md5</span></tt> validator checks the content of a transferred file by hashing it. This validator uses the hash
extension for <em>PHP</em> with the md5 algorithm. It supports the following options:</p>
<ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">*</span></tt>: Takes any key or use a numeric array.</p>
<p>You can set multiple hashes by passing them as an array. Each file is checked, and the validation will fail only
if all files fail validation.</p>
</li>
</ul>
<p class="rubric" id="zend-file-transfer-validators-md5-example">Using the Md5 Validator</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$upload</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\File\Transfer</span><span class="p">();</span>

<span class="c1">// Checks if the content of the uploaded file has the given hash</span>
<span class="nv">$upload</span><span class="o">-&gt;</span><span class="na">addValidator</span><span class="p">(</span><span class="s1">&#39;Md5&#39;</span><span class="p">,</span> <span class="k">false</span><span class="p">,</span> <span class="s1">&#39;3b3652f336522365223&#39;</span><span class="p">);</span>

<span class="c1">// Limits this validator to two different hashes</span>
<span class="nv">$upload</span><span class="o">-&gt;</span><span class="na">addValidator</span><span class="p">(</span><span class="s1">&#39;Md5&#39;</span><span class="p">,</span>
                      <span class="k">false</span><span class="p">,</span>
                      <span class="k">array</span><span class="p">(</span><span class="s1">&#39;3b3652f336522365223&#39;</span><span class="p">,</span>
                            <span class="s1">&#39;eb3365f3365ddc65365&#39;</span><span class="p">));</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="mimetype-validator">
<span id="zend-file-transfer-validators-mimetype"></span><h2>MimeType Validator<a class="headerlink" href="#mimetype-validator" title="Permalink to this headline">¶</a></h2>
<p>The <tt class="docutils literal"><span class="pre">MimeType</span></tt> validator checks the <em>MIME</em> type of transferred files. It supports the following options:</p>
<ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">*</span></tt>: Sets any key or use a numeric array. Sets the <em>MIME</em> type to validate against.</p>
<p>Defines the <em>MIME</em> type of files to be accepted.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">headerCheck</span></tt>: If set to <tt class="docutils literal"><span class="pre">TRUE</span></tt> this option will check the <em>HTTP</em> Information for the file type when the
<strong>fileInfo</strong> or <strong>mimeMagic</strong> extensions can not be found. The default value for this option is <tt class="docutils literal"><span class="pre">FALSE</span></tt>.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">magicfile</span></tt>: The magicfile to be used.</p>
<p>With this option you can define which magicfile to use. When it&#8217;s not set or empty, the MAGIC constant will be
used instead. This option is available since Zend Framework 1.7.1.</p>
<p>When you omit this option or set it to <tt class="docutils literal"><span class="pre">NULL</span></tt>, the environment variable &#8216;magic&#8217; will be used to get the proper
magicfile. When you set it to &#8216;false&#8217;, PHP will use the build it magic file. A &#8216;string&#8217; will be seen as filename
or path to the magicfile.</p>
</li>
</ul>
<p>This validator accepts multiple <em>MIME</em> type, either as a comma-delimited string, or as an array. You may also use
the methods <tt class="docutils literal"><span class="pre">setMimeType()</span></tt>, <tt class="docutils literal"><span class="pre">addMimeType()</span></tt>, and <tt class="docutils literal"><span class="pre">getMimeType()</span></tt> to set and retrieve <em>MIME</em> type.</p>
<p>You can also set the magicfile which shall be used by fileinfo with the &#8216;magicfile&#8217; option. Additionally there are
convenient <tt class="docutils literal"><span class="pre">setMagicFile()</span></tt> and <tt class="docutils literal"><span class="pre">getMagicFile()</span></tt> methods which allow later setting and retrieving of the
magicfile parameter. This methods are available since Zend Framework 1.7.1.</p>
<p class="rubric" id="zend-file-transfer-validators-mimetype-example">Using the MimeType Validator</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$upload</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\File\Transfer</span><span class="p">();</span>

<span class="c1">// Limit the MIME type of all given files to gif images</span>
<span class="nv">$upload</span><span class="o">-&gt;</span><span class="na">addValidator</span><span class="p">(</span><span class="s1">&#39;MimeType&#39;</span><span class="p">,</span> <span class="k">false</span><span class="p">,</span> <span class="s1">&#39;image/gif&#39;</span><span class="p">);</span>

<span class="c1">// Limit the MIME type of all given files to gif and jpeg images</span>
<span class="nv">$upload</span><span class="o">-&gt;</span><span class="na">addValidator</span><span class="p">(</span><span class="s1">&#39;MimeType&#39;</span><span class="p">,</span> <span class="k">false</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;image/gif&#39;</span><span class="p">,</span> <span class="s1">&#39;image/jpeg&#39;</span><span class="p">);</span>

<span class="c1">// Limit the MIME type of all given files to the group images</span>
<span class="nv">$upload</span><span class="o">-&gt;</span><span class="na">addValidator</span><span class="p">(</span><span class="s1">&#39;MimeType&#39;</span><span class="p">,</span> <span class="k">false</span><span class="p">,</span> <span class="s1">&#39;image&#39;</span><span class="p">);</span>

<span class="c1">// Use a different magicfile</span>
<span class="nv">$upload</span><span class="o">-&gt;</span><span class="na">addValidator</span><span class="p">(</span><span class="s1">&#39;MimeType&#39;</span><span class="p">,</span>
                      <span class="k">false</span><span class="p">,</span>
                      <span class="k">array</span><span class="p">(</span><span class="s1">&#39;image&#39;</span><span class="p">,</span>
                            <span class="s1">&#39;magicfile&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;/path/to/magicfile.mgx&#39;</span><span class="p">));</span>
</pre></div>
</td></tr></table></div>
<p>The above example shows that it is also possible to limit the accepted <em>MIME</em> type to a group of <em>MIME</em> types. To
allow all images just use &#8216;image&#8217; as <em>MIME</em> type. This can be used for all groups of <em>MIME</em> types like &#8216;image&#8217;,
&#8216;audio&#8217;, &#8216;video&#8217;, &#8216;text, and so on.</p>
<p>By using <tt class="docutils literal"><span class="pre">disableMagicFile(true)</span></tt> the MimeType validator will use PHP&#8217;s build in magic file. You should use this
method when you have PHP 5.3 or higher and want to use the magic file which is provided by PHP itself. By using
<tt class="docutils literal"><span class="pre">isMagicFileDisabled()</span></tt> you can check if magicfile is actually disabled or not.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Note that allowing groups of <em>MIME</em> types will accept all members of this group even if your application does
not support them. When you allow &#8216;image&#8217; you will also get &#8216;image/xpixmap&#8217; or &#8216;image/vasa&#8217; which could be
problematic. When you are not sure if your application supports all types you should better allow only defined
<em>MIME</em> types instead of the complete group.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>This component will use the <tt class="docutils literal"><span class="pre">FileInfo</span></tt> extension if it is available. If it&#8217;s not, it will degrade to the
<tt class="docutils literal"><span class="pre">mime_content_type()</span></tt> function. And if the function call fails it will use the <em>MIME</em> type which is given by
<em>HTTP</em>.</p>
<p class="last">You should be aware of possible security problems when you have whether <tt class="docutils literal"><span class="pre">FileInfo</span></tt> nor <tt class="docutils literal"><span class="pre">mime_content_type()</span></tt>
available. The <em>MIME</em> type given by <em>HTTP</em> is not secure and can be easily manipulated.</p>
</div>
</div>
<div class="section" id="notexists-validator">
<span id="zend-file-transfer-validators-notexists"></span><h2>NotExists Validator<a class="headerlink" href="#notexists-validator" title="Permalink to this headline">¶</a></h2>
<p>The <tt class="docutils literal"><span class="pre">NotExists</span></tt> validator checks for the existence of the provided files. It supports the following options:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">*</span></tt>: Set any key or use a numeric array. Checks whether the file exists in the given directory.</li>
</ul>
<p>This validator accepts multiple directories either as a comma-delimited string, or as an array. You may also use
the methods <tt class="docutils literal"><span class="pre">setDirectory()</span></tt>, <tt class="docutils literal"><span class="pre">addDirectory()</span></tt>, and <tt class="docutils literal"><span class="pre">getDirectory()</span></tt> to set and retrieve directories.</p>
<p class="rubric" id="zend-file-transfer-validators-notexists-example">Using the NotExists Validator</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$upload</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\File\Transfer</span><span class="p">();</span>

<span class="c1">// Add the temp directory to check</span>
<span class="nv">$upload</span><span class="o">-&gt;</span><span class="na">addValidator</span><span class="p">(</span><span class="s1">&#39;NotExists&#39;</span><span class="p">,</span> <span class="k">false</span><span class="p">,</span> <span class="s1">&#39;\temp&#39;</span><span class="p">);</span>

<span class="c1">// Add two directories using the array notation</span>
<span class="nv">$upload</span><span class="o">-&gt;</span><span class="na">addValidator</span><span class="p">(</span><span class="s1">&#39;NotExists&#39;</span><span class="p">,</span> <span class="k">false</span><span class="p">,</span>
                      <span class="k">array</span><span class="p">(</span><span class="s1">&#39;\home\images&#39;</span><span class="p">,</span>
                            <span class="s1">&#39;\home\uploads&#39;</span><span class="p">)</span>
                     <span class="p">);</span>
</pre></div>
</td></tr></table></div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Note that this validator checks if the file does not exist in all of the provided directories. The validation
will fail if the file does exist in any of the given directories.</p>
</div>
</div>
<div class="section" id="sha1-validator">
<span id="zend-file-transfer-validators-sha1"></span><h2>Sha1 Validator<a class="headerlink" href="#sha1-validator" title="Permalink to this headline">¶</a></h2>
<p>The <tt class="docutils literal"><span class="pre">Sha1</span></tt> validator checks the content of a transferred file by hashing it. This validator uses the hash
extension for <em>PHP</em> with the sha1 algorithm. It supports the following options:</p>
<ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">*</span></tt>: Takes any key or use a numeric array.</p>
<p>You can set multiple hashes by passing them as an array. Each file is checked, and the validation will fail only
if all files fail validation.</p>
</li>
</ul>
<p class="rubric" id="zend-file-transfer-validators-sha1-example">Using the sha1 Validator</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$upload</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\File\Transfer</span><span class="p">();</span>

<span class="c1">// Checks if the content of the uploaded file has the given hash</span>
<span class="nv">$upload</span><span class="o">-&gt;</span><span class="na">addValidator</span><span class="p">(</span><span class="s1">&#39;sha1&#39;</span><span class="p">,</span> <span class="k">false</span><span class="p">,</span> <span class="s1">&#39;3b3652f336522365223&#39;</span><span class="p">);</span>

<span class="c1">// Limits this validator to two different hashes</span>
<span class="nv">$upload</span><span class="o">-&gt;</span><span class="na">addValidator</span><span class="p">(</span><span class="s1">&#39;Sha1&#39;</span><span class="p">,</span>
                      <span class="k">false</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;3b3652f336522365223&#39;</span><span class="p">,</span>
                                   <span class="s1">&#39;eb3365f3365ddc65365&#39;</span><span class="p">));</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="size-validator">
<span id="zend-file-transfer-validators-size"></span><h2>Size Validator<a class="headerlink" href="#size-validator" title="Permalink to this headline">¶</a></h2>
<p>The <tt class="docutils literal"><span class="pre">Size</span></tt> validator checks for the size of a single file. It supports the following options:</p>
<ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">min</span></tt>: Sets the minimum file size.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">max</span></tt>: Sets the maximum file size.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">bytestring</span></tt>: Defines whether a failure is returned with a user-friendly number, or with the plain file size.</p>
<p>With this option you can define if the user gets &#8216;10864&#8217; or &#8216;10MB&#8217;. Default value is <tt class="docutils literal"><span class="pre">TRUE</span></tt> which returns
&#8216;10MB&#8217;.</p>
</li>
</ul>
<p>You can initialize this validator with a string, which will then be used to set the <tt class="docutils literal"><span class="pre">max</span></tt> option. You can also
use the methods <tt class="docutils literal"><span class="pre">setMin()</span></tt> and <tt class="docutils literal"><span class="pre">setMax()</span></tt> to set both options after construction, along with <tt class="docutils literal"><span class="pre">getMin()</span></tt> and
<tt class="docutils literal"><span class="pre">getMax()</span></tt> to retrieve the values that have been set previously.</p>
<p>The size itself is also accepted in SI notation as handled by most operating systems. That is, instead of
specifying <strong>20000 bytes</strong>, <strong>20kB</strong> may be given. All file sizes are converted using 1024 as the base value. The
following Units are accepted: <strong>kB</strong>, <strong>MB</strong>, <strong>GB</strong>, <strong>TB</strong>, <strong>PB</strong> and <strong>EB</strong>. Note that 1kB is equal to 1024
bytes, 1MB is equal to 1024kB, and so on.</p>
<p class="rubric" id="zend-file-transfer-validators-size-example">Using the Size Validator</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$upload</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\File\Transfer</span><span class="p">();</span>

<span class="c1">// Limit the size of a file to 40000 bytes</span>
<span class="nv">$upload</span><span class="o">-&gt;</span><span class="na">addValidator</span><span class="p">(</span><span class="s1">&#39;Size&#39;</span><span class="p">,</span> <span class="k">false</span><span class="p">,</span> <span class="mi">40000</span><span class="p">);</span>

<span class="c1">// Limit the size a given file to maximum 4MB and mimimum 10kB</span>
<span class="c1">// Also returns the plain number in case of an error</span>
<span class="c1">// instead of a user-friendly number</span>
<span class="nv">$upload</span><span class="o">-&gt;</span><span class="na">addValidator</span><span class="p">(</span><span class="s1">&#39;Size&#39;</span><span class="p">,</span>
                      <span class="k">false</span><span class="p">,</span>
                      <span class="k">array</span><span class="p">(</span><span class="s1">&#39;min&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;10kB&#39;</span><span class="p">,</span>
                            <span class="s1">&#39;max&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;4MB&#39;</span><span class="p">,</span>
                            <span class="s1">&#39;bytestring&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">));</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="wordcount-validator">
<span id="zend-file-transfer-validators-wordcount"></span><h2>WordCount Validator<a class="headerlink" href="#wordcount-validator" title="Permalink to this headline">¶</a></h2>
<p>The <tt class="docutils literal"><span class="pre">WordCount</span></tt> validator checks for the number of words within provided files. It supports the following option
keys:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">min</span></tt>: Sets the minimum number of words to be found.</li>
<li><tt class="docutils literal"><span class="pre">max</span></tt>: Sets the maximum number of words to be found.</li>
</ul>
<p>If you initiate this validator with a string or integer, the value will be used as <tt class="docutils literal"><span class="pre">max</span></tt>. Or you can also use the
methods <tt class="docutils literal"><span class="pre">setMin()</span></tt> and <tt class="docutils literal"><span class="pre">setMax()</span></tt> to set both options afterwards and <tt class="docutils literal"><span class="pre">getMin()</span></tt> and <tt class="docutils literal"><span class="pre">getMax()</span></tt> to retrieve
the actual set values.</p>
<p class="rubric" id="zend-file-transfer-validators-wordcount-example">Using the WordCount Validator</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$upload</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\File\Transfer</span><span class="p">();</span>

<span class="c1">// Limit the amount of words within files to maximum 2000</span>
<span class="nv">$upload</span><span class="o">-&gt;</span><span class="na">addValidator</span><span class="p">(</span><span class="s1">&#39;WordCount&#39;</span><span class="p">,</span> <span class="k">false</span><span class="p">,</span> <span class="mi">2000</span><span class="p">);</span>

<span class="c1">// Limit the amount of words within files to maximum 5000 and minimum 1000 words</span>
<span class="nv">$upload</span><span class="o">-&gt;</span><span class="na">addValidator</span><span class="p">(</span><span class="s1">&#39;WordCount&#39;</span><span class="p">,</span> <span class="k">false</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;min&#39;</span> <span class="o">=&gt;</span> <span class="mi">1000</span><span class="p">,</span> <span class="s1">&#39;max&#39;</span> <span class="o">=&gt;</span> <span class="mi">5000</span><span class="p">));</span>
</pre></div>
</td></tr></table></div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/zf2_logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Validators for ZendFileTransfer</a><ul>
<li><a class="reference internal" href="#using-validators-with-zendfiletransfer">Using Validators with ZendFileTransfer</a></li>
<li><a class="reference internal" href="#count-validator">Count Validator</a></li>
<li><a class="reference internal" href="#crc32-validator">Crc32 Validator</a></li>
<li><a class="reference internal" href="#excludeextension-validator">ExcludeExtension Validator</a></li>
<li><a class="reference internal" href="#excludemimetype-validator">ExcludeMimeType Validator</a></li>
<li><a class="reference internal" href="#exists-validator">Exists Validator</a></li>
<li><a class="reference internal" href="#extension-validator">Extension Validator</a></li>
<li><a class="reference internal" href="#filessize-validator">FilesSize Validator</a></li>
<li><a class="reference internal" href="#imagesize-validator">ImageSize Validator</a></li>
<li><a class="reference internal" href="#iscompressed-validator">IsCompressed Validator</a></li>
<li><a class="reference internal" href="#isimage-validator">IsImage Validator</a></li>
<li><a class="reference internal" href="#hash-validator">Hash Validator</a></li>
<li><a class="reference internal" href="#md5-validator">Md5 Validator</a></li>
<li><a class="reference internal" href="#mimetype-validator">MimeType Validator</a></li>
<li><a class="reference internal" href="#notexists-validator">NotExists Validator</a></li>
<li><a class="reference internal" href="#sha1-validator">Sha1 Validator</a></li>
<li><a class="reference internal" href="#size-validator">Size Validator</a></li>
<li><a class="reference internal" href="#wordcount-validator">WordCount Validator</a></li>
</ul>
</li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li>
        <!--<a href="../_sources/modules/zend.file.transfer.validators.txt"-->
        <a href="https://github.com/zendframework/zf2-documentation/blob/master/docs/languages/en/modules/zend.file.transfer.validators.rst"
           rel="nofollow">Show Source</a></li>
    <li><a href="https://github.com/zendframework/zf2-documentation/edit/master/docs/languages/en/modules/zend.file.transfer.validators.rst"
           rel="nofollow">Edit Source</a>
    </li>
  </ul>
        <p style="font-size: 12px">
            Note: You need to stay logged into your <a href="http://www.github.com">GitHub account</a> to contribute to the documentation.
        </p>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li><a href="../index.html">Zend Framework 2 2.0.6 documentation</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer">
        &copy; Copyright 2012, Zend Technologies Ltd..
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
<div id="edit-button">
    <img src="../_static/edit.gif" alt="Edit this document" title="Edit this document" onclick="javascript:$('#editor-trap').toggle();">
</div>
     
<div id="editor-trap">
    <h3>Edit this document</h3>

    <p>
        The source code of this file is hosted on GitHub. Everyone can
        update and fix errors in this document with few clicks -
        no downloads needed.
    <p>

    <ol>

        <li>
            Login with your <a href="http://www.github.com">GitHub</a> account.
        </li>

        <li>
            Go to
            <a href="https://github.com/zendframework/zf2-documentation/edit/master/docs/languages/en/modules/zend.file.transfer.validators.rst">
                Validators for ZendFileTransfer
            </a> on GitHub.
        </li>

        <li>
            Edit file contents using GitHub's text editor in your web browser
        </li>

        <li>
            Fill in the <b>Commit message</b> text box at the end of the page telling <i>why</i>
            you did the changes. Press <b>Propose file change</b> button next to it when done.
        </li>


        <li>
            On <i>Send a pull request</i> page you don't need to fill in text anymore. Just
            press <b>Send pull request</b> button.
        </li>

        <li>
            Your changes are now queued for review under project's <a href="https://github.com/zendframework/zf2-documentation/pulls">Pull requests</a> tab on GitHub.
        </li>
    </ol>

</div>


  </body>
</html>
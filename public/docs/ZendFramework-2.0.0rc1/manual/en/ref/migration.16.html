

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Zend Framework 1.6 &mdash; Zend Framework 2 2.0.0beta5 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.0.0beta5',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Zend Framework 2 2.0.0beta5 documentation" href="../index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li><a href="../index.html">Zend Framework 2 2.0.0beta5 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="zend-framework-1-6">
<span id="migration-16"></span><h1>Zend Framework 1.6<a class="headerlink" href="#zend-framework-1-6" title="Permalink to this headline">¶</a></h1>
<p>When upgrading from a previous release to Zend Framework 1.6 or higher you should note the following migration
notes.</p>
<div class="section" id="zend-controller">
<span id="migration-16-zend-controller"></span><h2>Zend_Controller<a class="headerlink" href="#zend-controller" title="Permalink to this headline">¶</a></h2>
<div class="section" id="dispatcher-interface-changes">
<span id="migration-16-zend-controller-dispatcher"></span><h3>Dispatcher Interface Changes<a class="headerlink" href="#dispatcher-interface-changes" title="Permalink to this headline">¶</a></h3>
<p>Users brought to our attention the fact that <tt class="docutils literal"><span class="pre">Zend_Controller_Front</span></tt> and <tt class="docutils literal"><span class="pre">Zend_Controller_Router_Route_Module</span></tt>
were each using methods of the dispatcher that were not in the dispatcher interface. We have now added the
following three methods to ensure that custom dispatchers will continue to work with the shipped implementations:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">getDefaultModule()</span></tt>: should return the name of the default module.</li>
<li><tt class="docutils literal"><span class="pre">getDefaultControllerName()</span></tt>: should return the name of the default controller.</li>
<li><tt class="docutils literal"><span class="pre">getDefaultAction()</span></tt>: should return the name of the default action.</li>
</ul>
</div>
</div>
<div class="section" id="zend-file-transfer">
<span id="migration-16-zend-file-transfer"></span><h2>Zend_File_Transfer<a class="headerlink" href="#zend-file-transfer" title="Permalink to this headline">¶</a></h2>
<div class="section" id="changes-when-using-validators">
<span id="migration-16-zend-file-transfer-validators"></span><h3>Changes when using validators<a class="headerlink" href="#changes-when-using-validators" title="Permalink to this headline">¶</a></h3>
<p>As noted by users, the validators from <tt class="docutils literal"><span class="pre">Zend_File_Transfer</span></tt> do not work the same way like the default ones from
<tt class="docutils literal"><span class="pre">Zend_Form</span></tt>. <tt class="docutils literal"><span class="pre">Zend_Form</span></tt> allows the usage of a <tt class="docutils literal"><span class="pre">$breakChainOnFailure</span></tt> parameter which breaks the validation
for all further validators when an validation error has occurred.</p>
<p>So we added this parameter also to all existing validators from <tt class="docutils literal"><span class="pre">Zend_File_Transfer</span></tt>.</p>
<ul class="simple">
<li>Old method <em>API</em>: <tt class="docutils literal"><span class="pre">addValidator($validator,</span> <span class="pre">$options,</span> <span class="pre">$files)</span></tt>.</li>
<li>New method <em>API</em>: <tt class="docutils literal"><span class="pre">addValidator($validator,</span> <span class="pre">$breakChainOnFailure,</span> <span class="pre">$options,</span> <span class="pre">$files)</span></tt>.</li>
</ul>
<p>To migrate your scripts to the new <em>API</em>, simply add a <tt class="docutils literal"><span class="pre">FALSE</span></tt> after defining the wished validator.</p>
<p class="rubric" id="migration-16-zend-file-transfer-example">How to change your file validators from 1.6.1 to 1.6.2</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1">// Example for 1.6.1</span>
<span class="nv">$upload</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend_File_Transfer_Adapter_Http</span><span class="p">();</span>
<span class="nv">$upload</span><span class="o">-&gt;</span><span class="na">addValidator</span><span class="p">(</span><span class="s1">&#39;FilesSize&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;1B&#39;</span><span class="p">,</span> <span class="s1">&#39;100kB&#39;</span><span class="p">));</span>

<span class="c1">// Same example for 1.6.2 and newer</span>
<span class="c1">// Note the added boolean false</span>
<span class="nv">$upload</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend_File_Transfer_Adapter_Http</span><span class="p">();</span>
<span class="nv">$upload</span><span class="o">-&gt;</span><span class="na">addValidator</span><span class="p">(</span><span class="s1">&#39;FilesSize&#39;</span><span class="p">,</span> <span class="k">false</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;1B&#39;</span><span class="p">,</span> <span class="s1">&#39;100kB&#39;</span><span class="p">));</span>
</pre></div>
</td></tr></table></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/zf2_logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Zend Framework 1.6</a><ul>
<li><a class="reference internal" href="#zend-controller">Zend_Controller</a><ul>
<li><a class="reference internal" href="#dispatcher-interface-changes">Dispatcher Interface Changes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#zend-file-transfer">Zend_File_Transfer</a><ul>
<li><a class="reference internal" href="#changes-when-using-validators">Changes when using validators</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/ref/migration.16.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li><a href="../index.html">Zend Framework 2 2.0.0beta5 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Zend Technologies Ltd..
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>
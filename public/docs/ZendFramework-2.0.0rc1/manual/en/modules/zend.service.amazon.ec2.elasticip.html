

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Zend_Service_Amazon_Ec2: Elastic IP Addresses &mdash; Zend Framework 2 2.0.0beta5 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.0.0beta5',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Zend Framework 2 2.0.0beta5 documentation" href="../index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li><a href="../index.html">Zend Framework 2 2.0.0beta5 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="zend-service-amazon-ec2-elastic-ip-addresses">
<span id="zend-service-amazon-ec2-elasticip"></span><h1>Zend_Service_Amazon_Ec2: Elastic IP Addresses<a class="headerlink" href="#zend-service-amazon-ec2-elastic-ip-addresses" title="Permalink to this headline">Â¶</a></h1>
<p>By default, all Amazon EC2 instances are assigned two IP addresses at launch: a private (RFC 1918) address and a
public address that is mapped to the private IP address through Network Address Translation (NAT).</p>
<p>If you use dynamic DNS to map an existing DNS name to a new instance&#8217;s public IP address, it might take up to 24
hours for the IP address to propagate through the Internet. As a result, new instances might not receive traffic
while terminated instances continue to receive requests.</p>
<p>To solve this problem, Amazon EC2 provides elastic IP addresses. Elastic IP addresses are static IP addresses
designed for dynamic cloud computing. Elastic IP addresses are associated with your account, not specific
instances. Any elastic IP addresses that you associate with your account remain associated with your account until
you explicitly release them. Unlike traditional static IP addresses, however, elastic IP addresses allow you to
mask instance or Availability Zone failures by rapidly remapping your public IP addresses to any instance in your
account.</p>
<p class="rubric" id="zend-service-amazon-ec2-elasticip-allocate">Allocating a new Elastic IP</p>
<p><em>allocate</em> will assign your account a new Elastic IP Address.</p>
<p><em>allocate</em> returns the newly allocated ip.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$ec2_eip</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend_Service_Amazon_Ec2_Elasticip</span><span class="p">(</span><span class="s1">&#39;aws_key&#39;</span><span class="p">,</span><span class="s1">&#39;aws_secret_key&#39;</span><span class="p">);</span>
<span class="nv">$ip</span> <span class="o">=</span> <span class="nv">$ec2_eip</span><span class="o">-&gt;</span><span class="na">allocate</span><span class="p">();</span>

<span class="c1">// print out your newly allocated elastic ip address;</span>
<span class="k">print</span> <span class="nv">$ip</span><span class="p">;</span>
</pre></div>
</td></tr></table></div>
<p class="rubric" id="zend-service-amazon-ec2-elasticip-describe">Describing Allocated Elastic IP Addresses</p>
<p><em>describe</em> has an optional paramater to describe all of your allocated Elastic IP addresses or just some of your
allocated addresses.</p>
<p><em>describe</em> returns an array that contains information on each Elastic IP Address which contains the publicIp and
the instanceId if it is assocated.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$ec2_eip</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend_Service_Amazon_Ec2_Elasticip</span><span class="p">(</span><span class="s1">&#39;aws_key&#39;</span><span class="p">,</span><span class="s1">&#39;aws_secret_key&#39;</span><span class="p">);</span>
<span class="c1">// describe all</span>
<span class="nv">$ips</span> <span class="o">=</span> <span class="nv">$ec2_eip</span><span class="o">-&gt;</span><span class="na">describe</span><span class="p">();</span>

<span class="c1">// describe a subset</span>
<span class="nv">$ips</span> <span class="o">=</span> <span class="nv">$ec2_eip</span><span class="o">-&gt;</span><span class="na">describe</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;ip1&#39;</span><span class="p">,</span> <span class="s1">&#39;ip2&#39;</span><span class="p">,</span> <span class="s1">&#39;ip3&#39;</span><span class="p">));</span>

<span class="c1">// describe a single ip address</span>
<span class="nv">$ip</span> <span class="o">=</span> <span class="nv">$ec2_eip</span><span class="o">-&gt;</span><span class="na">describe</span><span class="p">(</span><span class="s1">&#39;ip1&#39;</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p class="rubric" id="zend-service-amazon-ec2-elasticip-release">Releasing Elastic IP</p>
<p><em>release</em> will release an Elastic IP to Amazon.</p>
<p>Returns a boolean <tt class="docutils literal"><span class="pre">TRUE</span></tt> or <tt class="docutils literal"><span class="pre">FALSE</span></tt>.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$ec2_eip</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend_Service_Amazon_Ec2_Elasticip</span><span class="p">(</span><span class="s1">&#39;aws_key&#39;</span><span class="p">,</span><span class="s1">&#39;aws_secret_key&#39;</span><span class="p">);</span>
<span class="nv">$ec2_eip</span><span class="o">-&gt;</span><span class="na">release</span><span class="p">(</span><span class="s1">&#39;ipaddress&#39;</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p class="rubric" id="zend-service-amazon-ec2-elasticip-associate">Associates an Elastic IP to an Instance</p>
<p><em>associate</em> will assign an Elastic IP to an already running instance.</p>
<p>Returns a boolean <tt class="docutils literal"><span class="pre">TRUE</span></tt> or <tt class="docutils literal"><span class="pre">FALSE</span></tt>.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$ec2_eip</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend_Service_Amazon_Ec2_Elasticip</span><span class="p">(</span><span class="s1">&#39;aws_key&#39;</span><span class="p">,</span><span class="s1">&#39;aws_secret_key&#39;</span><span class="p">);</span>
<span class="nv">$ec2_eip</span><span class="o">-&gt;</span><span class="na">associate</span><span class="p">(</span><span class="s1">&#39;instance_id&#39;</span><span class="p">,</span> <span class="s1">&#39;ipaddress&#39;</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p class="rubric" id="zend-service-amazon-ec2-elasticip-disassociate">Disassociate an Elastic IP from an instance</p>
<p><em>disassociate</em> will disassociate an Elastic IP from an instance. If you terminate an Instance it will automaticly
disassociate the Elastic IP address for you.</p>
<p>Returns a boolean <tt class="docutils literal"><span class="pre">TRUE</span></tt> or <tt class="docutils literal"><span class="pre">FALSE</span></tt>.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$ec2_eip</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend_Service_Amazon_Ec2_Elasticip</span><span class="p">(</span><span class="s1">&#39;aws_key&#39;</span><span class="p">,</span><span class="s1">&#39;aws_secret_key&#39;</span><span class="p">);</span>
<span class="nv">$ec2_eip</span><span class="o">-&gt;</span><span class="na">disassociate</span><span class="p">(</span><span class="s1">&#39;ipaddress&#39;</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/zf2_logo.png" alt="Logo"/>
            </a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/modules/zend.service.amazon.ec2.elasticip.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li><a href="../index.html">Zend Framework 2 2.0.0beta5 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Zend Technologies Ltd..
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>


<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Zend_Cache Backends &mdash; Zend Framework 2 2.0.0beta5 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.0.0beta5',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Zend Framework 2 2.0.0beta5 documentation" href="../index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li><a href="../index.html">Zend Framework 2 2.0.0beta5 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="zend-cache-backends">
<span id="id1"></span><h1>Zend_Cache Backends<a class="headerlink" href="#zend-cache-backends" title="Permalink to this headline">¶</a></h1>
<p>There are two kinds of backends: standard ones and extended ones. Of course, extended backends offer more features.</p>
<div class="section" id="zend-cache-backend-file">
<span id="zend-cache-backends-file"></span><h2>Zend_Cache_Backend_File<a class="headerlink" href="#zend-cache-backend-file" title="Permalink to this headline">¶</a></h2>
<p>This (extended) backends stores cache records into files (in a chosen directory).</p>
<p>Available options are :</p>
<table border="1" class="docutils" id="zend-cache-backends-file-table">
<caption>File Backend Options</caption>
<colgroup>
<col width="7%" />
<col width="2%" />
<col width="4%" />
<col width="87%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Option</th>
<th class="head">Data Type</th>
<th class="head">Default Value</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>cache_dir</td>
<td>String</td>
<td>&#8216;/tmp/&#8217;</td>
<td>Directory where to store cache files</td>
</tr>
<tr class="row-odd"><td>file_locking</td>
<td>Boolean</td>
<td>TRUE</td>
<td>Enable or disable file_locking : Can avoid cache corruption under bad circumstances but it doesn&#8217;t help on multithread webservers or on NFS filesystems...</td>
</tr>
<tr class="row-even"><td>read_control</td>
<td>Boolean</td>
<td>TRUE</td>
<td>Enable / disable read control : if enabled, a control key is embedded in the cache file and this key is compared with the one calculated after the reading.</td>
</tr>
<tr class="row-odd"><td>read_control_type</td>
<td>String</td>
<td>&#8216;crc32&#8217;</td>
<td>Type of read control (only if read control is enabled). Available values are : &#8216;md5&#8217; (best but slowest), &#8216;crc32&#8217; (lightly less safe but faster, better choice), &#8216;adler32&#8217; (new choice, faster than crc32), &#8216;strlen&#8217; for a length only test (fastest).</td>
</tr>
<tr class="row-even"><td>hashed_directory_level</td>
<td>Integer</td>
<td>0</td>
<td>Hashed directory structure level : 0 means &#8220;no hashed directory structure&#8221;, 1 means &#8220;one level of directory&#8221;, 2 means &#8220;two levels&#8221;... This option can speed up the cache only when you have many thousands of cache files. Only specific benchs can help you to choose the perfect value for you. Maybe, 1 or 2 is a good start.</td>
</tr>
<tr class="row-odd"><td>hashed_directory_umask</td>
<td>Integer</td>
<td>0700</td>
<td>Umask for the hashed directory structure</td>
</tr>
<tr class="row-even"><td>file_name_prefix</td>
<td>String</td>
<td>&#8216;zend_cache&#8217;</td>
<td>prefix for cache files ; be really careful with this option because a too generic value in a system cache dir (like /tmp) can cause disasters when cleaning the cache</td>
</tr>
<tr class="row-odd"><td>cache_file_umask</td>
<td>Integer</td>
<td>0700</td>
<td>umask for cache files</td>
</tr>
<tr class="row-even"><td>metatadatas_array_max_size</td>
<td>Integer</td>
<td>100</td>
<td>internal max size for the metadatas array (don&#8217;t change this value unless you know what you are doing)</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="zend-cache-backend-sqlite">
<span id="zend-cache-backends-sqlite"></span><h2>Zend_Cache_Backend_Sqlite<a class="headerlink" href="#zend-cache-backend-sqlite" title="Permalink to this headline">¶</a></h2>
<p>This (extended) backends stores cache records into a SQLite database.</p>
<p>Available options are :</p>
<table border="1" class="docutils" id="zend-cache-backends-sqlite-table">
<caption>Sqlite Backend Options</caption>
<colgroup>
<col width="8%" />
<col width="2%" />
<col width="3%" />
<col width="86%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Option</th>
<th class="head">Data Type</th>
<th class="head">Default Value</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>cache_db_complete_path (mandatory)</td>
<td>String</td>
<td>NULL</td>
<td>The complete path (filename included) of the SQLite database</td>
</tr>
<tr class="row-odd"><td>automatic_vacuum_factor</td>
<td>Integer</td>
<td>10</td>
<td>Disable / Tune the automatic vacuum process. The automatic vacuum process defragment the database file (and make it smaller) when a clean() or delete() is called: 0 means no automatic vacuum ; 1 means systematic vacuum (when delete() or clean() methods are called) ; x (integer) &gt; 1 =&gt; automatic vacuum randomly 1 times on x clean() or delete().</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="zend-cache-backend-memcached">
<span id="zend-cache-backends-memcached"></span><h2>Zend_Cache_Backend_Memcached<a class="headerlink" href="#zend-cache-backend-memcached" title="Permalink to this headline">¶</a></h2>
<p>This (extended) backends stores cache records into a memcached server. <a class="reference external" href="http://www.danga.com/memcached/">memcached</a> is a high-performance,
distributed memory object caching system. To use this backend, you need a memcached daemon and <a class="reference external" href="http://pecl.php.net/package/memcache">the memcache PECL
extension</a>.</p>
<p>Be careful : with this backend, &#8220;tags&#8221; are not supported for the moment as the &#8220;doNotTestCacheValidity=true&#8221;
argument.</p>
<p>Available options are :</p>
<table border="1" class="docutils" id="zend-cache-backends-memcached-table">
<caption>Memcached Backend Options</caption>
<colgroup>
<col width="2%" />
<col width="1%" />
<col width="22%" />
<col width="75%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Option</th>
<th class="head">Data Type</th>
<th class="head">Default Value</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>servers</td>
<td>Array</td>
<td>array(array(&#8216;host&#8217; =&gt; &#8216;localhost&#8217;, &#8216;port&#8217; =&gt; 11211, &#8216;persistent&#8217; =&gt; true, &#8216;weight&#8217; =&gt; 1, &#8216;timeout&#8217; =&gt; 5, &#8216;retry_interval&#8217; =&gt; 15, &#8216;status&#8217; =&gt; true, &#8216;failure_callback&#8217; =&gt; &#8216;&#8217; ))</td>
<td>An array of memcached servers ; each memcached server is described by an associative array : &#8216;host&#8217; =&gt; (string) : the name of the memcached server, &#8216;port&#8217; =&gt; (int) : the port of the memcached server, &#8216;persistent&#8217; =&gt; (bool) : use or not persistent connections to this memcached server &#8216;weight&#8217; =&gt; (int) :the weight of the memcached server, &#8216;timeout&#8217; =&gt; (int) :the time out of the memcached server, &#8216;retry_interval&#8217; =&gt; (int) :the retry interval of the memcached server, &#8216;status&#8217; =&gt; (bool) :the status of the memcached server, &#8216;failure_callback&#8217; =&gt; (callback) : the failure_callback of the memcached server</td>
</tr>
<tr class="row-odd"><td>compression</td>
<td>Boolean</td>
<td>FALSE</td>
<td>TRUE if you want to use on-the-fly compression</td>
</tr>
<tr class="row-even"><td>compatibility</td>
<td>Boolean</td>
<td>FALSE</td>
<td>TRUE if you want to use this compatibility mode with old memcache servers or extensions</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="zend-cache-backend-apc">
<span id="zend-cache-backends-apc"></span><h2>Zend_Cache_Backend_Apc<a class="headerlink" href="#zend-cache-backend-apc" title="Permalink to this headline">¶</a></h2>
<p>This (extended) backends stores cache records in shared memory through the <a class="reference external" href="http://pecl.php.net/package/APC">APC</a> (Alternative <em>PHP</em> Cache)
extension (which is of course need for using this backend).</p>
<p>Be careful : with this backend, &#8220;tags&#8221; are not supported for the moment as the &#8220;doNotTestCacheValidity=true&#8221;
argument.</p>
<p>There is no option for this backend.</p>
</div>
<div class="section" id="zend-cache-backend-xcache">
<span id="zend-cache-backends-xcache"></span><h2>Zend_Cache_Backend_Xcache<a class="headerlink" href="#zend-cache-backend-xcache" title="Permalink to this headline">¶</a></h2>
<p>This backends stores cache records in shared memory through the <a class="reference external" href="http://xcache.lighttpd.net/">XCache</a> extension (which is of course need for
using this backend).</p>
<p>Be careful : with this backend, &#8220;tags&#8221; are not supported for the moment as the &#8220;doNotTestCacheValidity=true&#8221;
argument.</p>
<p>Available options are :</p>
<table border="1" class="docutils" id="zend-cache-backends-xcache-table">
<caption>Xcache Backend Options</caption>
<colgroup>
<col width="8%" />
<col width="8%" />
<col width="12%" />
<col width="72%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Option</th>
<th class="head">Data Type</th>
<th class="head">Default Value</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>user</td>
<td>String</td>
<td>NULL</td>
<td>xcache.admin.user, necessary for the clean() method</td>
</tr>
<tr class="row-odd"><td>password</td>
<td>String</td>
<td>NULL</td>
<td>xcache.admin.pass (in clear form, not MD5), necessary for the clean() method</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="zend-cache-backend-zendplatform">
<span id="zend-cache-backends-platform"></span><h2>Zend_Cache_Backend_ZendPlatform<a class="headerlink" href="#zend-cache-backend-zendplatform" title="Permalink to this headline">¶</a></h2>
<p>This backend uses content caching <em>API</em> of the <a class="reference external" href="http://www.zend.com/en/products/platform/">Zend Platform</a> product. Naturally, to use this backend you need to
have Zend Platform installed.</p>
<p>This backend supports tags, but does not support <tt class="docutils literal"><span class="pre">CLEANING_MODE_NOT_MATCHING_TAG</span></tt> cleaning mode.</p>
<p>Specify this backend using a word separator &#8211; &#8216;-&#8216;, &#8216;.&#8217;, &#8216; &#8216;, or &#8216;_&#8217; &#8211; between the words &#8216;Zend&#8217; and &#8216;Platform&#8217;
when using the <tt class="docutils literal"><span class="pre">Zend_Cache::factory()</span></tt> method:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$cache</span> <span class="o">=</span> <span class="nx">Zend_Cache</span><span class="o">::</span><span class="na">factory</span><span class="p">(</span><span class="s1">&#39;Core&#39;</span><span class="p">,</span> <span class="s1">&#39;Zend Platform&#39;</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>There are no options for this backend.</p>
</div>
<div class="section" id="zend-cache-backend-twolevels">
<span id="zend-cache-backends-twolevels"></span><h2>Zend_Cache_Backend_TwoLevels<a class="headerlink" href="#zend-cache-backend-twolevels" title="Permalink to this headline">¶</a></h2>
<p>This (extend) backend is an hybrid one. It stores cache records in two other backends : a fast one (but limited)
like Apc, Memcache... and a &#8220;slow&#8221; one like File, Sqlite...</p>
<p>This backend will use the priority parameter (given at the frontend level when storing a record) and the remaining
space in the fast backend to optimize the usage of these two backends.</p>
<p>Specify this backend using a word separator &#8211; &#8216;-&#8216;, &#8216;.&#8217;, &#8216; &#8216;, or &#8216;_&#8217; &#8211; between the words &#8216;Two&#8217; and &#8216;Levels&#8217; when
using the <tt class="docutils literal"><span class="pre">Zend_Cache::factory()</span></tt> method:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$cache</span> <span class="o">=</span> <span class="nx">Zend_Cache</span><span class="o">::</span><span class="na">factory</span><span class="p">(</span><span class="s1">&#39;Core&#39;</span><span class="p">,</span> <span class="s1">&#39;Two Levels&#39;</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>Available options are :</p>
<table border="1" class="docutils" id="zend-cache-backends-twolevels-table">
<caption>TwoLevels Backend Options</caption>
<colgroup>
<col width="11%" />
<col width="4%" />
<col width="5%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Option</th>
<th class="head">Data Type</th>
<th class="head">Default Value</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>slow_backend</td>
<td>String</td>
<td>File</td>
<td>the &#8220;slow&#8221; backend name</td>
</tr>
<tr class="row-odd"><td>fast_backend</td>
<td>String</td>
<td>Apc</td>
<td>the &#8220;fast&#8221; backend name</td>
</tr>
<tr class="row-even"><td>slow_backend_options</td>
<td>Array</td>
<td>array()</td>
<td>the &#8220;slow&#8221; backend options</td>
</tr>
<tr class="row-odd"><td>fast_backend_options</td>
<td>Array</td>
<td>array()</td>
<td>the &#8220;fast&#8221; backend options</td>
</tr>
<tr class="row-even"><td>slow_backend_custom_naming</td>
<td>Boolean</td>
<td>FALSE</td>
<td>if TRUE, the slow_backend argument is used as a complete class name; if FALSE, the frontend argument is used as the end of &#8220;Zend_Cache_Backend_[...]&#8221; class name</td>
</tr>
<tr class="row-odd"><td>fast_backend_custom_naming</td>
<td>Boolean</td>
<td>FALSE</td>
<td>if TRUE, the fast_backend argument is used as a complete class name; if FALSE, the frontend argument is used as the end of &#8220;Zend_Cache_Backend_[...]&#8221; class name</td>
</tr>
<tr class="row-even"><td>slow_backend_autoload</td>
<td>Boolean</td>
<td>FALSE</td>
<td>if TRUE, there will no require_once for the slow backend (useful only for custom backends)</td>
</tr>
<tr class="row-odd"><td>fast_backend_autoload</td>
<td>Boolean</td>
<td>FALSE</td>
<td>if TRUE, there will no require_once for the fast backend (useful only for custom backends)</td>
</tr>
<tr class="row-even"><td>auto_refresh_fast_cache</td>
<td>Boolean</td>
<td>TRUE</td>
<td>if TRUE, auto refresh the fast cache when a cache record is hit</td>
</tr>
<tr class="row-odd"><td>stats_update_factor</td>
<td>Integer</td>
<td>10</td>
<td>disable / tune the computation of the fast backend filling percentage (when saving a record into cache, computation of the fast backend filling percentage randomly 1 times on x cache writes)</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="zend-cache-backend-zendserver-disk-and-zend-cache-backend-zendserver-shmem">
<span id="zend-cache-backends-zendserver"></span><h2>Zend_Cache_Backend_ZendServer_Disk and Zend_Cache_Backend_ZendServer_ShMem<a class="headerlink" href="#zend-cache-backend-zendserver-disk-and-zend-cache-backend-zendserver-shmem" title="Permalink to this headline">¶</a></h2>
<p>These backends store cache records using <a class="reference external" href="http://www.zend.com/en/products/server/downloads-all?zfs=zf_download">Zend Server</a> caching functionality.</p>
<p>Be careful: with these backends, &#8220;tags&#8221; are not supported for the moment as the &#8220;doNotTestCacheValidity=true&#8221;
argument.</p>
<p>These backend work only withing Zend Server environment for pages requested through <em>HTTP</em> or <em>HTTPS</em> and don&#8217;t
work for command line script execution</p>
<p>Specify this backend using parameter <strong>customBackendNaming</strong> as <tt class="docutils literal"><span class="pre">TRUE</span></tt> when using the <tt class="docutils literal"><span class="pre">Zend_Cache::factory()</span></tt>
method:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$cache</span> <span class="o">=</span> <span class="nx">Zend_Cache</span><span class="o">::</span><span class="na">factory</span><span class="p">(</span><span class="s1">&#39;Core&#39;</span><span class="p">,</span> <span class="s1">&#39;Zend_Cache_Backend_ZendServer_Disk&#39;</span><span class="p">,</span>
                             <span class="nv">$frontendOptions</span><span class="p">,</span> <span class="nv">$backendOptions</span><span class="p">,</span> <span class="k">false</span><span class="p">,</span> <span class="k">true</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>There is no option for this backend.</p>
</div>
<div class="section" id="zend-cache-backend-static">
<span id="zend-cache-backends-static"></span><h2>Zend_Cache_Backend_Static<a class="headerlink" href="#zend-cache-backend-static" title="Permalink to this headline">¶</a></h2>
<p>This backend works in concert with <tt class="docutils literal"><span class="pre">Zend_Cache_Frontend_Capture</span></tt> (the two must be used together) to save the
output from requests as static files. This means the static files are served directly on subsequent requests
without any involvement of <em>PHP</em> or Zend Framework at all.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><tt class="docutils literal"><span class="pre">Zend_Cache_Frontend_Capture</span></tt> operates by registering a callback function to be called when the output
buffering it uses is cleaned. In order for this to operate correctly, it must be the final output buffer in the
request. To guarantee this, the output buffering used by the Dispatcher <strong>must</strong> be disabled by calling
<tt class="docutils literal"><span class="pre">Zend_Controller_Front</span></tt>&#8216;s <tt class="docutils literal"><span class="pre">setParam()</span></tt> method, for example, <tt class="docutils literal"><span class="pre">$front-&gt;setParam('disableOutputBuffering',</span>
<span class="pre">true);</span></tt> or adding &#8220;resources.frontcontroller.params.disableOutputBuffering = true&#8221; to your bootstrap
configuration file (assumed <em>INI</em>) if using <tt class="docutils literal"><span class="pre">Zend_Application</span></tt>.</p>
</div>
<p>The benefits of this cache include a large throughput increase since all subsequent requests return the static file
and don&#8217;t need any dynamic processing. Of course this also has some disadvantages. The only way to retry the
dynamic request is to purge the cached file from elsewhere in the application (or via a cronjob if timed). It is
also restricted to single-server applications where only one filesystem is used. Nevertheless, it can be a powerful
means of getting more performance without incurring the cost of a proxy on single machines.</p>
<p>Before describing its options, you should note this needs some changes to the default <tt class="docutils literal"><span class="pre">.htaccess</span></tt> file in order
for requests to be directed to the static files if they exist. Here&#8217;s an example of a simple application caching
some content, including two specific feeds which need additional treatment to serve a correct Content-Type header:</p>
<div class="highlight-text"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24</pre></div></td><td class="code"><div class="highlight"><pre>AddType application/rss+xml .xml
AddType application/atom+xml .xml

RewriteEngine On

RewriteCond %{REQUEST_URI} feed/rss$
RewriteCond %{DOCUMENT_ROOT}/cached/%{REQUEST_URI}.xml -f
RewriteRule .* cached/%{REQUEST_URI}.xml [L,T=application/rss+xml]

RewriteCond %{REQUEST_URI} feed/atom$
RewriteCond %{DOCUMENT_ROOT}/cached/%{REQUEST_URI}.xml -f
RewriteRule .* cached/%{REQUEST_URI}.xml [L,T=application/atom+xml]

RewriteCond %{DOCUMENT_ROOT}/cached/index.html -f
RewriteRule ^/*$ cached/index.html [L]
RewriteCond %{DOCUMENT_ROOT}/cached/%{REQUEST_URI}.(html|xml|json|opml|svg) -f
RewriteRule .* cached/%{REQUEST_URI}.%1 [L]

RewriteCond %{REQUEST_FILENAME} -s [OR]
RewriteCond %{REQUEST_FILENAME} -l [OR]
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule ^.*$ - [NC,L]

RewriteRule ^.*$ index.php [NC,L]
</pre></div>
</td></tr></table></div>
<p>The above assumes static files are cached to the directory <tt class="docutils literal"><span class="pre">./public/cached</span></tt>. We&#8217;ll cover the option setting this
location, &#8220;public_dir&#8221;, below.</p>
<p>Due to the nature of static file caching, the backend class offers two additional methods: <tt class="docutils literal"><span class="pre">remove()</span></tt> and
<tt class="docutils literal"><span class="pre">removeRecursively()</span></tt>. Both accept a request <em>URI</em>, which when mapped to the &#8220;public_dir&#8221; where static files are
cached, and has a pre-stored extension appended, provides the name of either a static file to delete, or a
directory path to delete recursively. Due to the restraints of <tt class="docutils literal"><span class="pre">Zend_Cache_Backend_Interface</span></tt>, all other methods
such as <tt class="docutils literal"><span class="pre">save()</span></tt> accept an ID which is calculated by applying <tt class="docutils literal"><span class="pre">bin2hex()</span></tt> to a request <em>URI</em>.</p>
<p>Given the level at which static caching operates, static file caching is addressed for simpler use with the
<tt class="docutils literal"><span class="pre">Zend_Controller_Action_Helper_Cache</span></tt> action helper. This helper assists in setting which actions of a controller
to cache, with what tags, and with which extension. It also offers methods for purging the cache by request <em>URI</em>
or tag. Static file caching is also assisted by <tt class="docutils literal"><span class="pre">Zend_Cache_Manager</span></tt> which includes pre-configured configuration
templates for a static cache (as <tt class="docutils literal"><span class="pre">Zend_Cache_Manager::PAGECACHE</span></tt> or &#8220;page&#8221;). The defaults therein can be
configured as needed to set up a &#8220;public_dir&#8221; location for caching, etc.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">It should be noted that the static cache actually uses a secondary cache to store tags (obviously we can&#8217;t store
them elsewhere since a static cache does not invoke <em>PHP</em> if working correctly). This is just a standard Core
cache, and should use a persistent backend such as File or TwoLevels (to take advantage of memory storage
without sacrificing permanent persistance). The backend includes the option &#8220;tag_cache&#8221; to set this up (it is
obligatory), or the <tt class="docutils literal"><span class="pre">setInnerCache()</span></tt> method.</p>
</div>
<table border="1" class="docutils" id="zend-cache-backends-static-table">
<caption>Static Backend Options</caption>
<colgroup>
<col width="6%" />
<col width="3%" />
<col width="4%" />
<col width="87%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Option</th>
<th class="head">Data Type</th>
<th class="head">Default Value</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>public_dir</td>
<td>String</td>
<td>NULL</td>
<td>Directory where to store static files. This must exist in your public directory.</td>
</tr>
<tr class="row-odd"><td>file_locking</td>
<td>Boolean</td>
<td>TRUE</td>
<td>Enable or disable file_locking : Can avoid cache corruption under bad circumstances but it doesn&#8217;t help on multithread webservers or on NFS filesystems...</td>
</tr>
<tr class="row-even"><td>read_control</td>
<td>Boolean</td>
<td>TRUE</td>
<td>Enable / disable read control : if enabled, a control key is embedded in the cache file and this key is compared with the one calculated after the reading.</td>
</tr>
<tr class="row-odd"><td>read_control_type</td>
<td>String</td>
<td>&#8216;crc32&#8217;</td>
<td>Type of read control (only if read control is enabled). Available values are : &#8216;md5&#8217; (best but slowest), &#8216;crc32&#8217; (lightly less safe but faster, better choice), &#8216;adler32&#8217; (new choice, faster than crc32), &#8216;strlen&#8217; for a length only test (fastest).</td>
</tr>
<tr class="row-even"><td>cache_file_umask</td>
<td>Integer</td>
<td>0700</td>
<td>umask for cached files.</td>
</tr>
<tr class="row-odd"><td>cache_directory_umask</td>
<td>Integer</td>
<td>0700</td>
<td>Umask for directories created within public_dir.</td>
</tr>
<tr class="row-even"><td>file_extension</td>
<td>String</td>
<td>&#8216;.html&#8217;</td>
<td>Default file extension for static files created. This can be configured on the fly, see Zend_Cache_Backend_Static::save() though generally it&#8217;s recommended to rely on Zend_Controller_Action_Helper_Cache when doing so since it&#8217;s simpler that way than messing with arrays or serialization manually.</td>
</tr>
<tr class="row-odd"><td>index_filename</td>
<td>String</td>
<td>&#8216;index&#8217;</td>
<td>If a request URI does not contain sufficient information to construct a static file (usually this means an index call, e.g. URI of &#8216;/&#8217;), the index_filename is used instead. So &#8216;&#8217; or &#8216;/&#8217; would map to &#8216;index.html&#8217; (assuming the default file_extension is &#8216;.html&#8217;).</td>
</tr>
<tr class="row-even"><td>tag_cache</td>
<td>Object</td>
<td>NULL</td>
<td>Used to set an &#8216;inner&#8217; cache utilised to store tags and file extensions associated with static files. This must be set or the static cache cannot be tracked and managed.</td>
</tr>
<tr class="row-odd"><td>disable_caching</td>
<td>Boolean</td>
<td>FALSE</td>
<td>If set to TRUE, static files will not be cached. This will force all requests to be dynamic even if marked to be cached in Controllers. Useful for debugging.</td>
</tr>
</tbody>
</table>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/zf2_logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Zend_Cache Backends</a><ul>
<li><a class="reference internal" href="#zend-cache-backend-file">Zend_Cache_Backend_File</a></li>
<li><a class="reference internal" href="#zend-cache-backend-sqlite">Zend_Cache_Backend_Sqlite</a></li>
<li><a class="reference internal" href="#zend-cache-backend-memcached">Zend_Cache_Backend_Memcached</a></li>
<li><a class="reference internal" href="#zend-cache-backend-apc">Zend_Cache_Backend_Apc</a></li>
<li><a class="reference internal" href="#zend-cache-backend-xcache">Zend_Cache_Backend_Xcache</a></li>
<li><a class="reference internal" href="#zend-cache-backend-zendplatform">Zend_Cache_Backend_ZendPlatform</a></li>
<li><a class="reference internal" href="#zend-cache-backend-twolevels">Zend_Cache_Backend_TwoLevels</a></li>
<li><a class="reference internal" href="#zend-cache-backend-zendserver-disk-and-zend-cache-backend-zendserver-shmem">Zend_Cache_Backend_ZendServer_Disk and Zend_Cache_Backend_ZendServer_ShMem</a></li>
<li><a class="reference internal" href="#zend-cache-backend-static">Zend_Cache_Backend_Static</a></li>
</ul>
</li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/modules/zend.cache.backends.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li><a href="../index.html">Zend Framework 2 2.0.0beta5 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Zend Technologies Ltd..
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>